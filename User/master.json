{
  "surveys": {
    "default_surveys": {
      "autism_quotient.csv": [
        [
          "item_name",
          "text",
          "Type",
          "Answers",
          "Values",
          "Score: AQ_Test",
          "Score: Social_Skill",
          "Score: Attention_switching",
          "Score: Communication",
          "Score: Imagination",
          "Score: Attention_to_detail",
          "Optional",
          "btn_width"
        ],
        [
          "Instructions1",
          "<span style='color:#006699'><span style='font-size:20px'>Choose one response that best describes how strongly each item applies to you:</span></span>",
          "Instruct",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "AQ1",
          "I prefer to do things with others rather than on my own.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "r1",
          "",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ2",
          "I prefer to do things the same way over and over again.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "1",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ3",
          "If I try to imagine something, I find it very easy to create a picture in my mind.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "r1",
          "",
          "No",
          "100px"
        ],
        [
          "AQ4",
          "I frequently get so strongly absorbed in one thing that I lose sight of other things.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "1",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ5",
          "I often notice small sounds when others do not.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "",
          "1",
          "No",
          "100px"
        ],
        [
          "AQ6",
          "I usually notice car number plates or similar strings of information.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "",
          "1",
          "No",
          "100px"
        ],
        [
          "AQ7",
          "Other people frequently tell me that what I've said is impolite, even though I think it is polite.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "1",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ8",
          "When I'm reading a story, I can easily imagine what the characters might look like.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "r1",
          "",
          "No",
          "100px"
        ],
        [
          "AQ9",
          "I am fascinated by dates.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "",
          "1",
          "No",
          "100px"
        ],
        [
          "AQ10",
          "In a social group, I can easily keep track of several different people's conversations.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "r1",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ11",
          "I find social situations easy.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "r1",
          "",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ12",
          "I tend to notice details that others do not.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "",
          "1",
          "No",
          "100px"
        ],
        [
          "AQ13",
          "I would rather go to a library than a party.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "1",
          "",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ14",
          "I find making up stories easy.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "r1",
          "",
          "No",
          "100px"
        ],
        [
          "AQ15",
          "I find myself drawn more strongly to people than to things.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "r1",
          "",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ16",
          "I tend to have very strong interests which I get upset about if I can't pursue.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "1",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ17",
          "I enjoy social chit-chat.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "r1",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ18",
          "When I talk, it isn't always easy for others to get a word in edgeways.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "1",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ19",
          "I am fascinated by numbers.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "",
          "1",
          "No",
          "100px"
        ],
        [
          "AQ20",
          "When I'm reading a story, I find it difficult to work out the characters' intentions.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "1",
          "",
          "No",
          "100px"
        ],
        [
          "AQ21",
          "I don't particularly enjoy reading fiction.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "1",
          "",
          "No",
          "100px"
        ],
        [
          "AQ22",
          "I find it hard to make new friends.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "1",
          "",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ23",
          "I notice patterns in things all the time.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "",
          "1",
          "No",
          "100px"
        ],
        [
          "AQ24",
          "I would rather go to the theatre than a museum.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "r1",
          "",
          "No",
          "100px"
        ],
        [
          "AQ25",
          "It does not upset me if my daily routine is disturbed.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "r1",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ26",
          "I frequently find that I don't know how to keep a conversation going.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "1",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ27",
          "I find it easy to 'read between the lines' when someone is talking to me.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "r1",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ28",
          "I usually concentrate more on the whole picture, rather than the small details.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "",
          "r1",
          "No",
          "100px"
        ],
        [
          "AQ29",
          "I am not very good at remembering phone numbers.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "",
          "r1",
          "No",
          "100px"
        ],
        [
          "AQ30",
          "I don't usually notice small changes in a situation, or a person's appearance.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "",
          "r1",
          "No",
          "100px"
        ],
        [
          "AQ31",
          "I know how to tell if someone listening to me is getting bored.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "r1",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ32",
          "I find it easy to do more than one thing at once.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "r1",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ33",
          "When I talk on the phone, I'm not sure when it's my turn to speak.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "1",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ34",
          "I enjoy doing things spontaneously.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "r1",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ35",
          "I am often the last to understand the point of a joke.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "1",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ36",
          "I find it easy to work out what someone is thinking or feeling just by looking at their face.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "r1",
          "",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ37",
          "If there is an interruption, I can switch back to what I was doing very quickly.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "r1",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ38",
          "I am good at social chit-chat.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "r1",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ39",
          "People often tell me that I keep going on and on about the same thing.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "1",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ40",
          "When I was young, I used to enjoy playing games involving pretending with other children.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "r1",
          "",
          "No",
          "100px"
        ],
        [
          "AQ41",
          "I like to collect information about categories of things (e.g. types of car, types of bird, types of train, types of plant, etc.).",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "1",
          "",
          "No",
          "100px"
        ],
        [
          "AQ42",
          "I find it difficult to imagine what it would be like to be someone else.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "1",
          "",
          "No",
          "100px"
        ],
        [
          "AQ43",
          "I like to plan any activities I participate in carefully.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "1",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ44",
          "I enjoy social occasions.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "r1",
          "",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ45",
          "I find it difficult to work out people's intentions.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "1",
          "",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ46",
          "New situations make me anxious.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "1",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ47",
          "I enjoy meeting new people.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "r1",
          "",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ48",
          "I am a good diplomat.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "r1",
          "",
          "",
          "",
          "",
          "No",
          "100px"
        ],
        [
          "AQ49",
          "I am not very good at remembering people's date of birth.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "",
          "r1",
          "No",
          "100px"
        ],
        [
          "AQ50",
          "I find it very easy to play games with children that involve pretending.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "r1",
          "",
          "No",
          "100px"
        ],
        [
          ""
        ]
      ],
      "consent_sheet_uor.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "optional",
          "side_by_side",
          "question_width",
          ""
        ],
        [
          "Instructions1",
          "<h2>University of Reading</h2><br>\n<div align=\"right\">School of Psychology and Clinical Language Sciences<br>\nWhiteknights<br>\nReading RG6 6AL</div>\n<br>\n<table class=\"table\">\n  <tr>\n    <td><b>Investigator(s):</b></td>\n    <td><b>Email:</b></td>\n    <td><b>Telephone:</b></td>\n  </tr>\n  <tr>\n    <td>Investigator 1</td>\n    <td>Investigator1@reading.ac.uk</td>\n    <td>-phone_number-</td>\n  </tr>\n  <tr>\n    <td>Investigator 2</td>\n    <td>Investigator2@reading.ac.uk</td>\n    <td>-phone_number-</td>\n  </tr>\n  <tr>\n    <td><b>Researcher(s):</b></td>\n  </tr>\n  <tr>\n    <td>Researcher 1</td>\n    <td>Researcher1@reading.ac.uk</td>\n    <td></td>\n  </tr>\n  <tr>\n    <td>Researcher 2</td>\n    <td>Researcher2@reading.ac.uk</td>\n    <td></td>\n  </tr>\n</table>\n\n<h2>Title of Study: [Study title]</h2>\n<h1>Consent Form</h1>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "uor_consent_1",
          "I understand that my participation in this study is voluntary and that I may withdraw any time without giving any reason.",
          "checkbox",
          "Agree",
          "1",
          "No",
          "yes",
          "70%",
          ""
        ],
        [
          "uor_consent_2",
          "I have read the information sheet about this study and the procedure of the study has been explained to me.",
          "checkbox",
          "Agree",
          "1",
          "No",
          "yes",
          "70%"
        ],
        [
          "uor_consent_3",
          "I have been given the opportunity to ask any questions that I may have about the study and these have been answered to my satisfaction.",
          "checkbox",
          "Agree",
          "1",
          "No",
          "yes",
          "70%",
          ""
        ],
        [
          "uor_consent_4",
          "I understand that the data collected from me in this study will be preserved and made available in anonymised form, so that they can be consulted and re-used by others.",
          "checkbox",
          "Agree",
          "1",
          "No",
          "yes",
          "70%",
          ""
        ],
        [
          "uor_consent_5",
          "I am happy to be contacted about future studies (optional)",
          "checkbox",
          "Agree",
          "1",
          "No",
          "yes",
          "70%",
          ""
        ],
        [
          "uor_consent_6",
          "First name",
          "text",
          "Agree",
          "1",
          "No",
          "yes",
          "70%",
          ""
        ],
        [
          "uor_consent_7",
          "Last name",
          "text",
          "Agree",
          "1",
          "No",
          "yes",
          "70%",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "demographics.csv": [
        [
          "item_name",
          "text",
          "Type",
          "Answers",
          "Optional",
          "Values",
          "side_by_side",
          "btn_width"
        ],
        [
          "Gender",
          "Gender",
          "likert",
          "Male|Female|Other",
          "No",
          "",
          "yes",
          "100px"
        ],
        [
          "Age",
          "Age",
          "Number",
          "",
          "No",
          "",
          "",
          ""
        ],
        [
          "Education",
          "Education (which level are you currently in, or is the highest you've completed)",
          "Dropdown",
          "Some high school| High school graduate| Some college, no degree| Associate's degree| Bachelor's degree|Graduate degree (Master's, Doctorate, etc.)",
          "No",
          "",
          "",
          ""
        ],
        [
          "English_Fluency",
          "Do you speak English fluently?",
          "likert",
          "Yes|No",
          "No",
          "",
          "yes",
          "200px"
        ],
        [
          "English_Age",
          "At what age did you start learning English? (write \"0\" if from birth)",
          "Number",
          "",
          "No",
          "",
          "",
          ""
        ],
        [
          "Country",
          "What is your country of residence?",
          "Text",
          "",
          "No",
          "",
          "",
          ""
        ],
        [
          "Handedness",
          "What is your preferred hand?",
          "Likert",
          "Left|Right|Both",
          "No",
          "",
          "yes",
          "100px"
        ],
        [
          "ethnicity",
          "If you would like to please state your ethnicity",
          "Text",
          "",
          "Yes",
          "",
          "",
          ""
        ],
        [
          ""
        ]
      ],
      "empathy_quotient_40.csv": [
        [
          "item_name",
          "text",
          "Type",
          "Answers",
          "Values",
          "Score: EQ_Test",
          "Score: Cognitive",
          "Score: Social_Skills",
          "Score: Emotional_Reactivity",
          "optional"
        ],
        [
          "Instructions1",
          "Choose one response that best describes how strongly each item applies to you:",
          "Instruct",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "EQ1",
          "I can easily tell if someone else wants to enter a conversation.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "1",
          "",
          "",
          "no"
        ],
        [
          "EQ4",
          "I find it difficult to explain to others things that I understand easily, when they don’t understand it the first time.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "r1",
          "",
          "no"
        ],
        [
          "EQ6",
          "I really enjoy caring for other people.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "",
          "",
          "1",
          "no"
        ],
        [
          "EQ8",
          "I find it hard to know what to do in a social situation.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "r1",
          "",
          "no"
        ],
        [
          "EQ10",
          "People often tell me that I went too far in driving my point home in a discussion.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "",
          "",
          "no"
        ],
        [
          "EQ11",
          "It doesn’t bother me too much if I am late meeting a friend.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "",
          "",
          "no"
        ],
        [
          "EQ12",
          "Friendships and relationships are just too difficult, so I tend not to bother with them.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "r1",
          "",
          "no"
        ],
        [
          "EQ14",
          "I often find it difficult to judge if something is rude or polite.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "r1",
          "",
          "no"
        ],
        [
          "EQ15",
          "In a conversation, I tend to focus on my own thoughts rather than on what my listener might be thinking.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "",
          "",
          "no"
        ],
        [
          "EQ18",
          "When I was a child, I enjoyed cutting up worms to see what would happen.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "",
          "",
          "no"
        ],
        [
          "EQ19",
          "I can pick up quickly if someone says one thing but means another.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "1",
          "",
          "",
          "no"
        ],
        [
          "EQ21",
          "It is hard for me to see why some things upset people so much.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "",
          "r1",
          "no"
        ],
        [
          "EQ22",
          "I find it easy to put myself in somebody else’s shoes.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "",
          "",
          "1",
          "no"
        ],
        [
          "EQ25",
          "I am good at predicting how someone will feel.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "1",
          "",
          "",
          "no"
        ],
        [
          "EQ26",
          "I am quick to spot when someone in a group is feeling awkward or uncomfortable.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "1",
          "",
          "",
          "no"
        ],
        [
          "EQ27",
          "If I say something that someone else is offended by, I think that that’s their problem, not mine.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "",
          "r1",
          "no"
        ],
        [
          "EQ28",
          "If anyone asked me if I liked their haircut, I would reply truthfully, even if I didn’t like it.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "",
          "",
          "no"
        ],
        [
          "EQ29",
          "I can’t always see why someone should have felt offended by a remark.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "",
          "r1",
          "no"
        ],
        [
          "EQ32",
          "Seeing people cry doesn’t really upset me.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "",
          "r1",
          "no"
        ],
        [
          "EQ34",
          "I am very blunt, which some people take to be rudeness, even though this is unintentional.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "",
          "",
          "no"
        ],
        [
          "EQ35",
          "I do not tend to find social situations confusing.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "",
          "1",
          "",
          "no"
        ],
        [
          "EQ36",
          "Other people tell me I am good at understanding how they are feeling and what they are thinking.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "1",
          "",
          "",
          "no"
        ],
        [
          "EQ37",
          "When I talk to people, I tend to talk about their experiences rather than my own.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "",
          "",
          "",
          "no"
        ],
        [
          "EQ38",
          "It upsets me to see an animal in pain.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "",
          "",
          "",
          "no"
        ],
        [
          "EQ39",
          "I am able to make decisions without being influenced by people’s feelings.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "",
          "",
          "no"
        ],
        [
          "EQ41",
          "I can easily tell if someone else is interested or bored with what I am saying.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "1",
          "",
          "",
          "no"
        ],
        [
          "EQ42",
          "I get upset if I see people suffering on news programs.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "",
          "",
          "1",
          "no"
        ],
        [
          "EQ43",
          "Friends usually talk to me about their problems as they say that I am very understanding.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "",
          "",
          "1",
          "no"
        ],
        [
          "EQ44",
          "I can sense if I am intruding, even if the other person doesn’t tell me.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "1",
          "",
          "",
          "no"
        ],
        [
          "EQ46",
          "People sometimes tell me that I have gone too far with teasing.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "",
          "",
          "no"
        ],
        [
          "EQ48",
          "Other people often say that I am insensitive, though I don’t always see why.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "",
          "r1",
          "no"
        ],
        [
          "EQ49",
          "If I see a stranger in a group, I think that it is up to them to make an effort to join in.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "",
          "",
          "no"
        ],
        [
          "EQ50",
          "I usually stay emotionally detached when watching a film.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "r1",
          "",
          "",
          "r1",
          "no"
        ],
        [
          "EQ52",
          "I can tune into how someone else feels rapidly and intuitively.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "1",
          "",
          "",
          "no"
        ],
        [
          "EQ54",
          "I can easily work out what another person might want to talk about.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "1",
          "",
          "",
          "no"
        ],
        [
          "EQ55",
          "I can tell if someone is masking their true emotion.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "1",
          "",
          "",
          "no"
        ],
        [
          "EQ57",
          "I don’t consciously work out the rules of social situations.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "",
          "1",
          "",
          "no"
        ],
        [
          "EQ58",
          "I am good at predicting what someone will do.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "1",
          "",
          "",
          "no"
        ],
        [
          "EQ59",
          "I tend to get emotionally involved with a friend’s problems.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "",
          "",
          "1",
          "no"
        ],
        [
          "EQ60",
          "I can usually appreciate the other person’s viewpoint, even if I don’t agree with it.",
          "likert",
          "Strongly agree|Slightly agree|Slightly disagree|Strongly disagree",
          "2|1|0|0",
          "1",
          "",
          "",
          "",
          "no"
        ],
        [
          ""
        ]
      ],
      "info_sheet.csv": [
        [
          "item_name",
          "text",
          "Type",
          "Answers",
          "Values",
          "Optional",
          "side_by_side"
        ],
        [
          "Instructions1",
          "<h1>PARTICIPANT INFORMATION SHEET </h1>\n\n<h2>Title of Project:  <u><span style='color:#f20707'>[[Your project title]]</span></u>.</h2>\n\n<h3>Name of Lead Investigator:  <span style='color:#f20707'>[[Investigator]]</span> ([[<span style='color:#f20707'>Institute</span>]]) </h3>\n\n<h4>Invitation paragraph</h4>\nYou have been invited to take part in a research study.  Before you decide whether to take part it is important for you to understand why the research is being done and what it will involve.  Please take time to read the following information carefully and discuss it with friends and relatives if you wish to. Ask us if there is anything that is not clear or if you would like more information. Take time to decide whether you wish to take part or not.  Thank you for reading this.<br><br>\n\n<h4>What is the study about?</h4>\n<span style='color:#f20707'>[[describe your experiment here]]</span>.<br><br>\n\n<h4>What does the study involve?</h4>\n<span style='color:#f20707'>[[what the participant will do]]</span> <br><br>\n\n<h4>Why have I been chosen?</h4>\n<span style='color:#f20707'>[[criterion, e.g. age, etc.]]</span>  <br><br>\n\n<h4>Do I have to take part?</h4>\nIt is up to you to decide whether or not to take part.  If you do decide to take part you will be given this information sheet to keep and be asked to sign a consent form.  If you decide to take part you are still free to withdraw at any time during the data collection without giving a reason.<br><br>\n\n<h4>I am interested in taking part, what do I do next?</h4>\nPlease find a quiet room with minimal distractions. Please ensure you have a good internet connection on a PC / laptop / tablet device. <span style='color:#070ff2'>[[optional: Please do not run the study on a mobile phone]]</span>. Make sure that you have about <span style='color:#f20707'>[[time needed]]</span> minutes time to complete the study. Once ready please follow the link to the online study.<br><br>\n\n<h4>What if I agree to take part and then change my mind?</h4>\nThat is fine. If you decide to withdraw you would need to provide your participation ID to the researchers. The researcher will then delete all the data generated by that ID from their computers. <br><br>\n\n<h4>What are the possible disadvantages and risks of taking part?</h4>\n <span style='color:#f20707'>[[describe risks etc. here]]</span><br><br>\n\n<h4>What are the possible benefits of taking part? </h4>\n<span style='color:#f20707'>[[benefits here]]</span> <br><br>\n\n<h4>Who can I complain to?</h4>\nIf you have a complaint regarding anything to do with this study, you can initially approach the lead investigator <span style='color:#f20707'>[[lead investigator]]</span> (<span style='color:#f20707'>[[lead_investigator_email]]</span>).  If this achieves no satisfactory outcome, you should then contact <span style='color:#f20707'>[[person to contact next]]</span><br><br>\n\n<h4>Will my taking part in this study be kept confidential?</h4>\nAll information which is collected about you during the course of the research will be kept on a password protected database and is strictly confidential. You will be given an ID code which will be used instead of your name. Your data will be shared with the following collaborators: <br> <span style='color:#f20707'>[[list of collaborators]]</span>\n<br><br>\n\n<span style='color:#070ff2'>[[optional: Your anonymised data can be shared with other research teams interested in understating it further.]]</span><br>\nThe raw data will be stored for up to 10 years after a study has been completed.<br> Members of the faculty human research ethics committee may require access to check that the study has been conducted in accordance with the approval. <br>\n\n\n<h4>What will happen to the results of the research study?</h4>\nThe results based on performance of the group of participants will be then analysed and submitted for publication in peer reviewed scientific journals. <br><br>\n\n<h4>Who is organising and funding the research?</h4>\n<br><br><span style='color:#f20707'>[[information about researchers and funders here]]</span>\n\n<h4>Who has reviewed the study?</h4>\nThis study has been reviewed and approved by <span style='color:#f20707'>[[your ethics committee]]</span>.<br><br>\n<br>\n<h4>How is data secured?</h4>\nData is encrypted in Collector on the participant's computer. This data cannot be decrypted without the researcher's password. For more information, go to: <a target=\"_blank\" href=\"https://some-open-solutions.github.io/collector/encryption.html\">https://some-open-solutions.github.io/collector/encryption.html</a>\n<h4>Contact for Further Information</h4>\n<span style='color:#f20707'>[[your contact information]]</span>",
          "Instruct",
          "",
          "",
          "",
          ""
        ],
        [
          "Info_Accept",
          "I understand these instructions and am happy to continue",
          "likert",
          "Agree",
          "1",
          "No",
          "yes"
        ],
        [
          ""
        ]
      ],
      "info_sheet_uor.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "optional",
          "side_by_side"
        ],
        [
          "Instructions1",
          "<h2>University of Reading</h2><br>\n<div align=\"right\">School of Psychology and Clinical Language Sciences<br>\nWhiteknights<br>\nReading RG6 6AL</div>\n<br>\n<table class=\"table\">\n  <tr>\n    <td><b>Investigator(s):</b></td>\n    <td><b>Email:</b></td>\n    <td><b>Telephone:</b></td>\n  </tr>\n  <tr>\n    <td>Investigator 1</td>\n    <td>Investigator1@reading.ac.uk</td>\n    <td>-phone_number-</td>\n  </tr>\n  <tr>\n    <td>Investigator 2</td>\n    <td>Investigator2@reading.ac.uk</td>\n    <td>-phone_number-</td>\n  </tr>\n  <tr>\n    <td><b>Researcher(s):</b></td>\n  </tr>\n  <tr>\n    <td>Researcher 1</td>\n    <td>Researcher1@reading.ac.uk</td>\n    <td></td>\n  </tr>\n  <tr>\n    <td>Researcher 2</td>\n    <td>Researcher2@reading.ac.uk</td>\n    <td></td>\n  </tr>\n</table>\n\n<h2>Title of Study: [Study title]</h2>\n<h1>PARTICIPANT INFORMATION SHEET </h1>\n\nWe would be grateful if you could assist us by participating in our online study [BRIEF STUDY DESCRIPTION]. <br>\n<br>\nIn the experiment you will be presented with [DESCRIPTION OF STIMULI AND PROCEDURE]. The experiment should take no longer than [MAXIMUM TIME EXPECTED]. [DESCRIPTION OF ELIGIBILITY AND EXCLUSION CRITERIA].<br>\n<br>\nYour data will be kept confidential and securely stored, with only an anonymous number identifying it. Data collected from this study will be preserved and made available in anonymised form, so that data can be re-used by others.<br>\n<br>\n[DESCRIPTION OF RISKS e.g. We foresee few risks during the experiment, but you will be presented with some negative images, which may evoke an emotional response. Thus, the study may include a mild risk of anxiety, sadness or other emotional reactions. However, those stimuli are widely observed in our daily life. If you are concerned about the images in the study then you may discontinue your participation at any time.]<br>\n<br>\nTaking part in this study is completely voluntary; you may withdraw at any time without having to give any reason. Please feel free to ask any questions that you may have about this study at any point.<br>\n<br>\n[INFORMATION ABOUT COMPENSATION - HOW MUCH AND HOW IT WILL BE DELIVERED e.g. You will receive 0.5 credits through SONA. You will receive a £5 Amazon voucher by email. You will receive £2.50 through Prolific.]<br>\n<br>\nThis application has been reviewed by the University Research Ethics Committee and has been given a favourable ethical opinion for conduct ([SREC OR UREC NUMBER]).<br>\n<br>\nIf you have any questions or concerns about the research, please feel free to contact Investigator1.<br>\n<br>\nEmail: Investigator1, Tel: +44-(0)118-378-XXXX.<br>\n<br>\nThank you for your help.",
          "instruct",
          "",
          "",
          "",
          ""
        ],
        [
          ""
        ]
      ]
    },
    "user_surveys": {
      "adhd.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "score:attention",
          "score:hyperactivity",
          "score:adhd_total",
          "optional",
          "btn_width",
          "btn_width",
          ""
        ],
        [
          "Instructions1",
          "<span style='color:#006699'><span style='font-size:20px'>Many adults have been living with Adult Attention-Deficit/Hyperactivity Disorder (Adult ADHD) and\r\ndon’t recognize it.Why? Because its symptoms are often mistaken for a stressful life. If you’ve felt\r\nthis type of frustration most of your life, you may have Adult ADHD – a condition your doctor can\r\nhelp diagnose and treat.<br>\r\n<br>\r\n\r\nThe following questionnaire can be used as a starting point to help you recognize the signs/symptoms of Adult ADHD but is not meant to replace consultation with a trained healthcare professional. An accurate diagnosis can only be made through a clinical evaluation. Regardless of the questionnaire results, if you have concerns about diagnosis and treatment of Adult ADHD, please discuss your concerns with your physician. </span></span>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "adhd1",
          "How often do you have trouble wrapping up the final details of a project, once the challenging parts have been done?",
          "likert",
          "Never|Rarely|Sometimes|Often|Very Often",
          "0|1|2|3|4",
          "1",
          "",
          "1",
          "No",
          "100px",
          "150px",
          ""
        ],
        [
          "adhd2",
          "How often do you have difficulty getting things in order when you have to do a task that requires organization?",
          "likert",
          "Never|Rarely|Sometimes|Often|Very Often",
          "0|1|2|3|4",
          "1",
          "",
          "1",
          "No",
          "100px",
          "150px",
          ""
        ],
        [
          "adhd3",
          "How often do you have problems remembering appointments or obligations?",
          "likert",
          "Never|Rarely|Sometimes|Often|Very Often",
          "0|1|2|3|4",
          "1",
          "",
          "1",
          "No",
          "100px",
          "150px",
          ""
        ],
        [
          "adhd4",
          "When you have a task that requires a lot of thought, how often do you avoid or delay getting started?",
          "likert",
          "Never|Rarely|Sometimes|Often|Very Often",
          "0|1|2|3|4",
          "1",
          "",
          "1",
          "No",
          "100px",
          "150px",
          ""
        ],
        [
          "adhd5",
          "How often do you fidget or squirm with your hands or feet when you have to sit down for a long time?",
          "likert",
          "Never|Rarely|Sometimes|Often|Very Often",
          "0|1|2|3|4",
          "",
          "1",
          "1",
          "No",
          "100px",
          "150px",
          ""
        ],
        [
          "adhd6",
          "How often do you feel overly active and compelled to do things, like you were driven by a motor?",
          "likert",
          "Never|Rarely|Sometimes|Often|Very Often",
          "0|1|2|3|4",
          "",
          "1",
          "1",
          "No",
          "100px",
          "150px",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "aq_short.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "score:aq_test",
          "score:social_skill",
          "score:attention_switching",
          "score:communication",
          "score:imagination",
          "score:attention_to_detail",
          "optional",
          "btn_width",
          ""
        ],
        [
          "Instructions1",
          "<span style='color:#006699'><span style='font-size:20px'>Choose one response that best describes how strongly each item applies to you:</span></span>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "AQ1",
          "I prefer to do things with others rather than on my own.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "r1",
          "",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ2",
          "I prefer to do things the same way over and over again.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "1",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ3",
          "If I try to imagine something, I find it very easy to create a picture in my mind.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "r1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ4",
          "I frequently get so strongly absorbed in one thing that I lose sight of other things.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "1",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ5",
          "I often notice small sounds when others do not.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "AQ6",
          "I usually notice car number plates or similar strings of information.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "AQ7",
          "Other people frequently tell me that what I've said is impolite, even though I think it is polite.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "1",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ8",
          "When I'm reading a story, I can easily imagine what the characters might look like.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "r1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ9",
          "I am fascinated by dates.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "AQ10",
          "In a social group, I can easily keep track of several different people's conversations.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "r1",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ11",
          "I find social situations easy.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "r1",
          "",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ12",
          "I tend to notice details that others do not.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "AQ13",
          "I would rather go to a library than a party.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "1",
          "",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ14",
          "I find making up stories easy.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "r1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ15",
          "I find myself drawn more strongly to people than to things.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "r1",
          "",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ16",
          "I tend to have very strong interests which I get upset about if I can't pursue.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "1",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ17",
          "I enjoy social chit-chat.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "r1",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ18",
          "When I talk, it isn't always easy for others to get a word in edgeways.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "1",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ19",
          "I am fascinated by numbers.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "AQ20",
          "When I'm reading a story, I find it difficult to work out the characters' intentions.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ21",
          "I don't particularly enjoy reading fiction.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ22",
          "I find it hard to make new friends.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "1",
          "",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ23",
          "I notice patterns in things all the time.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "AQ24",
          "I would rather go to the theatre than a museum.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "r1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ25",
          "It does not upset me if my daily routine is disturbed.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "r1",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ26",
          "I frequently find that I don't know how to keep a conversation going.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "1",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ27",
          "I find it easy to 'read between the lines' when someone is talking to me.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "r1",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ28",
          "I usually concentrate more on the whole picture, rather than the small details.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "AQ29",
          "I am not very good at remembering phone numbers.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "AQ30",
          "I don't usually notice small changes in a situation, or a person's appearance.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "AQ31",
          "I know how to tell if someone listening to me is getting bored.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "r1",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ32",
          "I find it easy to do more than one thing at once.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "r1",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ33",
          "When I talk on the phone, I'm not sure when it's my turn to speak.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "1",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ34",
          "I enjoy doing things spontaneously.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "r1",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ35",
          "I am often the last to understand the point of a joke.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "1",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ36",
          "I find it easy to work out what someone is thinking or feeling just by looking at their face.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "r1",
          "",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ37",
          "If there is an interruption, I can switch back to what I was doing very quickly.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "r1",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ38",
          "I am good at social chit-chat.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "r1",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ39",
          "People often tell me that I keep going on and on about the same thing.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "1",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ40",
          "When I was young, I used to enjoy playing games involving pretending with other children.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "r1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ41",
          "I like to collect information about categories of things (e.g. types of car, types of bird, types of train, types of plant, etc.).",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ42",
          "I find it difficult to imagine what it would be like to be someone else.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "",
          "",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ43",
          "I like to plan any activities I participate in carefully.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "1",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ44",
          "I enjoy social occasions.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "r1",
          "",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ45",
          "I find it difficult to work out people's intentions.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "1",
          "",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ46",
          "New situations make me anxious.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "1",
          "",
          "1",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ47",
          "I enjoy meeting new people.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "r1",
          "",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ48",
          "I am a good diplomat.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "r1",
          "",
          "",
          "",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "AQ49",
          "I am not very good at remembering people's date of birth.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "AQ50",
          "I find it very easy to play games with children that involve pretending.",
          "likert",
          "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
          "1|1|0|0",
          "r1",
          "",
          "",
          "",
          "r1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "",
          ""
        ]
      ],
      "audit-covid.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "score:mce_total",
          "optional",
          "btn_width",
          ""
        ],
        [
          "Instructions1",
          "<span style='color:#006699'><span style='font-size:20px'><b> INSTRUCTIONS </b> <br> For this set of questions, please answer based on how much you drank <b> before the first lockdown (i.e. before March 2020)</b><br><br>Consider a drink to be one shot of spirit (25ml), half a pint of beer/cider (284ml) or a small glass of wine (125ml) </span></span>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "audit1",
          "1. How often did you have a drink containing alcohol?",
          "likert",
          "Never|Monthly or less|Two to four times a month|Two to three times a week|Four or more times a week",
          "0|1|2|3|4",
          "0|1|2|3|4",
          "No",
          "100px",
          ""
        ],
        [
          "audit2",
          "2. How many drinks containing alcohol did you have on a typical day when you are drinking?",
          "likert",
          "1 or 2|3 or 4|5 or 6|7 to 9|10 or more",
          "0|1|2|3|4",
          "0|1|2|3|4",
          "No",
          "100px",
          ""
        ],
        [
          "audit3",
          "3. How often did you have six or more drinks on one occasion?",
          "likert",
          "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
          "0|1|2|3|4",
          "0|1|2|3|4",
          "No",
          "100px",
          ""
        ],
        [
          "audit4",
          "4. How often did you find that you were not able to stop drinking once you had started?",
          "likert",
          "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
          "0|1|2|3|4",
          "0|1|2|3|4",
          "No",
          "100px",
          ""
        ],
        [
          "audit5",
          "5. How often did you fail to do what was normally expected from you because of drinking?",
          "likert",
          "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
          "0|1|2|3|4",
          "0|1|2|3|4",
          "No",
          "100px",
          ""
        ],
        [
          "audit6",
          "6. How often did you need a first drink in the morning to get yourself going after a heavy drinking session?",
          "likert",
          "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
          "0|1|2|3|4",
          "0|1|2|3|4",
          "No",
          "100px",
          ""
        ],
        [
          "audit7",
          "7. How often did you had a feeling of guilt or remorse after drinking?",
          "likert",
          "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
          "0|1|2|3|4",
          "0|1|2|3|4",
          "No",
          "100px",
          ""
        ],
        [
          "audit8",
          "8. How often were you unable to remember what happened the night before because you had been drinking?",
          "likert",
          "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
          "0|1|2|3|4",
          "0|1|2|3|4",
          "No",
          "100px",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "audit.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "score:audit",
          "optional",
          "btn_width",
          ""
        ],
        [
          "Instructions1",
          "<span style='color:#006699'><span style='font-size:20px'><b> INSTRUCTIONS </b> <br> For question 1-8, please answer based on how much you drank <b> in the last 12 months </b> <br> For q9 and 10 please answer generally <br><br>Consider a drink to be one shot of spirit (25ml), half a pint of beer/cider (284ml) or a small glass of wine (125ml) </span></span>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "audit1",
          "1. How often did you have a drink containing alcohol?",
          "likert",
          "Never|Monthly or less|Two to four times a month|Two to three times a week|Four or more times a week",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "audit2",
          "2. How many drinks containing alcohol did you have on a typical day when you are drinking?",
          "likert",
          "1 or 2|3 or 4|5 or 6|7 to 9|10 or more",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "audit3",
          "3. How often did you have six or more drinks on one occasion?",
          "likert",
          "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "audit4",
          "4. How often did you find that you were not able to stop drinking once you had started?",
          "likert",
          "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "audit5",
          "5. How often did you fail to do what was normally expected from you because of drinking?",
          "likert",
          "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "audit6",
          "6. How often did you need a first drink in the morning to get yourself going after a heavy drinking session?",
          "likert",
          "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "audit7",
          "7. How often did you had a feeling of guilt or remorse after drinking?",
          "likert",
          "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "audit8",
          "8. How often were you unable to remember what happened the night before because you had been drinking?",
          "likert",
          "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "audit9",
          "9. Have you or someone else been injured as a result of your drinking?",
          "likert",
          "No|Yes, but not in the last year|Yes, during the last year",
          "0|2|4",
          "1",
          "No",
          "166px",
          ""
        ],
        [
          "audit10",
          "10. Has a relative, or friend, or a doctor or other health worker been concerned about your drinking or suggested you cut down?",
          "likert",
          "No|Yes, but not in the last year|Yes, during the last year",
          "0|2|4",
          "1",
          "No",
          "166px",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "barratt-impulsiveness.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "optional",
          "score:reappraisal",
          "score:suppression",
          "btn_width",
          "side_text",
          ""
        ],
        [
          "gross_instructions",
          "We would like to ask you some questions about your emotional life, in particular, how\r\nyou control (that is, regulate and manage) your emotions. The questions below involve\r\ntwo distinct aspects of your emotional life. One is your <b><u>emotional experience</u></b>, or what\r\nyou feel like inside. The other is your <b><u>emotional expression</u></b>, or how you show your\r\nemotions in the way you talk, gesture, or behave. Although some of the following\r\nquestions may seem similar to one another, they differ in important ways.",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "Reappraisal1",
          "When I want to feel more positive emotion (such as joy or amusement), I change what I'm thinking about.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "1",
          "",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Excessive_Suppression_1",
          "I keep my emotions to myself.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "",
          "1",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Reappraisal_2",
          "When I want to feel less negative emotion (such as sadness or anger), I change what I'm thinking about.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "1",
          "",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Excessive_Suppression_2",
          "When I am feeling positive emotions, I am careful not to express them.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "",
          "1",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Reappraisal_3",
          "When I'm faced with a stressful situation, I make myself think about it in a way that helps me stay calm.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "1",
          "",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Excessive_Suppression_3",
          "I control my emotions by not expressing them.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "",
          "1",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Reappraisal_4",
          "When I want to feel more positive emotion, I change the way I'm thinking about the situation.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "1",
          "",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Reappraisal_5",
          "I control my emotions by changing the way I think about the situation I'm in.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "1",
          "",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Excessive_Suppression_4",
          "When I am feeling negative emotions, I make sure not to express them.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "",
          "1",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Reappraisal_6",
          "When I want to feel less negative emotion, I change the way I'm thinking about the situation.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "1",
          "",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "barratt_impulsiveness_scale.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "score:barratt_total",
          "optional",
          "btn_width",
          "reversed",
          "btn_width",
          "",
          "Instructions1",
          "<span style='color:#006699'><span style='font-size:20px'>For the following items",
          " please reply with 1 (rarely/never)",
          " 2 (occasionally)",
          " 3 (often) or 4 (almost always/always) </span></span>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "barratt1",
          "1. I plan tasks carefully",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "r1",
          "No",
          "100px",
          "Reversed",
          "100px",
          "",
          "barratt2",
          "2. I do things without thinking",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "1",
          "No",
          "100px",
          "",
          "100px",
          "",
          "barratt3",
          "3. I don’t “pay attention”",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "1",
          "No",
          "100px",
          "",
          "100px",
          "",
          "barratt4",
          "4. I am self-controlled",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "r1",
          "No",
          "100px",
          "Reversed",
          "100px",
          "",
          "barratt5",
          "5. I concentrate easily",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "r1",
          "No",
          "100px",
          "Reversed",
          "100px",
          "",
          "barratt6",
          "6. I am a careful thinker",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "r1",
          "No",
          "100px",
          "Reversed",
          "100px",
          "",
          "barratt7",
          "7. I say things without thinking",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "1",
          "No",
          "100px",
          "",
          "100px",
          "",
          "barratt8",
          "8. I act on the spur of the moment",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "1",
          "No",
          "100px",
          "",
          "100px",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "barret_impusiveness_scale.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "score:barratt_total",
          "optional",
          "btn_width",
          "reversed",
          ""
        ],
        [
          "Instructions1",
          "<span style='color:#006699'><span style='font-size:20px'>For the following items, please reply with 1 (rarely/never), 2 (occasionally), 3 (often) or 4 (almost always/always) </span></span>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "barratt1",
          "1. I plan tasks carefully",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "r1",
          "No",
          "100px",
          "Reversed",
          ""
        ],
        [
          "barratt2",
          "2. I do things without thinking",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "1",
          "No",
          "100px",
          "",
          ""
        ],
        [
          "barratt3",
          "3. I don’t “pay attention”",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "1",
          "No",
          "100px",
          "",
          ""
        ],
        [
          "barratt4",
          "4. I am self-controlled",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "r1",
          "No",
          "100px",
          "Reversed",
          ""
        ],
        [
          "barratt5",
          "5. I concentrate easily",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "r1",
          "No",
          "100px",
          "Reversed",
          ""
        ],
        [
          "barratt6",
          "6. I am a careful thinker",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "r1",
          "No",
          "100px",
          "Reversed",
          ""
        ],
        [
          "barratt7",
          "7. I say things without thinking",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "1",
          "No",
          "100px",
          "",
          ""
        ],
        [
          "barratt8",
          "8. I act on the spur of the moment",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "1",
          "No",
          "100px",
          "",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "borcsok_ethics.csv": [
        [
          "item_name",
          "text",
          "Type",
          "Answers",
          "Values",
          "Optional",
          "side_by_side",
          "question_width",
          ""
        ],
        [
          "Instructions1",
          "<h2>School of Psychology</h2>\r\n\r\n<h5>Earley Gate, <br>\r\nWhiteknights<br>\r\nPO Box 238, <br>\r\nReading <br>\r\nRG6 6AL, <br>\r\nUK</h5>\r\n\r\n<h6>phone\t+44 (0)118 378 8523</h6>\r\n<h6>fax\t+44 (0)118 378 6715</h6>\r\n<br>\r\n\r\n<h3>Title of Study: Investigating attentional biases to neutral and pleasant images: An eye-tracking study</h3>\r\n\r\n\r\n<h3>Information & Consent Sheet</h3>\r\n\r\n<h3>Researchers: </h3>\r\n<table>\r\n  <tr>\r\n  \r\n    <td>\r\n      <b>Supervisors:</b>\r\n    </td>\r\n    <td>\r\n      <b>Email:</b>\r\n    </td>\r\n    <td>\r\n      <b>Phone:</b>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      Dr Anthony Haffey      \r\n    </td>\r\n    <td>\r\n      Anthony.Haffey@reading.ac.uk\r\n    </td>\r\n    <td>\r\n      0118 378 8850\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      Dr Lily Fitzgibbon\r\n    </td>\r\n    <td>\r\n      l.t.fitzgibbon@reading.ac.uk\r\n    </td>\r\n    <td>\r\n      0118 378 8850\r\n    </td>\r\n  </tr>\r\n</table>\r\n<br>\r\n<br>\r\n\t\t\r\n<table>\r\n  <tr>\r\n    <td>\r\n      <b>Experimenters</b>\r\n    </td>\r\n    <td>\r\n      <b>Email</b>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      Rebecca Borcsok\r\n    </td>\r\n    <td>\r\n      r.borcsok@student.reading.ac.uk \r\n    </td>\r\n  </tr>\r\n</table>\r\n<br>\r\n\r\n<p>\r\nYou are being invited to take part in some research. Before you decide whether or not to participate, it is important for you to understand why the research is being conducted and what it will involve. Please read the following information carefully.  \r\n</p>\r\n\r\n\r\n<h4>What is the purpose of the research? </h4>\r\n<p>\r\nWe are conducting research exploring eye movements when viewing neutral or pleasant images. The purpose of the study is to determine if individual differences influence attentional behaviour. Your participation in this study will require one 30-minute session.  \r\n</p>\r\n\r\n<h4>Who is carrying out the research? </h4>\r\n<p>The data are being collected by Rebecca Borcsok, under the supervision of Dr Anthony Haffey and Dr Lily Fitzgibbon, in the School of Psychology and Clinical Language Sciences at University of Reading. The research has been approved by the School and University ethics committees. </p>\r\n\r\n<h4>What happens if I agree to take part? </h4>\r\n<p>If you agree to take part in this research, you will be asked to take part in a task where you will view matched pairs of images, whilst your eye movements are recorded. You will also be asked to complete a video-game style task, which records your decision-making. After the two tasks, you will also be asked to complete some questionnaires, including some that ask about your alcohol and gambling behaviours. At the end of the study, you will be debriefed on the tasks you have completed and given further information on the aims of the study. </p>\r\n\r\n<h4>Are there any risks associated with taking part?</h4> \r\n<p>One risk of taking part in this study is the issue of confidentiality. To ensure that information about your personal use of alcohol or gambling behaviour is known by to as few members of the research team as possible, this information will be held by Rebecca Borcsok only, until the study is complete. You will be identified by code only during the study, so you cannot be matched with information about alcohol use or gambling. After the study is complete, all identifying information will be removed, and only subject codes (and non-identifying information) would be matched to information about your alcohol use and gambling behaviour. </p>\r\n\r\n<h4>What will happen to the information I provide?</h4> \r\n<p>Your data will be kept confidential and securely stored, with only an anonymous number identifying it. Information linking that number to your name will be stored securely and separately from the data you provide us. All identifiable information collected for the project, such as the consent form, will be destroyed after a period of 60 months from the when the completion of the project has elapsed. </p>\r\n<p>An analysis of the information will form part of our report at the end of the study and may be presented to interested parties and published in scientific journals and related media.  Note that all information presented in any reports or publications will be anonymous and unidentifiable.</p>\r\n\r\n<h4>Is participation voluntary and what if I wish to later withdraw? </h4>\r\n<p>Taking part in this study is completely voluntary; you may withdraw at any time without having to give any reason. Please feel free to ask any questions that you may have about this study at any point.</p>\r\n\r\n<h4>What if I have other questions? </h4>\r\n<p>If you have further questions about this study, please do not hesitate to contact the student experimenter or supervisors listed above.</p>",
          "Instruct",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "info_questions",
          "I confirm that I have read the information sheet for this study. I have had the opportunity to consider the information, ask questions and have had these answered satisfactorily.",
          "likert",
          "Agree",
          "1",
          "No",
          "yes",
          "80%"
        ],
        [
          "info_confidential",
          "I understand that all personal information will remain confidential to the Investigator and arrangements for the storage and eventual disposal of any identifiable material have been made clear to me.",
          "likert",
          "Agree",
          "1",
          "No",
          "yes",
          "80%",
          ""
        ],
        [
          "info_voluntary",
          "I understand that participation in this study is voluntary and that I can withdraw at any time without having to give an explanation.",
          "likert",
          "Agree",
          "1",
          "No",
          "yes",
          "80%",
          ""
        ],
        [
          "Info_Accept",
          "I am happy to proceed with my participation.",
          "likert",
          "Agree",
          "1",
          "No",
          "yes",
          "80%",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "consent_form.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "optional",
          "values",
          "side_by_side",
          "btn_width",
          ""
        ],
        [
          "info_read",
          "I have read the Information Sheet and Informed Consent document and understand what the study involves. ",
          "checkbox",
          "Yes",
          "No",
          "",
          "",
          "",
          ""
        ],
        [
          "participation_agreed",
          "I agree that the research project named above has been explained to me to my satisfaction and I agree to take part in this study. ",
          "checkbox",
          "Yes",
          "No",
          "",
          "",
          "",
          ""
        ],
        [
          "withdrawl_understood",
          "I understand that if I decide at any time that I no longer wish to take part in this study, I can notify the researchers involved and withdraw immediately. ",
          "checkbox",
          "Yes",
          "No",
          "",
          "",
          "",
          ""
        ],
        [
          "info_consent",
          "I consent to the processing of my non-personally identifiable information for the purposes of this research study.",
          "checkbox",
          "Yes",
          "No",
          "",
          "",
          "",
          ""
        ],
        [
          "use_of_data",
          "I agree that my anonymous research data may be used by other researchers. This data will be anonymised to maintain confidentiality. ",
          "checkbox",
          "Yes",
          "No",
          "",
          "",
          "",
          ""
        ],
        [
          "audio_recording",
          "I understand that parts of my participation may be audio recorded, which I will be notified prior to recording, and I consent to use of this material as part of the project.",
          "checkbox",
          "Yes",
          "No",
          "",
          "",
          "",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "consent_jf1.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "optional",
          "side_by_side",
          "question_width",
          ""
        ],
        [
          "Instructions1",
          "<div align=\"right\">School of Psychology and Clinical Language Sciences<br>\r\nWhiteknights<br>\r\nReading RG6 6AL</div><h2>University of Reading</h2><br>\r\n<h2>Title of Study: Investigating attentional biases to neutral and pleasant images 2: An eye-tracking study </h2> <br>\r\n<h2>Consent Form</h1>\r\n<br>\r\n<table class=\"table\">\r\n  <tr>\r\n    <td><b>Investigator(s):</b></td>\r\n    <td><b>Email:</b></td>\r\n    <td><b>Telephone:</b></td>\r\n  </tr>\r\n  <tr>\r\n    <td>Anthony Haffey</td>\r\n    <td>anthony.haffey@reading.ac.uk</td>\r\n    <td>-0118 378 8850-</td>\r\n  </tr>\r\n  <tr>\r\n    <td>Chen Zhao</td>\r\n    <td>c.zhao5@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n<tr>\r\n    <td>Nicholas Hedger</td>\r\n    <td>n.hedger@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n  <tr>\r\n    <td><b>Researcher(s):</b></td>\r\n  </tr>\r\n  <tr>\r\n    <td>Joe Forrest</td>\r\n    <td>j.forrest@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n</table>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "uor_consent_1",
          "I understand that my participation in this study is voluntary and that I may withdraw any time without giving any reason.",
          "checkbox",
          "Agree",
          "1",
          "No",
          "yes",
          "70%",
          ""
        ],
        [
          "uor_consent_2",
          "I have read the information sheet about this study and the procedure of the study has been explained to me.",
          "checkbox",
          "Agree",
          "1",
          "No",
          "yes",
          "70%",
          ""
        ],
        [
          "uor_consent_3",
          "I have been given the opportunity to ask any questions that I may have about the study and these have been answered to my satisfaction.",
          "checkbox",
          "Agree",
          "1",
          "No",
          "yes",
          "70%",
          ""
        ],
        [
          "uor_consent_4",
          "I understand that the data collected from me in this study will be preserved and made available in anonymised form, so that they can be consulted and re-used by others.",
          "checkbox",
          "Agree",
          "1",
          "No",
          "yes",
          "70%",
          ""
        ],
        [
          "uor_consent_5",
          "I am happy to be contacted about future studies (optional)",
          "checkbox",
          "Agree",
          "1",
          "Yes",
          "yes",
          "70%",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "debrief_jf1.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "optional",
          "side_by_side",
          ""
        ],
        [
          "Instructions1",
          "<div align=\"right\">School of Psychology and Clinical Language Sciences<br>\r\nWhiteknights<br>\r\nReading RG6 6AL</div>\r\n<h2>University of Reading</h2><br>\r\n<h2>Title of Study: Investigating attentional biases to neutral and pleasant images 2: An eye-tracking study</h2><br>\r\n<h2>Debrief </h2>\r\n\r\n<br>\r\n<table class=\"table\">\r\n  <tr>\r\n    <td><b>Investigator(s):</b></td>\r\n    <td><b>Email:</b></td>\r\n    <td><b>Telephone:</b></td>\r\n  </tr>\r\n    <tr>\r\n    <td>Anthony Haffey</td>\r\n    <td>anthony.haffey@reading.ac.uk</td>\r\n    <td>-01183788523-</td>\r\n  </tr>\r\n  <tr>\r\n    <td>Chen Zhao</td>\r\n    <td>c.zhao5@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n<tr>\r\n    <td>Nicholas Hedger</td>\r\n    <td>n.hedger@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n  <tr>\r\n    <td><b>Researcher(s):</b></td>\r\n  </tr>\r\n  <tr>\r\n    <td>Joe Forrest</td>\r\n    <td>j.forrest@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n</table>\r\n\r\nThank you for participating in our study. <br>\r\nWe were interested in examining how self-reported social networking, alcohol addiction and other personality traits predict which images you looked longer at.\r\nWe are interested in whether you looked longer at images associated with addictive stimuli, i.e. alcohol or social networking, compared to visually similar images.<br><br>\r\nFollowing this debrief, we would like to remind you that you are free to withdraw your data at any time without needing to provide a reason. \r\nIf you feel any adverse effects from the study in general, you can contact the principle supervisor Dr Anthony Haffey or the postgraduate researcher, \r\nJoseph Forrest, via the contact information provided on this debrief sheet.<br><br>\r\nIf you still have concerns, sources of support will also be provided on the next page.",
          "instruct",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "",
          ""
        ]
      ],
      "demographics_jf1.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "optional",
          "values",
          "side_by_side",
          "btn_width",
          ""
        ],
        [
          "Gender",
          "Gender",
          "likert",
          "Male|Female|Other",
          "No",
          "",
          "yes",
          "100px",
          ""
        ],
        [
          "Age",
          "Age",
          "number",
          "",
          "No",
          "",
          "",
          "",
          ""
        ],
        [
          "Education",
          "Education (which level are you currently in, or is the highest you've completed)",
          "dropdown",
          "Some high school| High school graduate| Some college, no degree| Associate's degree| Bachelor's degree|Graduate degree (Master's, Doctorate, etc.)",
          "No",
          "",
          "",
          "",
          ""
        ],
        [
          "English_Fluency",
          "Do you speak English fluently?",
          "likert",
          "Yes|No",
          "No",
          "",
          "yes",
          "200px",
          ""
        ],
        [
          "English_Age",
          "At what age did you start learning English? (write \"0\" if from birth)",
          "number",
          "",
          "No",
          "",
          "",
          "",
          ""
        ],
        [
          "Country",
          "What is your country of residence?",
          "text",
          "",
          "No",
          "",
          "",
          "",
          ""
        ],
        [
          "Handedness",
          "What is your preferred hand?",
          "likert",
          "Left|Right|Both",
          "No",
          "",
          "yes",
          "100px",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "emotion_regulation.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "score: mce_total",
          "optional",
          "btn_width",
          ""
        ],
        [
          "Instructions1",
          "<span style='color:#006699'><span style='font-size:20px'><b> INSTRUCTIONS </b> <br> We would like to ask you  some questions about your emotional life, in particular, how you control (that is, regulate and manage) your emotions. The questions below involve two distinct aspects of your <b><u> emotional experience </b> </u></span></span>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "PHQ9_1",
          "1. Little interest or pleasure in doing things?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "0|1|2|3",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_2",
          "2. Feeling down, depressed, or hopeless?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "0|1|2|3",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_3",
          "3. Trouble falling or staying asleep, or sleeping too much?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "0|1|2|3",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_4",
          "4. Feeling tired or having little energy?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "0|1|2|3",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_5",
          "5. Poor appetite or overeating?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "0|1|2|3",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_6",
          "6. Feeling bad about yourself - or that you are a failure or have let yourself or your family down?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "0|1|2|3",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_7",
          "7. Trouble concentrating on things, such as reading the newspaper or watching the television?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "0|1|2|3",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_8",
          "8. Moving or speaking so slowly that other people could have noticed? <br> Or the opposite - being so fidgety or restless that you have been moving around a lot more than usual?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "0|1|2|3",
          "No",
          "100px",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "erq.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "optional",
          "score:reappraisal",
          "score:suppression",
          "btn_width",
          "side_text",
          ""
        ],
        [
          "gross_instructions",
          "We would like to ask you some questions about your emotional life, in particular, how\r\nyou control (that is, regulate and manage) your emotions. The questions below involve\r\ntwo distinct aspects of your emotional life. One is your <b><u>emotional experience</u></b>, or what\r\nyou feel like inside. The other is your <b><u>emotional expression</u></b>, or how you show your\r\nemotions in the way you talk, gesture, or behave. Although some of the following\r\nquestions may seem similar to one another, they differ in important ways.",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "Reappraisal1",
          "When I want to feel more positive emotion (such as joy or amusement), I change what I'm thinking about.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "1",
          "",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Excessive_Suppression_1",
          "I keep my emotions to myself.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "",
          "1",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Reappraisal_2",
          "When I want to feel less negative emotion (such as sadness or anger), I change what I'm thinking about.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "1",
          "",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Excessive_Suppression_2",
          "When I am feeling positive emotions, I am careful not to express them.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "",
          "1",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Reappraisal_3",
          "When I'm faced with a stressful situation, I make myself think about it in a way that helps me stay calm.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "1",
          "",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Excessive_Suppression_3",
          "I control my emotions by not expressing them.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "",
          "1",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Reappraisal_4",
          "When I want to feel more positive emotion, I change the way I'm thinking about the situation.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "1",
          "",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Reappraisal_5",
          "I control my emotions by changing the way I think about the situation I'm in.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "1",
          "",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Excessive_Suppression_4",
          "When I am feeling negative emotions, I make sure not to express them.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "",
          "1",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "Reappraisal_6",
          "When I want to feel less negative emotion, I change the way I'm thinking about the situation.",
          "likert",
          "1|2|3|4|5|6|7",
          "1|2|3|4|5|6|7",
          "No",
          "1",
          "",
          "50px",
          "strongly disagree|strongly agree ",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "info_jf1.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "optional",
          "side_by_side",
          ""
        ],
        [
          "Instructions1",
          "<div align=\"right\">School of Psychology and Clinical Language Sciences<br>\r\nWhiteknights<br>\r\nReading RG6 6AL</div>\r\n<h2>University of Reading</h2><br>\r\n<h2>Title of Study: Investigating attentional biases to neutral and pleasant images 2: An eye-tracking study</h2><br>\r\n<h2>PARTICIPANT INFORMATION SHEET </h2>\r\n\r\n<br>\r\n<table class=\"table\">\r\n  <tr>\r\n    <td><b>Investigator(s):</b></td>\r\n    <td><b>Email:</b></td>\r\n    <td><b>Telephone:</b></td>\r\n  </tr>\r\n    <tr>\r\n    <td>Anthony Haffey</td>\r\n    <td>anthony.haffey@reading.ac.uk</td>\r\n    <td>-01183788523-</td>\r\n  </tr>\r\n  <tr>\r\n    <td>Chen Zhao</td>\r\n    <td>c.zhao5@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n<tr>\r\n    <td>Nicholas Hedger</td>\r\n    <td>n.hedger@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n  <tr>\r\n    <td><b>Researcher(s):</b></td>\r\n  </tr>\r\n  <tr>\r\n    <td>Joe Forrest</td>\r\n    <td>j.forrest@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n</table>\r\n\r\nWe would be grateful if you could assist us by participating in our online study. <br>\r\n<br>\r\n<b> What is the study investigating? </b> <br>\r\nWe are investigating behaviour related to addiction. In this research you will complete questionnaires, some of which relate to depression, addiction, alcohol, social networking and difficult experiences from childhood, and an eye-tracking task when viewing pairs of images including images involving alcohol and social networking. The eye-tracking will just use the web-camera on your device and does not require wearing any device. The task tends to work much better on laptops than desktops with mounted cameras so we would recommend continuing or restarting the task on a laptop. The purpose of the study is to determine if individual differences influence attentional behaviour. Your participation in this study will require one 30-minute session.  \r\n<br><br>\r\n<b> What data be stored? </b> <br>\r\nWe will use your webcam to track where you are looking during the eye tracking task. You do not need any specialist equipment for this task - just a webcam. Furthermore, and most importantly, we will not record any videos or pictures, but only the co-ordinates of where we think you are looking. We will also store your questionnaire results.<br>\r\n<br>\r\n<b> How will my data be stored? </b> <br>\r\nYour data will be kept confidential and securely stored, with only an anonymous number identifying it. Data collected from this study will be preserved and made publicly available in anonymised form, so that data can be re-used by others. No video will be collected or stored, your webcam will only be used to estimate where you are looking on the screen.<br>\r\n<br>\r\n<b>Are there any risks associated with taking part?</b><br>Some of the questionnaires may include material of a sensitive nature. Thus, the study may include a mild risk of anxiety, sadness or other emotional reactions. <br>\r\n<br>\r\n<b> Do I have to take part? </b> <br>\r\nTaking part in this study is completely voluntary; you may withdraw at any time without having to give any reason. <br>\r\n<br>\r\n<b> Will I be compensated?</b><br>\r\n <H1>You will receive 0.5 credits through SONA.</H1><br>\r\n<br>\r\nThis application has been reviewed by the University Research Ethics Committee and has been given a favourable ethical opinion for conduct <H1>([SREC OR UREC NUMBER])</H1>.<br>\r\n<br>\r\nIf you have any questions or concerns about the research, please feel free to contact Joe Forrest or Anthony Haffey using the details above.<br>\r\n<br>\r\nThank you for your help.",
          "instruct",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "",
          ""
        ]
      ],
      "info_jf1_sona.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "optional",
          "side_by_side",
          ""
        ],
        [
          "Instructions1",
          "<div align=\"right\">School of Psychology and Clinical Language Sciences<br>\r\nWhiteknights<br>\r\nReading RG6 6AL</div>\r\n<h2>University of Reading</h2><br>\r\n<h2>Title of Study: Investigating attentional biases to neutral and pleasant images: An eye-tracking study</h2><br>\r\n<h2>PARTICIPANT INFORMATION SHEET </h2>\r\n\r\n<br>\r\n<table class=\"table\">\r\n  <tr>\r\n    <td><b>Investigator(s):</b></td>\r\n    <td><b>Email:</b></td>\r\n    <td><b>Telephone:</b></td>\r\n  </tr>\r\n    <tr>\r\n    <td>Anthony Haffey</td>\r\n    <td>anthony.haffey@reading.ac.uk</td>\r\n    <td>-0118 378 8850-</td>\r\n  </tr>\r\n  <tr>\r\n    <td>Chen Zhao</td>\r\n    <td>c.zhao5@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n<tr>\r\n    <td>Nicholas Hedger</td>\r\n    <td>n.hedger@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n  <tr>\r\n    <td><b>Researcher(s):</b></td>\r\n  </tr>\r\n  <tr>\r\n    <td>Joe Forrest</td>\r\n    <td>j.forrest@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n</table>\r\n\r\nWe would be grateful if you could assist us by participating in our online study. <br>\r\n<br>\r\n<b> What is the study investigating? </b> <br>\r\nWe are conducting research exploring eye movements when viewing neutral or pleasant images. The purpose of the study is to determine if individual differences influence attentional behaviour. Your participation in this study will require one 30-minute session.  \r\n<br>\r\n<br>\r\n<b> How will my data be stored? </b> <br>\r\nYour data will be kept confidential and securely stored, with only an anonymous number identifying it. Data collected from this study will be preserved and made available in anonymised form, so that data can be re-used by others.<br>\r\n<br>\r\n<b>Are there any risks associated with taking part?</b><br>Some of the questionnaires may include material of a sensitive nature. Thus, the study may include a mild risk of anxiety, sadness or other emotional reactions. <br>\r\n<br>\r\n<b> Do I have to take part? </b> <br>\r\nTaking part in this study is completely voluntary; you may withdraw at any time without having to give any reason. <br>\r\n<br>\r\n<b> Will I be compensated?</b><br>\r\n <H1>You will receive 0.5 credits through SONA.</H1><br>\r\n<br>\r\nThis application has been reviewed by the University Research Ethics Committee and has been given a favourable ethical opinion for conduct <H1>([SREC OR UREC NUMBER])</H1>.<br>\r\n<br>\r\nIf you have any questions or concerns about the research, please feel free to contact Joe Forrest or Anthony Haffey using the details above.<br>\r\n<br>\r\nThank you for your help.",
          "instruct",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "",
          ""
        ]
      ],
      "modified_childhood_experiences.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "score:adverse_ce_total",
          "optional",
          "btn_width",
          "logic",
          "checkbox_",
          "other",
          ""
        ],
        [
          "Instructions1",
          "<span style='color:#006699'><span style='font-size:20px'>Choose one response that best describes how strongly each item applies to you. <br> Prior to your 18th birthday:</span></span>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "mce_1",
          "1. Did a parent or other adult in the household often or very often…<br> Swear at you, insult you, put you down, or humiliate you? Or <br> Act in a way that made you afraid that you might be physically hurt?",
          "likert",
          "Never True|Rarely True|Sometimes True|Often True|Very Often True",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          "",
          "",
          "",
          ""
        ],
        [
          "mce_2",
          "2. Did a parent or other adult in the household often or very often… <br> Push, grab, slap or throw something at you? Or <br> Ever hit you so hard that you had marks or were injured?",
          "likert",
          "Never True|Rarely True|Sometimes True|Often True|Very Often True",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          "",
          "",
          "",
          ""
        ],
        [
          "mce_3",
          "3. Did you often or very often feel that…<br> No one in your family loved you or thought you were important or special? Or Your family didn't look out for each other, feel close to each other, or support each other?",
          "likert",
          "Never True|Rarely True|Sometimes True|Often True|Very Often True",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          "",
          "",
          "",
          ""
        ],
        [
          "mce_4",
          "4. Did you often or very often feel that… <br> You didn't have enough to eat, had to wear dirty clothes, and had no one to protect you? Or <br> Your parents were too drunk or high to take care of you or take you to the doctor if you needed it?",
          "likert",
          "Never True|Rarely True|Sometimes True|Often True|Very Often True",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          "",
          "",
          "",
          ""
        ],
        [
          "mce_5",
          "5. Was your mother or stepmother: <br> Often or very often pushed, grabbed, slapped, or had something thrown at her? Or <br> Sometimes, often, or very often kicked, bitten, hit with a fist or something hard? Or <br> Ever repeatedly hit over at least a few minutes or threatened with a gun or knife?",
          "likert",
          "Never True|Rarely True|Sometimes True|Often True|Very Often True",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          "",
          "",
          "",
          ""
        ],
        [
          "mce_6",
          "6. How frequently did anyone in your household drink too much alcohol?",
          "likert",
          "Never True|Rarely True|Sometimes True|Often True|Very Often True",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          "LOGIC REQUIRED",
          "use checkbox",
          "",
          ""
        ],
        [
          "mce_6a",
          "If yes to above, Which members of your household drank too much?",
          "checkbox",
          "Parent|Sibling|Aunt/Uncle|Grandparent",
          "Parent|Sibling|Aunt/Uncle|Grandparent",
          "",
          "Yes",
          "",
          "",
          "",
          "yes",
          ""
        ],
        [
          "mce_7",
          "7. How frequently did anyone in your household do street-drugs?",
          "likert",
          "Never True|Rarely True|Sometimes True|Often True|Very Often True",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          "LOGIC REQUIRED",
          "use checkbox",
          "",
          ""
        ],
        [
          "mce_7a",
          "If yes to above, Which members of your household did street drugs?",
          "checkbox",
          "Parent|Sibling|Aunt/Uncle|Grandparent",
          "Parent|Sibling|Aunt/Uncle|Grandparent",
          "",
          "Yes",
          "",
          "",
          "",
          "yes",
          ""
        ],
        [
          "mce_8",
          "8. How frequently was a household member struggling with mental health problems such as depression, anxiety or psychosis?",
          "likert",
          "Never True|Rarely True|Sometimes True|Often True|Very Often True",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          "",
          "",
          "",
          ""
        ],
        [
          "mce_9",
          "9. How frequently did household members have legal problems?",
          "likert",
          "Never True|Rarely True|Sometimes True|Often True|Very Often True",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          "",
          "",
          "",
          ""
        ],
        [
          "mce_10",
          "10. How often was a family member absent through divorce, abandonment, or other reason?",
          "likert",
          "Never True|Rarely True|Sometimes True|Often True|Very Often True",
          "0|1|2|3|4",
          "1",
          "No",
          "100px",
          "",
          "",
          "",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "panas.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "score:panas_tot",
          "score:pos_aff",
          "score:neg_aff",
          "optional",
          "btn_width",
          ""
        ],
        [
          "Instructions1",
          "<span style='color:#006699'><span style='font-size:20px'>Choose one response that best describes how strongly each item applies to how you felt during the<b><u>first month of lockdown</u></b>:<br>\r\n<br>\r\nDuring the first month of lock down, I felt...</span></span>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "PANAS1",
          "Interested",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS2",
          "Distressed",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS3",
          "Excited",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS4",
          "Upset",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS5",
          "Strong",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS6",
          "Guilty",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS7",
          "Scared",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS8",
          "Hostile",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS9",
          "Enthusiastic",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS10",
          "Proud",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS11",
          "Irritable",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS12",
          "Alert",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS13",
          "Ashamed",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS14",
          "Inspired",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS15",
          "Nervous",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS16",
          "Determined",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS17",
          "Attentive",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS18",
          "Jittery",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS19",
          "Active",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS20",
          "Afraid",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "pathological_narcissism.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "score:grandiose_total",
          "score:vulnerable",
          "optional",
          "btn_width",
          "side_text",
          ""
        ],
        [
          "Instructions1",
          "<span style='color:#006699'><span style='font-size:20px'>For the following items, please reply from 0 (not at all like me)to 5 (very much like me) </span></span>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "pni1",
          "1. I can usually talk my way out of anything.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "1",
          "",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni2",
          "2. When people don’t notice me, I start to feel bad about myself.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "",
          "1",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni3",
          "3. I often hide my needs for fear that others will see me as needy and desperate.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "",
          "1",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni4",
          "4. I can make anyone believe anything I want them to.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "1",
          "",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni5",
          "5. I get annoyed by people who are not interested in what I say or do.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "",
          "1",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni6",
          "6. I find it easy to manipulate people.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "1",
          "",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni7",
          "7. Sometimes I avoid people because I’m concerned that they’ll disappoint me.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "",
          "1",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni8",
          "8. I typically get very angry when I’m unable to get what I want from others.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "",
          "1",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni9",
          "9. When others don’t meet my expectations, I often feel ashamed about what I wanted.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "",
          "1",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni10",
          "10. I feel important when others rely on me.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "1",
          "",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni11",
          "11. I can read people like a book.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "1",
          "",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni12",
          "12. Sacrificing for others makes me the better person.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "1",
          "",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni13",
          "13. I often fantasize about accomplishing things that are probably beyond my means.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "1",
          "",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni14",
          "14. Sometimes I avoid people because I’m afraid they won’t do what I want them to do.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "",
          "1",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni15",
          "15. It’s hard to show others the weaknesses I feel inside.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "",
          "1",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni16",
          "16. It’s hard to feel good about myself unless I know other people admire me.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "",
          "1",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni17",
          "17. I often fantasize about being rewarded for my efforts.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "1",
          "",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni18",
          "18. I am preoccupied with thoughts and concerns that most people are not interested in me.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "",
          "1",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni19",
          "19. I like to have friends who rely on me because it makes me feel important.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "1",
          "",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni20",
          "20. Sometimes I avoid people because I’m concerned they won’t acknowledge what I do for them.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "",
          "1",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni21",
          "21. It’s hard for me to feel good about myself unless I know other people like me.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "",
          "1",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni22",
          "22. It irritates me when people don’t notice how good a person I am.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "",
          "1",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni23",
          "23. I will never be satisfied until I get all that I deserve.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "",
          "1",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni24",
          "24. I try to show what a good person I am through my sacrifices.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "1",
          "",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni25",
          "25. I often fantasize about performing heroic deeds.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "1",
          "",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni26",
          "26. I often fantasize about being recognized for my accomplishments.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "1",
          "",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni27",
          "27. I can’t stand relying on other people because it makes me feel weak.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "",
          "1",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "pni28",
          "28. When others get a glimpse of my needs, I feel anxious and ashamed.",
          "likert",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "",
          "1",
          "No",
          "50px",
          "Not at all like me|Very much like me",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "pathological_narcissism_inventory.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "score: mce_total",
          "optional",
          "btn_width",
          ""
        ],
        [
          "Instructions1",
          "<span style='color:#006699'><span style='font-size:20px'>For the following items, please reply from 0 (not at all like me) to 5 (very much like me): </span></span>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "pni1",
          "1. I can usually talk my way out of anything",
          "likert",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni2",
          "2. When people don't notice me, I start to feel bad about myself",
          "likert",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni3",
          "3. I often hide my needs for fear that others will see me as needy and desperate",
          "likert",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni4",
          "4. I can make anyone believe anything I want them to",
          "likert",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni5",
          "5. I get annoyed by people who are not interested in what I say or do",
          "likert",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni6",
          "6. I find it easy to manipulate people",
          "likert",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni7",
          "7. Sometimes I avoid people because I'm concerned they'll disappoint me",
          "likert",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni8",
          "8. I typically get very angry when I'm unable to get what I want from others",
          "likert",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni9",
          "9. When others don't meet my expectations, I often feel ashamed about what I wanted",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni10",
          "10. I feel important when others rely on me",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni11",
          "11. I can read people like a book",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni12",
          "12. Sacrificing for others makes me the better person",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni13",
          "13. I often fantasise about accomplishing things that are probably beyond my means",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni14",
          "",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni15",
          "",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni16",
          "",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni17",
          "",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni18",
          "",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni20",
          "",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni21",
          "",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni22",
          "",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni23",
          "",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni24",
          "",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni25",
          "",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni26",
          "",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni27",
          "",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "pni28",
          "",
          "",
          "Not at all like me (0)|1|2|3|4|Very much like me (5)",
          "0|1|2|3|4|5",
          "0|1|2|3|4|5",
          "No",
          "125px",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "phq9.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "score: mce_total",
          "optional",
          "btn_width",
          ""
        ],
        [
          "Instructions1",
          "<span style='color:#006699'><span style='font-size:20px'><b> INSTRUCTIONS </b> <br> Please answer the following questions </br> Over the last two weeks, how often have you been bothered by any of the following problems? </span></span>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "PHQ9_1",
          "1. Little interest or pleasure in doing things?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "0|1|2|3",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_2",
          "2. Feeling down, depressed, or hopeless?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "0|1|2|3",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_3",
          "3. Trouble falling or staying asleep, or sleeping too much?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "0|1|2|3",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_4",
          "4. Feeling tired or having little energy?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "0|1|2|3",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_5",
          "5. Poor appetite or overeating?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "0|1|2|3",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_6",
          "6. Feeling bad about yourself - or that you are a failure or have let yourself or your family down?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "0|1|2|3",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_7",
          "7. Trouble concentrating on things, such as reading the newspaper or watching the television?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "0|1|2|3",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_8",
          "8. Moving or speaking so slowly that other people could have noticed? <br> Or the opposite - being so fidgety or restless that you have been moving around a lot more than usual?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "0|1|2|3",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_9",
          "9. Thoughts that you would be better off dead, or of hurting yourself in some way?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "0|1|2|3",
          "No",
          "100px",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "phq_9_adjusted.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "score:phq9",
          "optional",
          "btn_width",
          ""
        ],
        [
          "Instructions1",
          "<span style='color:#006699'><span style='font-size:20px'><b> INSTRUCTIONS </b> <br> Please answer the following questions </br> Over the last two weeks, how often have you been bothered by any of the following problems? </span></span>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "PHQ9_1",
          "1. Little interest or pleasure in doing things?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_2",
          "2. Feeling down, depressed, or hopeless?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_3",
          "3. Trouble falling or staying asleep, or sleeping too much?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_4",
          "4. Feeling tired or having little energy?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_5",
          "5. Poor appetite or overeating?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_6",
          "6. Feeling bad about yourself - or that you are a failure or have let yourself or your family down?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_7",
          "7. Trouble concentrating on things, such as reading the newspaper or watching the television?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "PHQ9_8",
          "8. Moving or speaking so slowly that other people could have noticed? <br> Or the opposite - being so fidgety or restless that you have been moving around a lot more than usual?",
          "likert",
          " Not at all|Several days|More than half the days|Nearly every day",
          "0|1|2|3",
          "1",
          "No",
          "100px",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "social_media_disorder.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "score:social_media_disorder",
          "score:platforms",
          "score:wake_up_time",
          "optional",
          "btn_width",
          "original value",
          "other",
          ""
        ],
        [
          "Instructions1",
          "<span style='color:#006699'><span style='font-size:20px'>Please answer these questions about your social media use: </span></span><br>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "sm1",
          "Which of the following social media platforms do you regularly visit?",
          "checkbox",
          "Facebook|Instagram|Snapchat|Tiktok|Twitter|None",
          "1|2|3|4|5|6",
          "",
          "1",
          "",
          "No",
          "",
          "",
          "yes",
          ""
        ],
        [
          "sm2",
          "Which of the following social media platforms do you regularly upload content to?",
          "checkbox",
          "Facebook|Instagram|Snapchat|Tiktok|Twitter|None",
          "1|2|3|4|5|6",
          "",
          "1",
          "",
          "No",
          "",
          "",
          "yes",
          ""
        ],
        [
          "Instructions2",
          "<span style='color:#006699'><span style='font-size:20px'>During the past year, have you … </span></span>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "recoded1",
          "… regularly neglected other activities (e.g. hobbies, sport) because you wanted to use social media?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn24",
          "",
          ""
        ],
        [
          "recoded2",
          "… often found it difficult not to look at messages on social media when you were doing something else (e.g. school work)?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn1",
          "",
          ""
        ],
        [
          "recoded3",
          "… often used social media so you didn't have to think about unpleasant things?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn14",
          "",
          ""
        ],
        [
          "recoded4",
          "… often felt tense or restless if you weren't able to look at your messages on social media?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn7",
          "",
          ""
        ],
        [
          "recoded5",
          "… tried to spend less time on social media, but failed?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn11",
          "",
          ""
        ],
        [
          "recoded6",
          "… felt the need to check messages on social media more and more often?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn5",
          "",
          ""
        ],
        [
          "recoded7",
          "… tried to reduce your use of social media, but failed?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn10",
          "",
          ""
        ],
        [
          "recoded8",
          "… often sat waiting until something happens on social media again?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn3",
          "",
          ""
        ],
        [
          "recoded9",
          "… regularly lied to your parents or friends about the amount of time you spend on social media?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn19",
          "",
          ""
        ],
        [
          "recoded10",
          "… regularly felt angry or frustrated if you weren't able to use social media?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn8",
          "",
          ""
        ],
        [
          "recoded11",
          "… often used social media secretly?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn21",
          "",
          ""
        ],
        [
          "recoded12",
          "… been unable to stop using social media, even though others told you that you really should?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn12",
          "",
          ""
        ],
        [
          "recoded13",
          "… regularly had no interest in hobbies or other activities because you would rather use social media?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn23",
          "",
          ""
        ],
        [
          "recoded14",
          "… often felt bad when you could not use social media?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn9",
          "",
          ""
        ],
        [
          "recoded15",
          "… often used social media to escape from negative feelings?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn15",
          "",
          ""
        ],
        [
          "recoded16",
          "… had serious conflict with your parent(s) and sibling(s) because of your social media use?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn26",
          "",
          ""
        ],
        [
          "recoded17",
          "… had serious problems at school or at work because you were spending too much time on social media?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn25",
          "",
          ""
        ],
        [
          "recoded18",
          "… regularly found that you can't think of anything else but the moment that you will be able to use social media again?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn2",
          "",
          ""
        ],
        [
          "recoded19",
          "… regularly had arguments with others because of your social media use?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn18",
          "",
          ""
        ],
        [
          "recoded20",
          "…jeopardised or lost an important friendship or relationship because you were spending too much time on social media?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn27",
          "",
          ""
        ],
        [
          "recoded21",
          "… regularly felt dissatisfied because you wanted to spend more time on social media?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn6",
          "",
          ""
        ],
        [
          "recoded22",
          "… regularly used social media to take your mind off your problems?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn13",
          "",
          ""
        ],
        [
          "recoded23",
          "… regularly not had enough sleep because you were using social media too late at night?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn17",
          "",
          ""
        ],
        [
          "recoded24",
          "… regularly devoted no attention to people around you (e.g. family or friends) because you were using social media?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn22",
          "",
          ""
        ],
        [
          "recoded25",
          "… felt the need to use social media more and more often?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn4",
          "",
          ""
        ],
        [
          "recoded26",
          "… regularly hidden your social media use from others?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn20",
          "",
          ""
        ],
        [
          "recoded27",
          "… often not paid attention at school, while doing homework or at work because you were using social media?",
          "likert",
          "Yes|No",
          "1|0",
          "1",
          "",
          "",
          "No",
          "100px",
          "sn16",
          "",
          ""
        ],
        [
          "recoded28",
          "How long after you wake up do you check social media? Please enter an answer in MINUTES. <br> If you do NOT own any social media accounts, please enter 10000",
          "number",
          "",
          "",
          "",
          "",
          "1",
          "No",
          "",
          "sn28",
          "",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "sources_of_support_jf1.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "optional",
          "side_by_side",
          ""
        ],
        [
          "Instructions1",
          "<div align=\"right\">School of Psychology and Clinical Language Sciences<br>\r\nWhiteknights<br>\r\nReading RG6 6AL</div>\r\n<h2>University of Reading</h2><br>\r\n<h2>Title of Study: Investigating attentional biases to neutral and pleasant images 2: An eye-tracking study</h2><br>\r\n<h2>Debrief </h2>\r\n\r\n<br>\r\n<table class=\"table\">\r\n  <tr>\r\n    <td><b>Investigator(s):</b></td>\r\n    <td><b>Email:</b></td>\r\n    <td><b>Telephone:</b></td>\r\n  </tr>\r\n    <tr>\r\n    <td>Anthony Haffey</td>\r\n    <td>anthony.haffey@reading.ac.uk</td>\r\n    <td>-01183788523-</td>\r\n  </tr>\r\n  <tr>\r\n    <td>Chen Zhao</td>\r\n    <td>c.zhao5@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n<tr>\r\n    <td>Nicholas Hedger</td>\r\n    <td>n.hedger@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n  <tr>\r\n    <td><b>Researcher(s):</b></td>\r\n  </tr>\r\n  <tr>\r\n    <td>Joe Forrest</td>\r\n    <td>j.forrest@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n</table>\r\nIf you feel affected by the issues raised in the study, and your concerns about these issues remain after you have completed the session, you can contact the researchers listed above. However, there are other external sources of support that should be able to address your concerns, as listed:\r\n<br><br>\r\n<ul style=\"list-style-type:disc\">\r\n         <li>NHS online: www.NHS.uk if you are concerned about your alcohol and/or social networking behaviours \r\n</li>\r\n         <li>Mind: www.mind.org.uk if you wish to seek mental health support on alcohol and/or social networking behaviour\r\n</li>\r\n         <li>University of Reding Counselling Services: http://www.reading.ac.uk/internal/staffportal/SASstaff/SASwellbeing  provides 24/7 online support for students. You can also use this website to book an appointment to meet with a counsellor, if you prefer. \r\n</li>\r\n<li>Your General Practitioner (GP): https://www.nhs.uk/using-the-nhs/nhs-services/gps/gp-online-services  you can book an appointment online to meet with your GP, if you wish to seek help around alcohol and/or gambling behaviour. \r\n</li>\r\n      </ul>",
          "instruct",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "",
          ""
        ]
      ],
      "tester.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "score: mce_total",
          "optional",
          "btn_width",
          "reversed?",
          "btn_width",
          ""
        ],
        [
          "Instructions1",
          "<span style='color:#006699'><span style='font-size:20px'>For the following items, please reply with 1 (rarely/never), 2 (occasionally), 3 (often) or 4 (almost always/always) </span></span>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "barratt1",
          "1. I plan tasks carefully",
          "date",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "4|3|2|1",
          "No",
          "100px",
          "Reversed",
          "100px",
          ""
        ],
        [
          "barratt2",
          "2. I do things without thinking",
          "dropdown",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "1|2|3|4",
          "No",
          "100px",
          "",
          "100px",
          ""
        ],
        [
          "barratt3",
          "3. I don’t “pay attention”",
          "para",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "1|2|3|4",
          "No",
          "100px",
          "",
          "100px",
          ""
        ],
        [
          "barratt4",
          "4. I am self-controlled",
          "radio",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "4|3|2|1",
          "No",
          "100px",
          "Reversed",
          "100px",
          ""
        ],
        [
          "barratt5",
          "5. I concentrate easily",
          "slider",
          "0|50",
          "0|50",
          "4|3|2|1",
          "No",
          "100px",
          "Reversed",
          "100px",
          ""
        ],
        [
          "barratt6",
          "6. I am a careful thinker",
          "text",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "4|3|2|1",
          "No",
          "100px",
          "Reversed",
          "100px",
          ""
        ],
        [
          "barratt7",
          "7. I say things without thinking",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "1|2|3|4",
          "No",
          "100px",
          "",
          "100px",
          ""
        ],
        [
          "barratt8",
          "8. I act on the spur of the moment",
          "likert",
          "Rarely/Never|Occasionally|Often|Almost always/Always",
          "1|2|3|4",
          "1|2|3|4",
          "No",
          "100px",
          "",
          "100px",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ],
      "urop_demographics.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "optional",
          "values",
          "side_by_side",
          "btn_width",
          "other",
          "question_width",
          ""
        ],
        [
          "Gender",
          "Gender",
          "radio",
          "Male|Female|Other",
          "No",
          "",
          "yes",
          "100px",
          "",
          "75%",
          ""
        ],
        [
          "Age",
          "Age",
          "number",
          "",
          "No",
          "",
          "",
          "",
          "",
          "75%",
          ""
        ],
        [
          "Education",
          "Education (which level are you currently in, or is the highest you've completed)",
          "dropdown",
          "Some high school| High school graduate| Some college, no degree| Associate's degree| Bachelor's degree|Graduate degree (Master's, Doctorate, etc.)",
          "No",
          "",
          "",
          "",
          "",
          "75%",
          ""
        ],
        [
          "Country",
          "What is your country of residence?",
          "text",
          "",
          "No",
          "",
          "",
          "",
          "",
          "75%",
          ""
        ],
        [
          "English_Fluency",
          "Do you speak English fluently?",
          "radio",
          "Yes|No",
          "No",
          "",
          "yes",
          "200px",
          "",
          "75%",
          ""
        ],
        [
          "English_Age",
          "At what age did you start learning English? (write \"0\" if from birth)",
          "number",
          "",
          "No",
          "",
          "",
          "",
          "",
          "75%",
          ""
        ],
        [
          "Native_language",
          "What is your native language(s)? (If 'other' please specify)",
          "checkbox",
          "British English",
          "No",
          "",
          "",
          "",
          "yes",
          "75%",
          ""
        ],
        [
          "Age_started_language",
          "At what age did you start using this language most? (write \"0\" if from birth)",
          "number",
          "",
          "No",
          "",
          "",
          "",
          "",
          "75%",
          ""
        ],
        [
          "Tone_languages",
          "Can you understand or speak any tone languages (e.g. Mandarin, Thai)? If 'yes' please specify",
          "checkbox",
          "No|Yes",
          "No",
          "",
          "",
          "",
          "yes",
          "75%",
          ""
        ],
        [
          "Handedness",
          "What is your preferred hand?",
          "radio",
          "Left|Right|Both",
          "No",
          "",
          "yes",
          "100px",
          "",
          "75%",
          ""
        ],
        [
          "Clinical_diagnosis",
          "Do you have a clinical diagnosis of any of the following conditions? (Please select any that apply)",
          "checkbox",
          "Autism spectrum disorder (ASD)|Dyslexia|Attention-deficit disorder (ADD)/ Attention deficit hyperactivity disorder (ADHD)|Depression|Anxiety|Another mental health condition|A chronic physical health condition|None of the above",
          "No",
          "",
          "",
          "",
          "",
          "75%",
          ""
        ],
        [
          "Hearing_disorders",
          "As far as you know, do you have/have you had any hearing disorders (e.g. hearing loss)?",
          "dropdown",
          "Yes|No",
          "No",
          "",
          "yes",
          "200px",
          "",
          "75%",
          ""
        ],
        [
          "Absolute_pitch",
          "Do you have absolute pitch (or perfect pitch; the ability to identify a musical note without a reference tone)?",
          "radio",
          "Yes|No",
          "No",
          "",
          "yes",
          "200px",
          "",
          "75%",
          ""
        ],
        [
          "Music_training",
          "How many years of formal music training (on a musical instrument including voice) have you had? Please list your years of experience, e.g., piano, 10 years; voice, 2 years",
          "text",
          "",
          "No",
          "",
          "",
          "",
          "",
          "75%",
          ""
        ],
        [
          "",
          "",
          "",
          ""
        ]
      ],
      "urop_panas.csv": [
        [
          "item_name",
          "text",
          "type",
          "answers",
          "values",
          "score:panas_tot",
          "score:pos_aff",
          "score:neg_aff",
          "optional",
          "btn_width",
          ""
        ],
        [
          "Instructions1",
          "<span style='color:#006699'><span style='font-size:20px'>Choose one response that best describes how strongly each item applies to how you have felt during the <b><u>past week</u></b>:<br>\r\n<br>\r\nDuring the past week, I have felt ...</span></span>",
          "instruct",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ],
        [
          "PANAS1",
          "Interested",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS2",
          "Distressed",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS3",
          "Excited",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS4",
          "Upset",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS5",
          "Strong",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS6",
          "Guilty",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS7",
          "Scared",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS8",
          "Hostile",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS9",
          "Enthusiastic",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS10",
          "Proud",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS11",
          "Irritable",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS12",
          "Alert",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS13",
          "Ashamed",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS14",
          "Inspired",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS15",
          "Nervous",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS16",
          "Determined",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS17",
          "Attentive",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS18",
          "Jittery",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS19",
          "Active",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "1",
          "1",
          "",
          "No",
          "100px",
          ""
        ],
        [
          "PANAS20",
          "Afraid",
          "likert",
          "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
          "1|2|3|4|5",
          "r1",
          "",
          "r1",
          "No",
          "100px",
          ""
        ],
        [
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          "",
          ""
        ]
      ]
    }
  },
  "data": {
    "servers": {}
  },
  "code": {
    "user": {
      "chenexample": "<script src=\"libraries/jquery-3.6.0.min.js\"></script>\r\n<video id=\"this_video\" width=\"320\" height=\"240\" controls>\r\n  <source src=\"audio_and_video.mp4\" type=\"video/mp4\">\r\n  <source src=\"movie.ogg\" type=\"video/ogg\">\r\nYour browser does not support the video tag.\r\n</video>\r\n\r\n<video id=\"video_only\" width=\"320\" height=\"240\" controls>\r\n  <source src=\"video.mp4\" type=\"video/mp4\">\r\n  <source src=\"movie.ogg\" type=\"video/ogg\">\r\nYour browser does not support the video tag.\r\n</video>\r\n\r\n<audio id=\"this_audio\" src=\"audio.wav\"></audio>\r\n\r\n\r\n<button id=\"start_video\">Start</button>\r\n\r\n<script>\r\nvid = document.getElementById(\"this_video\");\r\naudio = document.getElementById(\"this_audio\");\r\n\r\nfunction playVid() {\r\n    vid.play();\r\n}\r\n\r\nfunction pauseVid() {\r\n    vid.pause();\r\n}\r\n\r\n$(\"#start_video\").on(\"click\", function(){\r\n  document.getElementById(\"video_only\").play()\r\n  //playVid();\r\n  audio.play();\r\n});\r\n\r\n\r\n</script>\r\n",
      "webgazer_3": "<!--\r\n    This is based on code from the OSF repository <a href=\"https://osf.io/jmz79/\" target=\"_blank\">https://osf.io/jmz79/</a> which accompanies the publication \"Online webcam-based eye tracking in cognitive science: a first look\" by Semmelmann & Weigelt, published in Behavior Research Methods in 2017. Please find the abstract and information about the code, analyses, and data below. This work is intended for scientific use only.\r\nWritten by Kilian Semmelmann, tolcam@ksemmelm.de, 2017. <br><br>\r\n\r\nUpdates by Anthony Haffey (a.haffey@reading.ac.uk) 2020-21 to make this a task that works on Collector.\r\n-->\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <link href=\"libraries/webgazer/css/jquery-ui.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <link href=\"libraries/webgazer/css/jquery.mobile-1.4.5.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <link href=\"libraries/webgazer/css/tolcam.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <script src=\"libraries/webgazer/js/jquery-1.12.3.min.js\"></script>\r\n    <script src=\"libraries/webgazer/js/jquery-ui.js\"></script>\r\n    <script src=\"libraries/webgazer/js/jquery.mobile-1.4.2.min.js\"></script>\r\n    <script src=\"libraries/webgazer/js/simpleheat.js\"></script>\r\n</head>\r\n<style>\r\n.stimuli_img, .stimuli_video{\r\n  object-fit: fill;\r\n  margin:auto;\r\n  top:0;\r\n  bottom:0;\r\n  vertical-align: middle;\r\n  position: absolute;\r\n  transform: translate(-50%, 0);\r\n  left: 50%;\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n}\r\n\r\n#stimuli_fixation{\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  -moz-transform: translateX(-50%) translateY(-50%);\r\n  -webkit-transform: translateX(-50%) translateY(-50%);\r\n  transform: translateX(-50%) translateY(-50%);\r\n  font-size:100px;\r\n  text-align:center;\r\n  height:150px;\r\n}\r\n</style>\r\n<body>\r\n  <div id=\"instruction\">\r\n    <div id=\"instruction_1\" class=\"instruction_page\">\r\n      Thank you for participating in this project. You will need to use your camera for eye-tracking to work in this experiment.\r\n    </div>\r\n\r\n    <div id=\"instruction_2\" class=\"instruction_page\">\r\n      <h1>Webcam Setup</h1>\r\n      <br />\r\n      <div id=\"setup_after\">\r\n          You can take a short break and move your head. Before continuing, please follow the instructions noted below.<br />\r\n      </div>\r\n      <br />\r\n      Please turn off your mobile phone and close all other programs and websites. Then carefully read and follow these instructions:<br />\r\n      <img src=\"libraries/webgazer/imgs/instructions_donttilt.png\" style = \"width: 100%; margin-top: 20px; margin-bottom: 20px;\"/> <br>\r\n      If possible, please adjust your position until your face matches the picture below as much as possible:<br />\r\n      <br />\r\n      <table>\r\n        <tr>\r\n          <td>\r\n            <img style=\"height:300px;width:400px; -webkit-transform: scaleX(-1); transform:scaleX(-1);\" src=\"libraries/webgazer/imgs/ideal_pose.png\"/>\r\n          </td>\r\n          <td>\r\n            <span id=\"webcam_insert\"></span>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      <br />\r\n      <div id=\"setup_first\">\r\n          This study consists of multiple five-minute parts with pauses inbetween. After you clicked \"start\", please avoid moving your head. If you move too much, the calibration can fail and you might not be able to finish the Project.\r\n      </div>\r\n      <br />\r\n    </div>\r\n\r\n    <div id=\"instruction_3\" class=\"instruction_page\">\r\n      <div id=\"beforetherest\">\r\n        <h1>Proceed</h1>\r\n        <br />\r\n        Click \"Proceed\" to move onto the next trial\r\n        <button onclick=\"Phase.submit()\" class=\"btn\">Proceed</button>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"instruction_back\" class=\"instruction_navigation\">\r\n      <div id=\"instruction_back_text\">\r\n        &lt;\r\n      </div>\r\n    </div>\r\n    <div id=\"instruction_continue\" class=\"instruction_navigation\">\r\n      <div id=\"instruction_continue_text\">\r\n        &gt;\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div id=\"calibration_dot\" class=\"stimuli\">\r\n    <div id=\"calibration_cnt\">0</div>\r\n  </div>\r\n  <div id=\"stimulus\" class=\"stimuli\">\r\n    <img src=\"libraries/webgazer/imgs/talking.jpg\" />\r\n  </div>\r\n  <div id=\"stimuli_div\"></div> \r\n  <div id=\"stimuli_dot\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_bar\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_fixation\" class=\"stimuli\">+</div>\r\n  <div id=\"stimuli_prime\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_target\" class=\"stimuli\">X</div>\r\n  <div id=\"instruction_message\"></div>\r\n\r\n  <div id=\"message\">\r\n    no message\r\n  </div>\r\n \r\n  <!-- data quality info -->\r\n  <input type=\"hidden\" name=\"window_inner_height\" id=\"window_inner_height\"/>\r\n  <input type=\"hidden\" name=\"window_inner_width\"  id=\"window_inner_width\"/>\r\n  <input type=\"hidden\" name=\"fixation_rts\"        id=\"fixation_rts\"/>\r\n \r\n</body>\r\n</html>\r\n<script>\r\n\r\n/*\r\n* Haffey variables\r\n*/\r\n\r\nvar all_fixation_rts = [];\r\n\r\nvar image_pair;\r\nPhase.set_timer(function(){\r\n  function refuse_height(){\r\n    bootbox.confirm(\"Your window height needs to be at least {{min_height}} before starting. Please make your window as big as possible before proceeding.\", function(result){\r\n      if(window.innerHeight < parseFloat(\"{{min_height}}\".replace(\"px\",\"\"))){\r\n        refuse_height();\r\n      } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n    });\r\n  };\r\n  function refuse_width(){\r\n    bootbox.confirm(\"Your window width needs to be at least {{min_width}} before starting. Please make your window as big as possible before proceeding.\", function(result){\r\n      if(window.innerWidth < parseFloat(\"{{min_width}}\".replace(\"px\",\"\"))){\r\n        refuse_width();\r\n      } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n    });\r\n  }\r\n  if(window.innerHeight < parseFloat(\"{{min_height}}\".replace(\"px\",\"\"))){\r\n    refuse_height();\r\n  } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n  if(window.innerWidth <  parseFloat(\"{{min_width}}\".replace(\"px\",\"\"))){\r\n    refuse_width();\r\n  } else {\r\n    $(\"#window_inner_height\").val(window.innerHeight);\r\n    $(\"#window_inner_width\").val(window.innerWidth);\r\n  }\r\n},0);\r\n\r\n\r\n/*\r\n* default settings\r\n*/\r\n\r\nvar calibrations     = \"{{calibrations}}\";\r\nvar image_file       = \"{{image_file}}\"; \r\nvar design_type      = \"{{design_type}}\"; \r\nvar calibration_skip = \"{{calibration_skip}}\";\r\nvar image_height     = \"{{image_height}}\";\r\nvar image_width      = \"{{image_width}}\";\r\nvar left_side        = \"{{left_side}}\";\r\nvar stim_duration    = \"{{stim_duration}}\";\r\nvar trials           = \"{{trials}}\";\r\nvar trial_order      = \"{{trial_order}}\";\r\n\r\nvar save_scripts = Object.keys(parent.parent.project_json.storage_scripts).map(function(server){\r\n  return parent.parent.project_json.storage_scripts[server];\r\n});\r\n\r\n\r\n/*\r\n* work out the location of the images\r\n*/\r\n\r\nif(calibrations.indexOf(\"calibrations\") !== -1){\r\n  calibrations = 13;\r\n}\r\nif(calibration_skip.indexOf(\"calibration_skip\") !== -1){\r\n  calibration_skip = \"no\";\r\n}\r\nconsole.log(stim_duration);\r\nif(stim_duration < 1){\r\n  stim_duration = 2000;\r\n}\r\nif(left_side.indexOf(\"left_side\") !== -1){\r\n  left_side = \"counterbalance\";  \r\n}\r\n\r\n\r\n\r\n\r\n/************************************\r\n * HELPER FUNCTIONS\r\n ************************************/\r\n/**\r\n * Shuffles array in place.\r\n * @param {Array} a items The array containing the items.\r\n * @author http://stackoverflow.com/a/2450976/4175553\r\n */\r\nfunction shuffle(array) {\r\n  var currentIndex = array.length, temporaryValue, randomIndex;\r\n\r\n  // While there remain elements to shuffle...\r\n  while (0 !== currentIndex) {\r\n\r\n    // Pick a remaining element...\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n\r\n    // And swap it with the current element.\r\n    temporaryValue = array[currentIndex];\r\n    array[currentIndex] = array[randomIndex];\r\n    array[randomIndex] = temporaryValue;\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\n/************************************\r\n * WEBCAM PARAMETERS\r\n ************************************/\r\nvar cam = {};\r\ncam.overlay = '';\r\ncam.width = 400;\r\ncam.height = 300;\r\ncam.topDist = '0px';\r\ncam.leftDist = '0px';\r\ncam.recording = 0;\r\ncam.validating = 0;\r\ncam.calibrating = 0;\r\ncam.initialized = 0;\r\n\r\n/************************************\r\n * CALIBRATION PARAMETERS\r\n ************************************/\r\nvar calibrating = 0;\r\nvar t_calibration_start;\r\nvar calibration_no = 0;\r\nvar calibration = {};\r\ncalibration.points = [];\r\ncalibration.method = \"watch\"; // click or watch\r\ncalibration.calibrations = calibrations // how many calibration dots\r\ncalibration.duration = 20; // how often does one position get sampled\r\ncalibration.instruction = 'Please look at each dot until <br /> it disappears. <br /><br />Please do not move your head,<br />only move your eyes.';\r\nif(\"{{skip_instruct}}\" == \"on\"){\r\n  calibration.instruction_duration = 0;\r\n} else {\r\n  calibration.instruction_duration = 10000;\r\n}\r\n\r\n/************************************\r\n * VALIDATION PARAMETERS\r\n ************************************/\r\nvar validating = 0;\r\nvar validation_no = 0;\r\nvar validation_current = {\"x\": 0, \"y\": 0};\r\nvar validation_attempt = 1;\r\nvar validation = {};\r\nvalidation.validations = 5;\r\nvalidation.duration = 20;\r\nvalidation.points = [];\r\nvalidation.timeout = 20000; // if no validation happens within X ms, validation will be ended and re-calibrated\r\nvalidation.attempts = 5; // how often can validation be failed PER validation\r\nvalidation.distance = 200; // offset distance in pixel to be a valid validation sample\r\n\r\n\r\n/************************************\r\n* STARTING PARAMETERS\r\n*************************************/\r\nvar stimuli_no = 0;\r\n\r\n/************************************\r\n * DESIGN\r\n ************************************/\r\nvar design = {};\r\nvar block_no = 0;\r\nvar trial_no = 0;\r\n\r\neyetrack_designs = {\r\n  stimuli: {\r\n    'type': 'stimuli',\r\n    'trials': trials,\r\n    'iti': 500,\r\n    'instruction': '{{text}}',\r\n    'instruction_duration': 10000\r\n  },\r\n  simple: {\r\n    'type': 'simple',\r\n    'trials': 24,\r\n    'iti': 500,\r\n    'instruction': 'Please look at the cross.<br />When the dot appears, please look at it.<br /><br /><br />Do not move your head, <br />only use your eyes.',\r\n    'instruction_duration': 5000\r\n  },\r\n  pursuit: {\r\n    'type': 'pursuit', \r\n    'trials': 24,\r\n    'iti': 500,\r\n    'instruction': 'A black dot will appear. Please <br />look at it. When it turns <span style=\"color: #dd494b;\">red</span>,<br /> Please follow its movement with your eyes.<br /><br />Do not move your head, <br />only use your eyes.',\r\n    'instruction_duration': 7000\r\n  }\r\n}\r\n\r\nif(\"{{skip_instruct}}\" == \"on\"){\r\n  eyetrack_designs.stimuli.instruction_duration = 0;\r\n}\r\n\r\n\r\ndesign.blocks = [\r\n  eyetrack_designs[[\"{{design_type}}\"]]\r\n];\r\n\r\n//design.blocks = shuffle(design.blocks);\r\ndesign.blocks_randomized = 1; // shall the blocks be shuffled?\r\ndesign.trials_randomized = 1; // same for trials\r\ndesign.calibrate = \"high\";\r\ndesign.recalibrate = 1;\r\n\r\n\r\n\r\n/************************************\r\n * DATA VARIABLES\r\n ************************************/\r\nvar data = [];\r\nvar data_current = {};\r\nvar status = '-';\r\n\r\n/**\r\ndata.design = jQuery.extend(true, {}, design);\r\n **/\r\n\r\n/************************************\r\n * SET UP WEBGAZER\r\n ************************************/\r\nfunction loadWebgazer() {\r\n  $('canvas').remove();\r\n  cam.initialized = 0;\r\n  $.getScript( \"libraries/webgazer/js/webgazer_old.js\" )\r\n    .done(function( script, textStatus ) {\r\n      initializeWebgazer();\r\n      $('#message').html('Please allow for access on your Webcam on the top part of the screen. <br /><br />Remember: We will NOT transmit your video, but only process it locally and transmit numbers to our server.').show();\r\n    })\r\n    .fail(function( jqxhr, settings, exception ) {\r\n      $( \"div.log\" ).text( \"Triggered ajaxError handler.\" );\r\n    });\r\n}\r\n\r\n\r\nfunction initializeWebgazer() {\r\n \r\n  //webgazer.clearData()\r\n  webgazer.setRegression('ridge') /* currently must set regression and tracker */\r\n    .setTracker('clmtrackr')\r\n    .setGazeListener(function(d, clock) {\r\n      //console.log(data); /* data is an object containing an x and y key which are the x and y prediction coordinates (no bounds limiting) */\r\n      //console.log(clock); /* elapsed time in milliseconds since webgazer.begin() was called */\r\n      if (d !== null) {\r\n\r\n        if (cam.calibrating == 1) {\r\n            var $cd = $('#calibration_dot');\r\n            var cx = parseInt(Math.round($cd.offset().left));\r\n            var cy = parseInt(Math.round($cd.offset().top));\r\n            var cp = d;\r\n            var dist = Math.sqrt(((cp.x - cx) * (cp.x - cx)) + ((cp.y - cy) * (cp.y - cy)));\r\n            var c = $('#calibration_cnt').html();\r\n            data_current.raw.push({'time': clock, 'x': cp.x, 'y': cp.y, 'cx': cx, 'cy': cy, 'dist': dist, 'c': c});\r\n        }\r\n\r\n\r\n        if (cam.validating == 1) {\r\n            // see whether dx and dy are within 100px radius of target\r\n            var dist = parseInt(Math.sqrt(((d.x - validation_current.x) * (d.x - validation_current.x)) + ((d.y - validation_current.y) * (d.y - validation_current.y))));\r\n            var c = parseInt($('#calibration_cnt').html());\r\n            if (dist < validation.distance) {\r\n                data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'vx': validation_current.x, 'vy': validation_current.y, 'dist': dist, 'c': c, 'valid': 1});\r\n                if (c < calibration.duration) {\r\n                    $('#calibration_cnt').html(++c);\r\n                } else {\r\n                    cam.validating = 0;\r\n                    clearTimeout(t);\r\n                    $('#calibration_dot').hide();\r\n                    validation_no++;\r\n                    saveData();\r\n                    setTimeout(\"validate();\", 500);\r\n                }\r\n            } else {\r\n                data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'vx': validation_current.x, 'vy': validation_current.y, 'dist': dist, 'c': c, 'valid': 0});\r\n            }\r\n        }\r\n\r\n        if (cam.recording == 1) {\r\n            var tx = -1;\r\n            var ty = -1;\r\n            if (data_current.task == \"simple\" || data_current.task == \"pursuit\") {\r\n                var $sd = $('#stimuli_dot');\r\n                var tx = parseInt(Math.round($sd.offset().left));\r\n                var ty = parseInt(Math.round($sd.offset().top));\r\n            }\r\n            data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'tx': tx, 'ty': ty, 'status': status});\r\n            //console.log(data.trials[trial_no].raw.length + ' ' + d.x + ' ' + d.y);\r\n        }\r\n      }\r\n    })\r\n    .begin()\r\n    .showPredictionPoints(false); /* shows a square every 100 milliseconds where current prediction is */\r\n\r\n  cl = webgazer.getTracker().clm;\r\n\r\n  checkWebgazer();\r\n}\r\n\r\n\r\nfunction checkWebgazer() {\r\n  if (webgazer.isReady()) {\r\n    console.log('webgazer is ready.');\r\n    initializeCam();\r\n  } else {\r\n    setTimeout(checkWebgazer, 100);\r\n  }\r\n}\r\n\r\n/************************************\r\n * SET UP WEBCAM\r\n ************************************/\r\nfunction initializeCam() {\r\n  var video = document.getElementById('webgazerVideoFeed');\r\n  video.style.display = 'block'; // block\r\n  video.style.position = 'relative';\r\n  video.width = cam.width;\r\n  video.height = cam.height;\r\n  video.style.margin = '0px';\r\n  $('#webgazerVideoFeed').css({\r\n    'left': '50%',\r\n    '-webkit-transform': 'scaleX(-1)',\r\n    'transform': 'scaleX(-1) translate(50%, 0)',\r\n    'margin': '20px'\r\n  }).detach().insertAfter('#webcam_insert').get(0).play();\r\n \r\n  webgazer.params.imgWidth = cam.width;\r\n  webgazer.params.imgHeight = cam.height;\r\n\r\n  cam.overlay = document.getElementById('overlay');\r\n  if (cam.overlay === null) {\r\n      cam.overlay = document.createElement('canvas');\r\n      cam.overlay.id = 'overlay';\r\n      document.body.appendChild(cam.overlay);\r\n  }\r\n  cam.overlay.style.position = 'absolute';\r\n  cam.overlay.width = cam.width;\r\n  cam.overlay.height = cam.height;\r\n  cam.overlay.style.top = cam.topDist;\r\n  cam.overlay.style.left = cam.leftDist;\r\n  cam.overlay.style.margin = '0px';\r\n\r\n  cam.initialized = 1;\r\n\r\n  $('#message').html('Webcam access successful.').delay(1000).fadeOut(1000);\r\n  $(\"#instruction_continue\").show();\r\n  parent.parent.requestFullScreen(parent.parent.document.documentElement);\r\n}\r\n\r\n/************************************\r\n * START BLOCKS\r\n ************************************/\r\nfunction prepareBlock() {\r\n  if (cam.initialized == 1) {\r\n    if (block_no < design.blocks.length) {\r\n      trial_no = 0;\r\n\r\n      webgazer.resume();\r\n      if (design.recalibrate == 1 || block_no == 0) {\r\n        $('#instruction_message').html(calibration.instruction).show();\r\n        setTimeout(\"$('#instruction_message').fadeOut(1000);\", calibration.instruction_duration);\r\n        setTimeout(\"startCalibration();\", design.blocks[block_no].instruction_duration + 2000);\r\n      } else {\r\n        $('#instruction_message').html(design.blocks[block_no].instruction).show();\r\n        setTimeout(\"$('#instruction_message').fadeOut(1000);\", design.blocks[block_no].instruction_duration);\r\n        setTimeout(\"prepareTrial();\", design.blocks[block_no].instruction_duration + 2000);\r\n      }\r\n    } else {\r\n      endExperiment();\r\n    }\r\n  } else {\r\n    setTimeout(\"prepareBlock();\", 500);\r\n  }\r\n}\r\n\r\n\r\n/************************************\r\n * CALIBRATE\r\n ************************************/\r\nfunction startCalibration() {\r\n  if(calibration_skip == \"skip\" ||\r\n     calibration_skip == \"on\"  ||\r\n     calibration_skip == \"yes\" ||\r\n     calibration_skip == \"true\"){\r\n    endValidation()\r\n  } else {\r\n    $('.stimuli').hide();\r\n    $('#calibration_dot').hide();\r\n    if (block_no == 0) {\r\n        $('#calibration_dot').click(function() {\r\n            calibrateHit();\r\n        });\r\n    }\r\n    calibration_no = 0;\r\n    //webgazer.clearData();\r\n    window.localStorage.clear();\r\n    //webgazer.begin();\r\n    t_calibration_start = new Date().getTime();\r\n    calibrate();\r\n  }\r\n}\r\n\r\nvar gaze_phase = \"unknown\";\r\n\r\nfunction calibrate() {\r\n  gaze_phase = \"calibrate\";\r\n  clearTimeout(t);\r\n  if (calibration_no < calibration.calibrations) {\r\n    $('#calibration_cnt').html(calibration.duration);\r\n    $c = $('#calibration_dot');\r\n    //var c = Math.floor(Math.random() * calibration.points.length);\r\n    //var p = calibration.points.splice(c, 1)[0];\r\n    if (calibration.points.length == 0) {\r\n     \r\n      /*\r\n      * allocate calibration by pixels rather than percentages\r\n      */\r\n     \r\n      var min_width   = \"{{min_width}}\".replace(\"px\",\"\");                          // e.g. 1000px in Borcsok et al., (2020)\r\n      var min_height   = \"{{min_height}}\".replace(\"px\",\"\");                         // e.g. 400px  in Borcsok et al., (2020)\r\n      var mid_screen_x = window.innerWidth / 2;\r\n      var mid_screen_y = window.innerHeight / 2;\r\n     \r\n      calibration.points = shuffle([\r\n       \r\n        {\r\n          position: \"middle\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"top\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"bottom\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"left\",\r\n          x: mid_screen_x - min_width/2 * .9,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"right\",\r\n          x: mid_screen_x + min_width/2 * .9,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"outer-top-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-top-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"inner-top-left\",\r\n          x: mid_screen_x - min_width/2  * .45,\r\n          y: mid_screen_y - min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-top-right\",\r\n          x: mid_screen_x + min_width/2  * .45,\r\n          y: mid_screen_y - min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .45,\r\n          y: mid_screen_y + min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .45,\r\n          y: mid_screen_y + min_height/2 * .45\r\n        }\r\n      ]);\r\n     \r\n    }\r\n    var p = calibration.points.pop();\r\n    $c.css({\r\n        'left' : p.x,\r\n        'top' : p.y\r\n    });\r\n\r\n    data_current = {\r\n        'type': 'calibration',\r\n        'block': block_no,\r\n        'trial': calibration_no,\r\n        'x': p.x,\r\n        'y': p.y,\r\n        'raw': []\r\n    };\r\n\r\n    cam.calibrating = 1;\r\n    $c.show();\r\n    if (calibration.method == 'watch') {\r\n      t = setTimeout(\"autoCalibration();\", 750);\r\n    }\r\n  } else {\r\n    endCalibration();\r\n  }\r\n}\r\n\r\nfunction calibrateHit() {\r\n  var c = $('#calibration_cnt').html();\r\n  /*\r\n  if ($('#webgazerVideoFeed').css('display') == 'block') {\r\n      $('#webgazerVideoFeed').css({\r\n          top: cam.topDist,\r\n          left: cam.leftDist,\r\n          display: 'none',\r\n          transform: '0'\r\n      });\r\n  }*/\r\n  if (c > 1 && cam.calibrating == 1) {\r\n    $('#calibration_cnt').html(--c);\r\n    if (calibration.method == \"watch\") {\r\n      t = setTimeout(\"autoCalibration();\", 100);\r\n      //requestAnimationFrame(autoCalibration);\r\n    }\r\n  } else {\r\n    $('#calibration_cnt').html(9999);\r\n    clearTimeout(t);\r\n    cam.calibrating = 0;\r\n    $('#calibration_dot').hide();\r\n    calibration_no++;\r\n    saveData();\r\n    calibrate();\r\n  }\r\n  return false;\r\n}\r\n\r\nvar t;\r\nfunction autoCalibration() {\r\n  calibrateLog();\r\n  if (cam.calibrating == 1) {\r\n    calibrateHit();\r\n  }\r\n}\r\n\r\nfunction calibrateLog() {\r\n  var $cd = $('#calibration_dot');\r\n  var cx = parseInt(Math.round($cd.offset().left));\r\n  var cy = parseInt(Math.round($cd.offset().top));\r\n  webgazer.watchListener(cx, cy);\r\n}\r\n\r\n\r\nfunction endCalibration() {\r\n  clearTimeout(t);\r\n  $('#calibration_dot').unbind(\"click\");\r\n  startValidation();\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * VALIDATE\r\n ************************************/\r\nfunction startValidation() {\r\n  validation_no = 0;\r\n  validate();\r\n}\r\n\r\nfunction validate() {\r\n  gaze_phase = \"validate\";\r\n  clearTimeout(t);\r\n  if (validation_no < validation.validations) { // if we there are validations left\r\n    $('#calibration_cnt').html(0);\r\n    var $c = $('#calibration_dot');\r\n   \r\n    if (validation.points.length == 0) {\r\n   \r\n      /*\r\n      * allocate positions by pixels rather than percentages\r\n      */\r\n     \r\n      var min_width   = \"{{min_width}}\".replace(\"px\",\"\");                          // e.g. 1000px in Borcsok et al., (2020)\r\n      var min_height   = \"{{min_height}}\".replace(\"px\",\"\");                         // e.g. 400px  in Borcsok et al., (2020)\r\n      var mid_screen_x = window.innerWidth / 2;\r\n      var mid_screen_y = window.innerHeight / 2;\r\n     \r\n      validation.points = shuffle([\r\n        {\r\n          position: \"top-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"top-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"middle\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n      ]);\r\n    }\r\n    var vp = validation.points.pop();\r\n    $c.css({\r\n        'left' : vp.x,\r\n        'top' : vp.y\r\n    });\r\n    $c.show();\r\n    validation_current.x = Math.round($c.offset().left);\r\n    validation_current.y = Math.round($c.offset().top);\r\n\r\n    data_current = {\r\n      'type': 'validation',\r\n      'block': block_no,\r\n      'trial': validation_no,\r\n      'x': validation_current.x,\r\n      'y': validation_current.y,\r\n      'raw': []\r\n    };\r\n    cam.validating = 1;\r\n    t = setTimeout(\"validateFail();\", validation.timeout);\r\n    //t = setTimeout('validation = 0;', 3000);\r\n  } else {\r\n    endValidation();\r\n  }\r\n}\r\n\r\nfunction validateFail() {\r\n  data_current.type = 'validationfail';\r\n  data_current.attempt = validation_attempt;\r\n  saveData();\r\n\r\n\r\n  cam.validating = 0;\r\n  webgazer.pause();\r\n\r\n  $('.stimuli').hide();\r\n  if (validation_attempt >= validation.attempts) {\r\n      $('#message').html('Unforuntately, the calibration failed too many times. Therefore, you can not participate in this Project. Please contact <a href=\"mailto:kilian.semmelmann@rub.de\">kilian.semmelmann@rub.de</a> if you have any questions. Thanks for your interest.').show();\r\n  } else {\r\n      validation_attempt++;\r\n      $('#message').html('The calibration failed. <br />Please follow the instructions and try again (try ' + (validation_attempt) + ' of ' + validation.attempts + ').').show().delay(5000).fadeOut(1000);\r\n      $('#instruction').show();\r\n  }\r\n  // TOOD: log validation-fail\r\n}\r\n\r\nfunction endValidation() {\r\n  cam.validating = 0\r\n  validation_attempt = 1;\r\n  webgazer.pause();\r\n  $('#instruction_message').html(design.blocks[block_no].instruction).show();\r\n  setTimeout(\"$('#instruction_message').fadeOut(1000);\", design.blocks[block_no].instruction_duration);\r\n  setTimeout(\"prepareTrial();\", design.blocks[block_no].instruction_duration + 2000);\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * START EXPERIMENT\r\n ************************************/\r\nvar t_trial_start;\r\nfunction prepareTrial() {\r\n  status = \"prepare\";\r\n  $('.stimuli').hide();\r\n  data_current = {\r\n      'type': 'trial',\r\n      'block': block_no,\r\n      'trial': trial_no,\r\n      'raw': []\r\n  };\r\n  webgazer.resume();\r\n  startTrial();\r\n}\r\n\r\n\r\nfunction startTrial() {\r\n  t_trial_start = new Date().getTime();\r\n  $('#stimuli_fixation').show();\r\n  status = \"fixation_onset\";\r\n  // use start function of block-type name\r\n  var fn = design.blocks[block_no].type+\"Start\";\r\n  window[fn]();\r\n}\r\n\r\n\r\nvar heat;\r\nfunction endTrial() {\r\n  $(\"#stimuli_div\").html(\"\");\r\n  clearTimeout(t);\r\n  cam.recording = 0;\r\n  webgazer.pause();\r\n  status = \"end\";\r\n  $('.stimuli').hide();\r\n  trial_no++;\r\n  saveData();\r\n\r\n  if (trial_no < design.blocks[block_no].trials) {\r\n    setTimeout(\"prepareTrial();\", design.blocks[block_no].iti);\r\n  } else {\r\n    block_no++;\r\n    if (block_no < design.blocks.length) {\r\n      window.localStorage.clear();\r\n      webgazer.clearData();\r\n      //loadWebgazer();\r\n      //prepareBlock();\r\n      navigation('pause');\r\n    } else {\r\n      endExperiment();\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction saveData() {\r\n \r\n \r\n  /*\r\n  * did the participant pass validation?\r\n  */\r\n  //data_current\r\n \r\n\r\n  /*\r\n  * change file name depending on whether it's calibration, validation or main trial?\r\n  * add calibration / validation / freeview number\r\n  */\r\n\r\n  var sub_trial_no = -1;\r\n  switch(gaze_phase){\r\n    case \"calibration\":\r\n      sub_trial_no = calibration_no;\r\n      break;\r\n    case \"validate\":\r\n      sub_trial_no = validation_no;\r\n     \r\n      /*\r\n      * did the participant pass? (assuming this is validation)\r\n      */\r\n      var valid_rows = 0;\r\n     \r\n      data_current.raw.forEach(function(row){\r\n        valid_rows += row.valid;\r\n      });\r\n     \r\n      break;\r\n    case \"freeview\":\r\n      sub_trial_no = stimuli_no;\r\n      break;\r\n     \r\n  }\r\n \r\n \r\n \r\n  data_current.raw = data_current.raw.map(function(row){\r\n    row.x = row.x - window.innerWidth/2;\r\n    row.y = row.y - window.innerHeight/2;\r\n   \r\n    if(typeof(image_pair) !== \"undefined\"){\r\n      Object.keys(image_pair).forEach(function(key){\r\n        row[key] = image_pair[key];\r\n      });\r\n    }\r\n    row.screen_width  = screen.width;\r\n    row.screen_height = screen.height;\r\n    row.window_width  = window.innerWidth;\r\n    row.window_height = window.innerHeight;\r\n    row.participant   = parent.parent.$(\"#participant_code\").val(),\r\n    row.trial_no      = sub_trial_no;\r\n   \r\n    if(valid_rows > 19){\r\n      row.valid_trial = true;\r\n    } else {\r\n      row.valid_trial = false;\r\n    }\r\n    return row;\r\n  });\r\n \r\n  data.push(data_current);\r\n  data_current = {};\r\n  sendData();\r\n}\r\n\r\n\r\nfunction sendData() {\r\n\r\n  var sub_trial_no = -1;\r\n  switch(gaze_phase){\r\n    case \"calibration\":\r\n      sub_trial_no = calibration_no;\r\n      break;\r\n    case \"validate\":\r\n      sub_trial_no = validation_no;\r\n      break;\r\n    case \"freeview\":\r\n      sub_trial_no = stimuli_no;\r\n      break;\r\n  }\r\n \r\n  switch(parent.parent.Project.get_vars.platform){\r\n    case \"preview\":\r\n      //do nothing\r\n      break;\r\n    case \"localhost\":\r\n      data.forEach(function(trial,trial_no){\r\n        if (trial !== null){\r\n          parent.parent.Collector.electron.fs.write_data(\r\n            parent.parent.Project.get_vars.location,\r\n            parent.parent.$(\"#participant_code\").val() + \"-\" +\r\n              parent.parent.project_json.trial_no      + \"-\" +\r\n              gaze_phase                               + \"-\" +\r\n              trial_no                                 + \"-\" +\r\n              sub_trial_no                             + \".csv\",\r\n            Papa.unparse(data[trial_no].raw)\r\n          );\r\n                                     \r\n                                     \r\n          parent.parent.online_save(parent.parent.Project.get_vars.location,\r\n                    parent.parent.$(\"#participant_code\").val() +\r\n                      gaze_phase +\r\n                      \"-\" +\r\n                      trial_no +\r\n                      \"-\" +\r\n                      sub_trial_no,\r\n                      \"-trial-\" +\r\n                      parent.parent.project_json.trial_no +\r\n                      \"-\" +\r\n                      trial_no,\r\n                    parent.parent.$(\"#completion_code\").val(),\r\n                    parent.parent.$(\"#prehashed_code\").val(),  \r\n                    Papa.unparse(data[trial_no].raw),          //the data\r\n          save_scripts,\r\n          function(){\r\n            parent.parent.online_data_obj.saves_ended ++;\r\n          });\r\n          data[trial_no] = null;\r\n        }\r\n      });\r\n      break;\r\n    default:\r\n      data.forEach(function(trial,trial_no){\r\n        if (trial !== null){\r\n         parent.parent.online_save(parent.parent.Project.get_vars.location,\r\n          parent.parent.$(\"#participant_code\").val() +\r\n            \"-\" + gaze_phase +\r\n            \"-trial-\" +\r\n            parent.parent.project_json.trial_no +\r\n            \"-\" +\r\n            trial_no +\r\n            \"-\" +\r\n            sub_trial_no,\r\n          parent.parent.$(\"#completion_code\").val(),\r\n          parent.parent.$(\"#prehashed_code\").val(),\r\n          \r\n          /*\r\n          * encrypt the data here\r\n          */\r\n          parent.parent.encrypt(\r\n            parent.parent.project_json.public_key,\r\n            Papa.unparse(data[trial_no].raw)          //the data  \r\n          ),\r\n          save_scripts,\r\n          function(){\r\n            parent.parent.online_data_obj.saves_ended ++;\r\n          });\r\n          data[trial_no] = null;\r\n        }\r\n      });\r\n       \r\n        break;\r\n  }\r\n}\r\n\r\n\r\nfunction endExperiment() {\r\n  Phase.submit();\r\n}\r\n\r\n\r\n/************************************\r\n * SIMPLE DOT VIEWING PARADIGM\r\n * If you want to introduce your own paradigms, follow the same structure and extend the design array above.\r\n ************************************/\r\nvar tSimple = {};\r\ntSimple.positions = [];\r\nfunction simpleStart() {\r\n    // if we don't have dot-positions any more, refill the array\r\n    if (tSimple.positions.length == 0) {\r\n        tSimple.positions = shuffle([\r\n            {x: \"20%\", y: \"20%\"},\r\n            {x: \"50%\", y: \"20%\"},\r\n            {x: \"80%\", y: \"20%\"},\r\n            {x: \"20%\", y: \"50%\"},\r\n            {x: \"80%\", y: \"50%\"},\r\n            {x: \"20%\", y: \"80%\"},\r\n            {x: \"50%\", y: \"80%\"},\r\n            {x: \"80%\", y: \"80%\"}\r\n        ]);\r\n    }\r\n    var pos = tSimple.positions.pop();\r\n    $('#stimuli_dot').css({\r\n        'top': pos.y,\r\n        'left': pos.x\r\n    });\r\n    data_current.task = 'simple';\r\n    data_current.x = pos.x;\r\n    data_current.y = pos.y;\r\n    data_current.condition = 'dot_' + pos.x + '_' + pos.y;\r\n\r\n    cam.recording = 1;\r\n    setTimeout('$(\"#stimuli_fixation\").hide(); status = \"fixation_offset\";', 1500);\r\n    setTimeout('simpleShowdot();', 2000);\r\n}\r\n\r\nfunction simpleShowdot() {\r\n    status = \"stimulus_onset\";\r\n    $(\"#stimuli_dot\").show();\r\n    setTimeout('status = \"stimulus_offset\"; endTrial();',  2000);\r\n}\r\n\r\n\r\n/************************************\r\n * POSNER VIEWING PARADIGM\r\n ************************************/\r\nfunction posnerStart() {\r\n    var p = Math.random() >= 0.5 ? '&gt;&gt;&gt;' : '&lt;&lt;&lt;';\r\n    $('#stimuli_prime').html(p);\r\n\r\n    var t = Math.random() >= 0.5 ? 'X' : 'N';\r\n    $('#stimuli_target').html(t);\r\n\r\n    var cond = Math.random() >= 0.7 ? 'incongruent' : 'congruent';\r\n\r\n    var tpos = 'left';\r\n    if ((cond == 'incongruent' && p == '&lt;&lt;&lt;') || ((cond == 'congruent' && p == '&gt;&gt;&gt;'))) {\r\n        tpos = 'right';\r\n    }\r\n\r\n    var pos = {};\r\n    if (tpos == 'left') {\r\n        pos.x = '20%';\r\n        pos.y = '30%';\r\n    } else {\r\n        pos.x = '80%';\r\n        pos.y = '30%';\r\n    }\r\n\r\n\r\n    $('#stimuli_target').css({\r\n        'top': pos.x,\r\n        'left': pos.y\r\n    });\r\n\r\n\r\n    data_current.task = 'posner';\r\n    data_current.x = pos.x;\r\n    data_current.y = pos.y;\r\n    data_current.condition = 'posner_' + pos.x + '_' + pos.y + '_' + tpos;\r\n\r\n    cam.recording = 1;\r\n    setTimeout(\"$('#stimuli_fixation').hide();\", 1000);\r\n    setTimeout('posnerShowprime();', 1500);\r\n}\r\n\r\nfunction posnerShowprime() {\r\n    $('#stimuli_prime').show();\r\n    setTimeout(\"posnerShowTarget();\", 300);\r\n}\r\n\r\nfunction posnerShowTarget() {\r\n    $('#stimuli_prime').hide();\r\n    $('#stimuli_target').show();\r\n    setTimeout(\"endTrial();\", 1500);\r\n}\r\n\r\n\r\n/************************************\r\n * SMOOTH PURSUIT PARADIGM\r\n ************************************/\r\nvar tPursuit = {};\r\nfunction pursuitStart() {\r\n  $('#stimuli_fixation').hide();\r\n  var pos_possible = shuffle([\r\n      {x: \"20%\", y: \"20%\", tx: \"80%\", ty: \"20%\"},\r\n      {x: \"20%\", y: \"20%\", tx: \"20%\", ty: \"80%\"},\r\n      {x: \"20%\", y: \"20%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n      {x: \"80%\", y: \"20%\", tx: \"20%\", ty: \"20%\"},\r\n      {x: \"80%\", y: \"20%\", tx: \"20%\", ty: \"80%\"},\r\n      {x: \"80%\", y: \"20%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n      {x: \"20%\", y: \"80%\", tx: \"20%\", ty: \"20%\"},\r\n      {x: \"20%\", y: \"80%\", tx: \"80%\", ty: \"20%\"},\r\n      {x: \"20%\", y: \"80%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n      {x: \"80%\", y: \"80%\", tx: \"20%\", ty: \"20%\"},\r\n      {x: \"80%\", y: \"80%\", tx: \"80%\", ty: \"20%\"},\r\n      {x: \"80%\", y: \"80%\", tx: \"20%\", ty: \"80%\"}\r\n  ]);\r\n  var pos = pos_possible[0];\r\n  $s = $('#stimuli_dot');\r\n  $s.css({\r\n    'top': pos.y,\r\n    'left': pos.x\r\n  });\r\n\r\n  $s.css({\r\n    'background-color': '#000'\r\n  });\r\n\r\n\r\n  data_current.task = 'pursuit';\r\n  data_current.x = pos.x;\r\n  data_current.y = pos.y;\r\n  data_current.condition = 'pursuit_' + pos.x + '_' + pos.y + '_' + pos.tx + '_' + pos.ty;\r\n\r\n  cam.recording = 1;\r\n  $s.show();\r\n  setTimeout(function() {\r\n    status = \"pursuit_start\";\r\n    $('#stimuli_dot').css({\r\n      'background-color': '#dd494b'\r\n    }).animate({ \"left\": pos.tx, \"top\": pos.ty },\r\n      2000,\r\n      'linear',\r\n    function() {\r\n      status = \"pursuit_end\";\r\n      setTimeout(\"endTrial();\", 500);\r\n    });\r\n  }, 1500);\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * STIMULI PARADIGM\r\n ************************************/\r\nvar tStimuli = {};\r\n\r\n\r\ntStimuli.stimuli = [];\r\n\r\n\r\n\r\nfunction process_stimuli(){\r\n  if(trial_order == \"random\"){\r\n    tStimuli.stimuli = shuffle(tStimuli.stimuli);\r\n  }\r\n \r\n \r\n  if(left_side == \"random\"){\r\n    for(var i = 0; i < tStimuli.stimuli.length; i++){\r\n      [left_image,right_image] = shuffle([tStimuli.stimuli[i].image_1,\r\n                                          tStimuli.stimuli[i].image_2]);\r\n      tStimuli.stimuli[i].image_1 = left_image;\r\n      tStimuli.stimuli[i].image_2 = right_image;\r\n    }\r\n  } else if(left_side == \"equal\" | left_side == \"counterbalance\"){\r\n    // select indexes to swap left and right for half the indexes\r\n    // all indexes:\r\n    var indexes = Array.from({length:tStimuli.stimuli.length},(v,k)=>k);\r\n        indexes = shuffle(indexes);\r\n   \r\n    //assign the first half left to right\r\n    for(var i = 0; i < Math.floor(tStimuli.stimuli.length / 2); i++){          //this will only loop through half of the randomised indexes\r\n      var this_index = indexes[i];\r\n      var right_image = tStimuli.stimuli[this_index].image_1;\r\n      var left_image = tStimuli.stimuli[this_index].image_2;\r\n      tStimuli.stimuli[this_index].image_1 = left_image;\r\n      tStimuli.stimuli[this_index].image_2 = right_image;\r\n    }\r\n  } else if(left_side == \"image_1\"){\r\n    // do nothing\r\n  } else if(left_side == \"image_2\"){\r\n    for(var i = 0; i < Math.floor(tStimuli.stimuli.length / 2); i++){\r\n      var right_image = tStimuli.stimuli[i].image_1;\r\n      var left_image = tStimuli.stimuli[i].image_2;\r\n      tStimuli.stimuli[i].image_1 = left_image;\r\n      tStimuli.stimuli[i].image_2 = right_image;\r\n    }\r\n  } else {\r\n    alert(\"there's a problem in the 'left_side' column - fix this before testing.\");\r\n  }\r\n};\r\n\r\n//check if the freeview file matches one of the stimuli files\r\nif(typeof(parent.parent.project_json.all_stims[image_file]) !== \"undefined\"){\r\n  var trial_contents = Papa.parse(parent.parent.project_json.all_stims[image_file]).data;\r\n  var trial_clean    = trial_contents.map(function(row){\r\n    return row.filter(item => item !== null);\r\n  });\r\n  tStimuli.stimuli = Papa.parse(Papa.unparse(trial_clean),{\r\n    header:true,\r\n    skipEmptyLines:true\r\n  }).data;\r\n  process_stimuli();\r\n} else {\r\n  if(image_file.toLowerCase().indexOf(\"https://\") == -1){                //i.e. isn't stored on dropbox or some other remote location\r\n    image_file = \"../User/\" + image_file;\r\n  }\r\n  $.get(image_file,function(result){\r\n    tStimuli.stimuli = Papa.parse(result,{\r\n      header:true,\r\n      skipEmptyLines:true\r\n    }).data;\r\n    process_stimuli();\r\n  });\r\n}\r\n\r\n\r\nstimuli_src_loaded = 0;\r\nvar stimuli_src_length;\r\n\r\n/*\r\n* Some code to make this work on installed version of Collector\r\n*/\r\nswitch(parent.parent.Project.get_vars.platform){\r\n  case \"preview\":\r\n  case \"localhost\":\r\n    org_repo = parent.parent.project_json.location.split(\"/\");\r\n    home_dir = parent.parent.Collector.electron.git.locate_repo({\r\n      org: org_repo[0],\r\n      repo: org_repo[1]\r\n    });\r\n    break;\r\n}\r\n\r\nfunction check_end_trial(element_json){\r\n  if(typeof(element_json.end_trial) !== \"undefined\" && element_json.end_trial.toLowerCase() == \"yes\"){\r\n    status = 'stimulus_offset'; \r\n    endTrial();\r\n  }\r\n}\r\n\r\nfunction stimuli_loaded(){\r\n  stimuli_no++;\r\n  \r\n  data_current.task = 'stimuli';\r\n  \r\n  cam.recording = 1;\r\n  status = 'fixation_flash_first_half';\r\n  $('#stimuli_fixation').css(\"color\",\"red\");\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"black\");\r\n  }, 250);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"red\");\r\n  }, 500);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"black\");\r\n  }, 750);\r\n  setTimeout(function(){\r\n    status = 'fixation_flash_second_half';\r\n    $('#stimuli_fixation').css(\"color\",\"red\");\r\n  }, 1000);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"black\");\r\n  }, 1250);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"red\");\r\n  }, 1500);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"black\");\r\n  }, 1750);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').hide();\r\n    status = 'fixation_offset';\r\n  }, 2000);\r\n  \r\n  \r\n  /*\r\n  * set timers here\r\n  */\r\n  console.log(\"stimuli_set\");\r\n  console.log(stimuli_set);\r\n  \r\n  var these_elements = stimuli_set.elements.split(\",\");\r\n  \r\n  \r\n  these_elements.forEach(function(this_element){\r\n    var element_json = JSON.parse(stimuli_set[this_element]);\r\n    \r\n    /*\r\n    * add other properties from other relevant columns\r\n    */\r\n    var other_properties = Object.keys(stimuli_set).filter(item => item.indexOf(this_element + \".\") == 0);\r\n    \r\n    other_properties.forEach(function(item){\r\n      element_json[item.split(\".\")[1]] = stimuli_set[item];\r\n    });\r\n    \r\n    if(element_json.type == \"keys\"){\r\n      $(window).bind('keypress', function(event) {\r\n        if(element_json.keys.indexOf(String.fromCharCode(event.charCode)) !== -1){\r\n          $(\"#\" + this_element + \"_value\").val(event.which);\r\n          check_end_trial(element_json);\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n    /*\r\n    * deal with elements that are triggered by the end of audio or videos\r\n    */\r\n    if(typeof(element_json.onset) !== \"number\" && element_json.onset.indexOf(\".ended\") !== -1){\r\n      trigger_element = element_json.onset.split(\".\")[0];\r\n      //alert(\"trigger_element = \" + trigger_element);\r\n      $(\"#\" + trigger_element).on(\"ended\", function(){\r\n        //alert(\"this_element \" + this_element);\r\n        $(\"#\" + this_element).show();\r\n        $(\"#\" + this_element).trigger(\"play\");\r\n      });\r\n    } else {\r\n      setTimeout(function(){\r\n        $(\"#\" + this_element).show();\r\n        $(\"#\" + this_element).trigger(\"play\");\r\n        \r\n      }, 2000 + element_json.onset);\r\n    }\r\n\r\n    if(element_json.duration == \"end\"){\r\n      $(\"#\" + this_element).on('ended', function(){\r\n        $(\"#\" + this_element).hide()\r\n      });\r\n    } else {\r\n      setTimeout(function(){\r\n        $(\"#\" + this_element).hide();\r\n      }, 2000 + element_json.onset + element_json.duration);\r\n\r\n    }\r\n    \r\n    \r\n    \r\n  });\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  /*\r\n  setTimeout(function(){\r\n    \r\n    //all_fixation_rts.push;\r\n    \r\n    $(\".stimuli_img\").show();\r\n    $(\".stimuli_video\").show();\r\n    $(\"video\").trigger(\"play\");\r\n    $(\"audio\").trigger(\"play\");\r\n    setTimeout(function(){\r\n      status = 'stimulus_offset'; \r\n      endTrial();\r\n    },stim_duration);\r\n    \r\n  },2500);\r\n  */\r\n}\r\n\r\nvar stimuli_set;\r\n\r\nfunction stimuliStart() {\r\n  gaze_phase = \"stimuli\";\r\n  \r\n  document.body.style.cursor = 'none';\r\n  stimuli_set = tStimuli.stimuli.shift();\r\n  \r\n  stimuli_src_loaded = 0;\r\n\r\n  \r\n  [audio_set, image_set, video_set, text_set] = Array(4).fill([]);\r\n  var these_elements = stimuli_set.elements.split(\",\");\r\n  these_elements.forEach(function(this_element){\r\n    var element_json = JSON.parse(stimuli_set[this_element]);\r\n    \r\n    /*\r\n    * add other properties from other relevant columns\r\n    */\r\n    var other_properties = Object.keys(stimuli_set).filter(item => item.indexOf(this_element + \".\") == 0);\r\n    \r\n    other_properties.forEach(function(item){\r\n      element_json[item.split(\".\")[1]] = stimuli_set[item];\r\n    });\r\n    \r\n    \r\n    switch(element_json.type){\r\n      \r\n      case \"audio\":\r\n        var this_item = $(\"<audio>\");\r\n        this_item.prop(\"src\", home_dir + element_json.src.replace(\"../User\",\"/User\"))\r\n          .prop(\"id\", this_element);\r\n        $(\"#stimuli_div\").append(this_item);\r\n        $(\"#\" + this_element).on(\"canplay canplaythrough\",function(){\r\n          stimuli_src_loaded = stimuli_src_loaded + 1;\r\n          \r\n          if(these_elements.length == stimuli_src_loaded){\r\n            stimuli_loaded();\r\n          }\r\n        });\r\n        break;\r\n      case \"image\":\r\n        var this_item = $(\"<img>\");\r\n        this_item.prop(\"src\", home_dir + element_json.src.replace(\"../User\",\"/User\"))\r\n          .addClass(\"stimuli\")\r\n          .addClass(\"stimuli_img\")\r\n          .css(\"margin-left\",   element_json.x)\r\n          .css(\"top\",    element_json.y)\r\n          .css(\"width\",  element_json.width)\r\n          .css(\"height\", element_json.height)\r\n          .css(\"display\", \"none\")\r\n          .prop(\"id\", this_element);\r\n        $(\"#stimuli_div\").append(this_item);\r\n        $(\"#\" + this_element).on(\"load\",function(){\r\n          \r\n          stimuli_src_loaded = stimuli_src_loaded + 1;\r\n          if(these_elements.length == stimuli_src_length){\r\n            stimuli_loaded();\r\n          }\r\n        });\r\n        break;\r\n      case \"keys\":\r\n        \r\n        var this_item = $(\"<input>\");\r\n        this_item.prop(\"id\", this_element = \"_value\")\r\n          .css(\"display\", \"none\");\r\n        \r\n        $(\"#stimuli_div\").append(this_item);\r\n        \r\n        \r\n        stimuli_src_loaded = stimuli_src_loaded + 1;\r\n        if(these_elements.length == stimuli_src_loaded){\r\n          stimuli_loaded();\r\n        }\r\n        break;\r\n      case \"text\":\r\n        //alert(\"hi\");\r\n        this_item = $(\"<div>\");\r\n        this_item.html(element_json.text)\r\n          .addClass(\"stimuli\")\r\n          .css(\"margin-left\",   element_json.x)\r\n          .css(\"top\",    window.innerHeight/2 + element_json.y)\r\n          .css(\"width\",  element_json.width)\r\n          .css(\"height\", element_json.height)\r\n          .css(\"display\", \"none\")\r\n          .prop(\"id\", this_element);\r\n        $(\"#stimuli_div\").append(this_item);\r\n        stimuli_src_loaded = stimuli_src_loaded + 1;\r\n        \r\n        if(these_elements.length == stimuli_src_loaded){\r\n          stimuli_loaded();\r\n        }\r\n        break;\r\n      case \"video\":\r\n        var this_item = $(\"<video>\");\r\n        var this_source = $(\"<source>\");\r\n            this_source.prop(\"src\", home_dir + element_json.src.replace(\"../User\",\"/User\"));\r\n        \r\n            this_item.prop(\"src\", home_dir + element_json.src.replace(\"../User\",\"/User\"))\r\n              .addClass(\"stimuli\")\r\n              .addClass(\"stimuli_video\")\r\n              .css(\"margin-left\",   element_json.x)\r\n              .css(\"top\",    element_json.y)\r\n              .css(\"width\",  element_json.width)\r\n              .css(\"height\", element_json.height)\r\n              .css(\"display\", \"none\")\r\n              .prop(\"id\", this_element);\r\n        this_item.append(this_source);\r\n        $(\"#stimuli_div\").append(this_item);\r\n        $(\"#\" + this_element).on(\"loadstart\",function(){\r\n          stimuli_src_loaded = stimuli_src_loaded + 1;\r\n          \r\n          if(these_elements.length == stimuli_src_loaded){\r\n            stimuli_loaded();\r\n          }\r\n        });\r\n        \r\n        break;\r\n    }\r\n    \r\n    //if(typeof(stimuli_set[this_element + \".\"])\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\n/************************************\r\n * GENERATE AND SHOW HEATMAP\r\n ************************************/\r\nfunction heatmap() {\r\n    // preprocess data for heatmap\r\n    var bins = []; // create bins and fill them\r\n    for (var y = 0; y < window.innerHeight; y++) {\r\n        for (var x = 0; x < window.innerWidth; x++) {\r\n            bins.push([x, y, 0]);\r\n        }\r\n    }\r\n    // sort fixations into bins and get max\r\n    var max = 0;\r\n    for (var i = 0; i < data[data.length - 1].raw.length; i++) {\r\n        var d = data[data.length - 1].raw[i];\r\n        var dx = Math.round(d.x);\r\n        var dy = Math.round(d.y);\r\n        var pos = (dy * window.innerWidth) + dx;\r\n        if (pos <= bins.length && pos >= 0) {\r\n            bins[pos][2] += 1;\r\n            if (bins[pos][2] > max) {\r\n                max = bins[pos][2];\r\n            }\r\n        } else {\r\n            console.log('dropped ' + pos);\r\n        }\r\n    }\r\n\r\n    // remove empty bins\r\n    var binsc = [];\r\n    for (var i = 0; i < bins.length; i++) {\r\n        if (bins[i][2] != 0) {\r\n            binsc.push(bins[i]);\r\n        }\r\n    }\r\n\r\n    // create heatmap\r\n    $('body').append(\"<canvas id=\\\"heatmap\\\"></canvas>\");\r\n    $('#heatmap').attr('width', window.innerWidth);\r\n    $('#heatmap').attr('height', window.innerHeight);\r\n    heat = simpleheat('heatmap');\r\n    heat.resize();\r\n    heat.radius(30,50);\r\n    heat.max(max).data(binsc).draw();\r\n\r\n    $('#stimuli_img').show();\r\n}\r\n\r\n\r\n/**\r\n * navigation\r\n */\r\nvar page = 1;\r\nvar oldpage = -1;\r\nvar d_consent = undefined;\r\nfunction navigation(direction) {\r\n  $('#message').hide();\r\n\r\n  $('#instruction_continue_text').html(\"&gt;\");\r\n\r\n\r\n \r\nif (page == 2 && direction == 'continue') {\r\n    if (cam.initialized == 1) {\r\n      $('#instruction').fadeOut(1000);\r\n      setTimeout(\"prepareBlock();\", 2000);\r\n    }\r\n  } else if (page == 2 && direction == 'pause') {\r\n    $('#instruction_continue').html(\"continue\").css({'font-size': '1.7em'});\r\n    $('#instruction_2').find(\"h1\").html('short pause (block ' + block_no + ' of ' + design.blocks.length + \")\");\r\n    $('#setup_first').hide();\r\n    $('#setup_after').show();\r\n\r\n    $('#instruction').show(function() {\r\n      if (block_no == design.blocks.length) {\r\n        page++;\r\n      } else {\r\n        $('#instruction_2').fadeIn(300);\r\n        $('#webgazerVideoFeed').show();\r\n      }\r\n    });\r\n  } else if  (direction == 'continue') {\r\n    page++;\r\n  } else if (direction == 'back') {\r\n    page--;\r\n  }\r\n  page = page < 1 ? 1 : page;\r\n  page = page > $('.instruction_page').length ? $('.instruction_page').length : page;\r\n  page <= 1 ? $('#instruction_back').hide() : $('#instruction_back').show();\r\n  page >= $('.instruction_page').length ? $('#instruction_continue').hide() : $('#instruction_continue').show();\r\n  page >= 3 ? $('#instruction_back,#instruction_continue').hide() : \"\";\r\n  block_no > 0 ? $('#instruction_back').hide() : \"\";\r\n\r\n  if (oldpage != page) { // if we stay at the same page, we avoid unnecessary animations\r\n    $('.instruction_page').hide();\r\n    $('#instruction_'+page).fadeIn(300);\r\n  }\r\n  // start up webcam\r\n  if (page == 2 && cam.initialized == 0) {\r\n    $(\"#instruction_continue\").hide();\r\n    loadWebgazer();\r\n  }\r\n  oldpage = page;\r\n}\r\n\r\n\r\nvar cl;\r\nvar t_start = new Date().getTime();\r\n$('document').ready(function() {\r\n  $('#stimulus').hide();\r\n  $('#calibration_dot').hide();\r\n  $('#setup_after').hide();\r\n  $('#instruction_message').hide();\r\n  $('#therest').hide();\r\n\r\n\r\n  $('#start_button').click(function() {\r\n    $(this).hide();\r\n    prepareBlock();\r\n  });\r\n\r\n  $('body').keypress(function(e) {\r\n    //e.preventDefault();\r\n    switch(e.keyCode) {\r\n\r\n    }\r\n  });\r\n\r\n  $('#instruction_continue').click(function() {\r\n    navigation('continue');\r\n  });\r\n\r\n  $('#instruction_back').click(function() {\r\n    navigation('back');\r\n  });\r\n\r\n  $( \"#f_crowdflowerid\" ).tooltip({\r\n    show: {\r\n      effect: \"slideDown\",\r\n      delay: 250\r\n    }\r\n  });\r\n\r\n\r\n  /*\r\n  $('#f_birthday').datepicker({\r\n      dateFormat: 'yy/mm/dd',\r\n      changeYear: true,\r\n      changeMonth: true,\r\n      yearRange: \"-100:+0\"\r\n  });\r\n  */\r\n  var select = $('#f_birthday');\r\n  for (var i=18;i <= 100; i++){\r\n    select.append('<option value=\"'+i+'\">'+i+'</option>')\r\n  }\r\n\r\n  window.localStorage.clear();\r\n   \r\n  var ss = window.location.hash.substring(1);\r\n  $('#cf_reference,#asd_reference,#rub_reference,#cf_code').hide();\r\n  if (ss == \"cf\") { // crowdflower-reference\r\n    $('#cf_reference,#cf_code').show();\r\n  } else if (ss == \"rub\") {\r\n    $('#rub_reference').show();\r\n} else {\r\n    $('#asd_reference').show();\r\n}\r\n\r\n  var is_chrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;\r\n  var is_firefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\r\n  if (is_chrome || is_firefox) {\r\n    page = 0;\r\n    navigation('start');\r\n  } else {\r\n    $('#instruction').hide();\r\n    $('#message').html('Thank you very much for your interest in our Project.<br /><br />Unfortunately, your browser is not supported by our website. To participate, you need either the browser \"Google Chrome\" or \"Firefox\".<br /><br />Do download one of these securely and free of charge, please follow one of these links: <a href=\"https://www.google.com/chrome/browser/desktop/\" target=\"_blank\">Google Chrome</a> or <a href=\"https://www.mozilla.org/de/firefox/new/\" target=\"_blank\">Mozilla Firefox</a>').show();\r\n  }\r\n});\r\n\r\n\r\n/**\r\n function drawLoop() {\r\n    requestAnimFrame(drawLoop);\r\n    var p = webgazer.getCurrentPrediction();\r\n    if (p !== null) {\r\n        console.log(p);\r\n        $('body').append('<span class=\"p\" style=\"top: '+p.y+'px; left: '+p.x+'px\"></span>');\r\n        measurements++;\r\n    }\r\n    t = (new Date().getTime() - start)/1000;\r\n    cam.overlay.getContext('2d').clearRect(0,0,cam.width,cam.height);\r\n    if (cl.getCurrentPosition()) {\r\n        //console.log(cl.getCurrentPosition()[0]);\r\n        //cl.draw(overlay);\r\n    }\r\n}\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\nwindow.onbeforeunload = function() {\r\n  //webgazer.end(); //Uncomment if you want to save the data even if you reload the page.\r\n}\r\n</script>"
    },
    "default": {
      "webgazer": "<!--\r\n    This is based on code from OSF repository https://osf.io/jmz79/ that accompanies the publication \"Online webcam-based eye tracking in cognitive science: a first look\" by Semmelmann & Weigelt, published in Behavior Research Methods in 2017.\r\n\r\n    Updates by Anthony Haffey (a.haffey@reading.ac.uk) 2020 to make this a freeviewing task that works on Collector\r\n-->\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <link href=\"libraries/webgazer/css/jquery-ui.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <link href=\"libraries/webgazer/css/jquery.mobile-1.4.5.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <link href=\"libraries/webgazer/css/tolcam.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <script src=\"libraries/webgazer/js/jquery-1.12.3.min.js\"></script>\r\n    <script src=\"libraries/webgazer/js/jquery-ui.js\"></script>\r\n    <script src=\"libraries/webgazer/js/jquery.mobile-1.4.2.min.js\"></script>\r\n    <script src=\"libraries/webgazer/js/simpleheat.js\"></script>\r\n</head>\r\n<style>\r\n.stimuli_img{\r\n  width: {{image_width}};\r\n  object-fit: fill;\r\n  vertical-align: middle;\r\n  height: {{image_height}};\r\n  position: absolute;\r\n  transform: translate(-50%, 0);\r\n  left: 50%;\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n}\r\n#stimuli_fixation{\r\n\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  -moz-transform: translateX(-50%) translateY(-50%);\r\n  -webkit-transform: translateX(-50%) translateY(-50%);\r\n  transform: translateX(-50%) translateY(-50%);\r\n  font-size:100px;\r\n  text-align:center;\r\n  height:150px;\r\n}\r\n#stimuli_img_left{\r\n  margin-left: {{left_position}};\r\n}\r\n#stimuli_img_right{\r\n  /* left:  75%; */\r\n  margin-left: {{right_position}};\r\n}\r\n</style>\r\n<body>\r\n  <div id=\"instruction\">\r\n    <div id=\"instruction_1\" class=\"instruction_page\">\r\n      This experiment is based on code from the OSF repository <a href=\"https://osf.io/jmz79/\" target=\"_blank\">https://osf.io/jmz79/</a> which accompanies the publication \"Online webcam-based eye tracking in cognitive science: a first look\" by Semmelmann & Weigelt, published in Behavior Research Methods in 2017. Please find the abstract and information about the code, analyses, and data below. This work is intended for scientific use only.\r\nWritten by Kilian Semmelmann, tolcam@ksemmelm.de, 2017. <br><br>\r\n\r\nUpdates by Anthony Haffey (a.haffey@reading.ac.uk) 2020 to make this a task that works on Collector.\r\n    </div>\r\n\r\n    <div id=\"instruction_2\" class=\"instruction_page\">\r\n      <h1>Webcam Setup</h1>\r\n      <br />\r\n      <div id=\"setup_after\">\r\n          You can take a short break and move your head. Before continuing, please follow the instructions noted below.<br />\r\n      </div>\r\n      <br />\r\n      Please turn off your mobile phone and close all other programs and websites. Then carefully read and follow these instructions:<br />\r\n      <img src=\"libraries/webgazer/imgs/instructions_donttilt.png\" style = \"width: 100%; margin-top: 20px; margin-bottom: 20px;\"/> <br>\r\n      If possible, please adjust your position until your face matches the picture below as much as possible:<br />\r\n      <br />\r\n      <table>\r\n        <tr>\r\n          <td>\r\n            <img style=\"height:300px;width:400px; -webkit-transform: scaleX(-1); transform:scaleX(-1);\" src=\"libraries/webgazer/imgs/ideal_pose.png\"/>\r\n          </td>\r\n          <td>\r\n            <span id=\"webcam_insert\"></span>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      <br />\r\n      <div id=\"setup_first\">\r\n          This study consists of multiple five-minute parts with pauses inbetween. After you clicked \"start\", please avoid moving your head. If you move too much, the calibration can fail and you might not be able to finish the study.\r\n      </div>\r\n      <br />\r\n    </div>\r\n\r\n    <div id=\"instruction_3\" class=\"instruction_page\">\r\n      <div id=\"beforetherest\">\r\n        <h1>Proceed</h1>\r\n        <br />\r\n        Click \"Proceed\" to move onto the next trial\r\n        <button onclick=\"Phase.submit()\" class=\"btn\">Proceed</button>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"instruction_back\" class=\"instruction_navigation\">\r\n      <div id=\"instruction_back_text\">\r\n        &lt;\r\n      </div>\r\n    </div>\r\n    <div id=\"instruction_continue\" class=\"instruction_navigation\">\r\n      <div id=\"instruction_continue_text\">\r\n        &gt;\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div id=\"calibration_dot\" class=\"stimuli\">\r\n    <div id=\"calibration_cnt\">0</div>\r\n  </div>\r\n  <div id=\"stimulus\" class=\"stimuli\"><img src=\"libraries/webgazer/imgs/talking.jpg\" /></div>\r\n  <div id=\"stimuli_dot\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_bar\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_fixation\" class=\"stimuli\">+</div>\r\n  <div id=\"stimuli_prime\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_target\" class=\"stimuli\">X</div>\r\n  <img id=\"stimuli_img_left\" class=\"stimuli stimuli_img\"/>\r\n  <img id=\"stimuli_img_right\" class=\"stimuli stimuli_img\"/>\r\n  <div id=\"instruction_message\"></div>\r\n\r\n  <div id=\"message\">\r\n    no message\r\n  </div>\r\n\r\n  <!-- data quality info -->\r\n  <input type=\"hidden\" name=\"window_inner_height\" id=\"window_inner_height\"/>\r\n  <input type=\"hidden\" name=\"window_inner_width\"  id=\"window_inner_width\"/>\r\n  <input type=\"hidden\" name=\"fixation_rts\"        id=\"fixation_rts\"/>\r\n\r\n</body>\r\n</html>\r\n<script>\r\n\r\n\r\n\r\n//////////////////////\r\n// Borcsok variables\r\n//////////////////////\r\n\r\nvar all_fixation_rts = [];\r\n\r\nvar image_pair;\r\nPhase.set_timer(function(){\r\n  function refuse_height(){\r\n    bootbox.confirm(\"Your window height needs to be at least {{min_height}} before starting. Please make your window as big as possible before proceeding.\", function(result){\r\n      if(window.innerHeight < parseFloat(\"{{min_height}}\".replace(\"px\",\"\"))){\r\n        refuse_height();\r\n      } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n    });\r\n  };\r\n  function refuse_width(){\r\n    bootbox.confirm(\"Your window width needs to be at least {{min_width}} before starting. Please make your window as big as possible before proceeding.\", function(result){\r\n      if(window.innerWidth < parseFloat(\"{{min_width}}\".replace(\"px\",\"\"))){\r\n        refuse_width();\r\n      } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n    });\r\n  }\r\n  if(window.innerHeight < parseFloat(\"{{min_height}}\".replace(\"px\",\"\"))){\r\n    refuse_height();\r\n  } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n  if(window.innerWidth <  parseFloat(\"{{min_width}}\".replace(\"px\",\"\"))){\r\n    refuse_width();\r\n  } else {\r\n    $(\"#window_inner_height\").val(window.innerHeight);\r\n    $(\"#window_inner_width\").val(window.innerWidth);\r\n  }\r\n},0);\r\n\r\n\r\n//////////////////////\r\n// default settings //\r\n//////////////////////\r\n\r\nvar calibrations = \"{{calibrations}}\";\r\nvar freeview_image_file = \"{{freeview_image_file}}\".toLowerCase();\r\nvar design_type = \"{{design_type}}\";\r\nvar calibration_skip = \"{{calibration_skip}}\";\r\nvar image_height = \"{{image_height}}\";\r\nvar image_width = \"{{image_width}}\";\r\nvar left_side = \"{{left_side}}\";\r\nvar save_script = \"{{save_script}}\";\r\nvar stim_duration = \"{{stim_duration}}\";\r\nvar trials = \"{{trials}}\";\r\nvar trial_order = \"{{trial_order}}\";\r\n\r\n\r\nif(calibrations.indexOf(\"calibrations\") !== -1){\r\n  calibrations = 13;\r\n}\r\nif(calibration_skip.indexOf(\"calibration_skip\") !== -1){\r\n  calibration_skip = \"no\";\r\n}\r\nif(stim_duration.indexOf(\"stim_duration\") !== -1){\r\n  stim_duration = 2000;\r\n}\r\nif(left_side.indexOf(\"left_side\") !== -1){\r\n  left_side = \"counterbalance\";\r\n}\r\n\r\n\r\n\r\n\r\n/************************************\r\n * HELPER FUNCTIONS\r\n ************************************/\r\n/**\r\n * Shuffles array in place.\r\n * @param {Array} a items The array containing the items.\r\n * @author http://stackoverflow.com/a/2450976/4175553\r\n */\r\nfunction shuffle(array) {\r\n  var currentIndex = array.length, temporaryValue, randomIndex;\r\n\r\n  // While there remain elements to shuffle...\r\n  while (0 !== currentIndex) {\r\n\r\n    // Pick a remaining element...\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n\r\n    // And swap it with the current element.\r\n    temporaryValue = array[currentIndex];\r\n    array[currentIndex] = array[randomIndex];\r\n    array[randomIndex] = temporaryValue;\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\n/************************************\r\n * WEBCAM PARAMETERS\r\n ************************************/\r\nvar cam = {};\r\ncam.overlay = '';\r\ncam.width = 400;\r\ncam.height = 300;\r\ncam.topDist = '0px';\r\ncam.leftDist = '0px';\r\ncam.recording = 0;\r\ncam.validating = 0;\r\ncam.calibrating = 0;\r\ncam.initialized = 0;\r\n\r\n/************************************\r\n * CALIBRATION PARAMETERS\r\n ************************************/\r\nvar calibrating = 0;\r\nvar t_calibration_start;\r\nvar calibration_no = 0;\r\nvar calibration = {};\r\ncalibration.points = [];\r\ncalibration.method = \"watch\"; // click or watch\r\ncalibration.calibrations = calibrations // how many calibration dots\r\ncalibration.duration = 20; // how often does one position get sampled\r\ncalibration.instruction = 'Please look at each dot until <br /> it disappears. <br /><br />Please do not move your head,<br />only move your eyes.';\r\nif(\"{{skip_instruct}}\" == \"on\"){\r\n  calibration.instruction_duration = 0;\r\n} else {\r\n  calibration.instruction_duration = 10000;\r\n}\r\n\r\n/************************************\r\n * VALIDATION PARAMETERS\r\n ************************************/\r\nvar validating = 0;\r\nvar validation_no = 0;\r\nvar validation_current = {\"x\": 0, \"y\": 0};\r\nvar validation_attempt = 1;\r\nvar validation = {};\r\nvalidation.validations = 5;\r\nvalidation.duration = 20;\r\nvalidation.points = [];\r\nvalidation.timeout = 20000; // if no validation happens within X ms, validation will be ended and re-calibrated\r\nvalidation.attempts = 5; // how often can validation be failed PER validation\r\nvalidation.distance = 200; // offset distance in pixel to be a valid validation sample\r\n\r\n\r\n/************************************\r\n* FREEVIEW PARAMETERS\r\n*************************************/\r\nvar freeview_no = 0;\r\n\r\n\r\n/************************************\r\n * DESIGN\r\n ************************************/\r\nvar design = {};\r\nvar block_no = 0;\r\nvar trial_no = 0;\r\n\r\neyetrack_designs = {\r\n  freeview:   {'type': 'freeview', 'trials': trials, 'iti': 500, 'instruction': '{{text}}', 'instruction_duration': 10000},\r\n  simple: {'type': 'simple', 'trials': 24, 'iti': 500, 'instruction': 'Please look at the cross.<br />When the dot appears, please look at it.<br /><br /><br />Do not move your head, <br />only use your eyes.', 'instruction_duration': 5000},\r\n  pursuit: {'type': 'pursuit', 'trials': 24, 'iti': 500, 'instruction': 'A black dot will appear. Please <br />look at it. When it turns <span style=\"color: #dd494b;\">red</span>,<br /> Please follow its movement with your eyes.<br /><br />Do not move your head, <br />only use your eyes.', 'instruction_duration': 7000},\r\n\r\n}\r\n\r\nif(\"{{skip_instruct}}\" == \"on\"){\r\n  eyetrack_designs.freeview.instruction_duration = 0;\r\n}\r\n\r\n\r\ndesign.blocks = [\r\n  eyetrack_designs[[\"{{design_type}}\"]]\r\n];\r\n\r\n//design.blocks = shuffle(design.blocks);\r\ndesign.blocks_randomized = 1; // shall the blocks be shuffled?\r\ndesign.trials_randomized = 1; // same for trials\r\ndesign.calibrate = \"high\";\r\ndesign.recalibrate = 1;\r\n\r\n\r\n\r\n/************************************\r\n * DATA VARIABLES\r\n ************************************/\r\nvar data = [];\r\nvar data_current = {};\r\nvar status = '-';\r\n\r\n/**\r\ndata.design = jQuery.extend(true, {}, design);\r\n **/\r\n\r\n/************************************\r\n * SET UP WEBGAZER\r\n ************************************/\r\nfunction loadWebgazer() {\r\n  $('canvas').remove();\r\n  cam.initialized = 0;\r\n  $.getScript( \"libraries/webgazer/js/webgazer_old.js\" )\r\n    .done(function( script, textStatus ) {\r\n      initializeWebgazer();\r\n      $('#message').html('Please allow for access on your Webcam on the top part of the screen. <br /><br />Remember: We will NOT transmit your video, but only process it locally and transmit numbers to our server.').show();\r\n    })\r\n    .fail(function( jqxhr, settings, exception ) {\r\n      $( \"div.log\" ).text( \"Triggered ajaxError handler.\" );\r\n    });\r\n}\r\n\r\n\r\nfunction initializeWebgazer() {\r\n\r\n  //webgazer.clearData()\r\n  webgazer.setRegression('ridge') /* currently must set regression and tracker */\r\n    .setTracker('clmtrackr')\r\n    .setGazeListener(function(d, clock) {\r\n      //console.log(data); /* data is an object containing an x and y key which are the x and y prediction coordinates (no bounds limiting) */\r\n      //console.log(clock); /* elapsed time in milliseconds since webgazer.begin() was called */\r\n      if (d !== null) {\r\n\r\n        if (cam.calibrating == 1) {\r\n            var $cd = $('#calibration_dot');\r\n            var cx = parseInt(Math.round($cd.offset().left));\r\n            var cy = parseInt(Math.round($cd.offset().top));\r\n            var cp = d;\r\n            var dist = Math.sqrt(((cp.x - cx) * (cp.x - cx)) + ((cp.y - cy) * (cp.y - cy)));\r\n            var c = $('#calibration_cnt').html();\r\n            data_current.raw.push({'time': clock, 'x': cp.x, 'y': cp.y, 'cx': cx, 'cy': cy, 'dist': dist, 'c': c});\r\n        }\r\n\r\n\r\n        if (cam.validating == 1) {\r\n            // see whether dx and dy are within 100px radius of target\r\n            var dist = parseInt(Math.sqrt(((d.x - validation_current.x) * (d.x - validation_current.x)) + ((d.y - validation_current.y) * (d.y - validation_current.y))));\r\n            var c = parseInt($('#calibration_cnt').html());\r\n            if (dist < validation.distance) {\r\n                data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'vx': validation_current.x, 'vy': validation_current.y, 'dist': dist, 'c': c, 'valid': 1});\r\n                if (c < calibration.duration) {\r\n                    $('#calibration_cnt').html(++c);\r\n                } else {\r\n                    cam.validating = 0;\r\n                    clearTimeout(t);\r\n                    $('#calibration_dot').hide();\r\n                    validation_no++;\r\n                    saveData();\r\n                    setTimeout(\"validate();\", 500);\r\n                }\r\n            } else {\r\n                data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'vx': validation_current.x, 'vy': validation_current.y, 'dist': dist, 'c': c, 'valid': 0});\r\n            }\r\n        }\r\n\r\n        if (cam.recording == 1) {\r\n            var tx = -1;\r\n            var ty = -1;\r\n            if (data_current.task == \"simple\" || data_current.task == \"pursuit\") {\r\n                var $sd = $('#stimuli_dot');\r\n                var tx = parseInt(Math.round($sd.offset().left));\r\n                var ty = parseInt(Math.round($sd.offset().top));\r\n            }\r\n            data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'tx': tx, 'ty': ty, 'status': status});\r\n            //console.log(data.trials[trial_no].raw.length + ' ' + d.x + ' ' + d.y);\r\n        }\r\n      }\r\n    })\r\n    .begin()\r\n    .showPredictionPoints(false); /* shows a square every 100 milliseconds where current prediction is */\r\n\r\n  cl = webgazer.getTracker().clm;\r\n\r\n  checkWebgazer();\r\n}\r\n\r\n\r\nfunction checkWebgazer() {\r\n  if (webgazer.isReady()) {\r\n    console.log('webgazer is ready.');\r\n    initializeCam();\r\n  } else {\r\n    setTimeout(checkWebgazer, 100);\r\n  }\r\n}\r\n\r\n/************************************\r\n * SET UP WEBCAM\r\n ************************************/\r\nfunction initializeCam() {\r\n  var video = document.getElementById('webgazerVideoFeed');\r\n  video.style.display = 'block'; // block\r\n  video.style.position = 'relative';\r\n  video.width = cam.width;\r\n  video.height = cam.height;\r\n  video.style.margin = '0px';\r\n  $('#webgazerVideoFeed').css({\r\n    'left': '50%',\r\n    '-webkit-transform': 'scaleX(-1)',\r\n    'transform': 'scaleX(-1) translate(50%, 0)',\r\n    'margin': '20px'\r\n  }).detach().insertAfter('#webcam_insert').get(0).play();\r\n\r\n  webgazer.params.imgWidth = cam.width;\r\n  webgazer.params.imgHeight = cam.height;\r\n\r\n  cam.overlay = document.getElementById('overlay');\r\n  if (cam.overlay === null) {\r\n      cam.overlay = document.createElement('canvas');\r\n      cam.overlay.id = 'overlay';\r\n      document.body.appendChild(cam.overlay);\r\n  }\r\n  cam.overlay.style.position = 'absolute';\r\n  cam.overlay.width = cam.width;\r\n  cam.overlay.height = cam.height;\r\n  cam.overlay.style.top = cam.topDist;\r\n  cam.overlay.style.left = cam.leftDist;\r\n  cam.overlay.style.margin = '0px';\r\n\r\n  cam.initialized = 1;\r\n\r\n  $('#message').html('Webcam access successful.').delay(1000).fadeOut(1000);\r\n  $(\"#instruction_continue\").show();\r\n  parent.parent.requestFullScreen(parent.parent.document.documentElement);\r\n}\r\n\r\n/************************************\r\n * START BLOCKS\r\n ************************************/\r\nfunction prepareBlock() {\r\n  if (cam.initialized == 1) {\r\n    if (block_no < design.blocks.length) {\r\n      trial_no = 0;\r\n\r\n      webgazer.resume();\r\n      if (design.recalibrate == 1 || block_no == 0) {\r\n        $('#instruction_message').html(calibration.instruction).show();\r\n        setTimeout(\"$('#instruction_message').fadeOut(1000);\", calibration.instruction_duration);\r\n        setTimeout(\"startCalibration();\", design.blocks[block_no].instruction_duration + 2000);\r\n      } else {\r\n        $('#instruction_message').html(design.blocks[block_no].instruction).show();\r\n        setTimeout(\"$('#instruction_message').fadeOut(1000);\", design.blocks[block_no].instruction_duration);\r\n        setTimeout(\"preparePhase();\", design.blocks[block_no].instruction_duration + 2000);\r\n      }\r\n    } else {\r\n      endExperiment();\r\n    }\r\n  } else {\r\n    setTimeout(\"prepareBlock();\", 500);\r\n  }\r\n}\r\n\r\n\r\n/************************************\r\n * CALIBRATE\r\n ************************************/\r\nfunction startCalibration() {\r\n  if(calibration_skip == \"skip\" ||\r\n     calibration_skip == \"on\"  ||\r\n     calibration_skip == \"yes\" ||\r\n     calibration_skip == \"true\"){\r\n    endValidation()\r\n  } else {\r\n    $('.stimuli').hide();\r\n    $('#calibration_dot').hide();\r\n    if (block_no == 0) {\r\n        $('#calibration_dot').click(function() {\r\n            calibrateHit();\r\n        });\r\n    }\r\n    calibration_no = 0;\r\n    //webgazer.clearData();\r\n    window.localStorage.clear();\r\n    //webgazer.begin();\r\n    t_calibration_start = new Date().getTime();\r\n    calibrate();\r\n  }\r\n}\r\n\r\nvar gaze_phase = \"unknown\";\r\n\r\nfunction calibrate() {\r\n  gaze_phase = \"calibrate\";\r\n  clearTimeout(t);\r\n  if (calibration_no < calibration.calibrations) {\r\n    $('#calibration_cnt').html(calibration.duration);\r\n    $c = $('#calibration_dot');\r\n    //var c = Math.floor(Math.random() * calibration.points.length);\r\n    //var p = calibration.points.splice(c, 1)[0];\r\n    if (calibration.points.length == 0) {\r\n\r\n      /*\r\n      * allocate calibration by pixels rather than percentages\r\n      */\r\n\r\n      var min_width\t   = \"{{min_width}}\".replace(\"px\",\"\");                          // e.g. 1000px in Borcsok et al., (2020)\r\n      var min_height   = \"{{min_height}}\".replace(\"px\",\"\");                         // e.g. 400px  in Borcsok et al., (2020)\r\n      var mid_screen_x = window.innerWidth / 2;\r\n      var mid_screen_y = window.innerHeight / 2;\r\n\r\n      calibration.points = shuffle([\r\n\r\n        {\r\n          position: \"middle\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"top\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"bottom\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"left\",\r\n          x: mid_screen_x - min_width/2 * .9,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"right\",\r\n          x: mid_screen_x + min_width/2 * .9,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"outer-top-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-top-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"inner-top-left\",\r\n          x: mid_screen_x - min_width/2  * .45,\r\n          y: mid_screen_y - min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-top-right\",\r\n          x: mid_screen_x + min_width/2  * .45,\r\n          y: mid_screen_y - min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .45,\r\n          y: mid_screen_y + min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .45,\r\n          y: mid_screen_y + min_height/2 * .45\r\n        }\r\n      ]);\r\n\r\n\r\n\r\n\r\n      /*\r\n      the original code focusing on percentages\r\n\r\n      calibration.points = shuffle([\r\n          {x: \"20%\", y: \"20%\"},\r\n          {x: \"50%\", y: \"20%\"},\r\n          {x: \"80%\", y: \"20%\"},\r\n          {x: \"20%\", y: \"50%\"},\r\n          {x: \"50%\", y: \"50%\"},\r\n          {x: \"80%\", y: \"50%\"},\r\n          {x: \"20%\", y: \"80%\"},\r\n          {x: \"50%\", y: \"80%\"},\r\n          {x: \"80%\", y: \"80%\"},\r\n          {x: \"35%\", y: \"35%\"},\r\n          {x: \"65%\", y: \"35%\"},\r\n          {x: \"35%\", y: \"65%\"},\r\n          {x: \"65%\", y: \"65%\"}\r\n      ]);\r\n      */\r\n    }\r\n    var p = calibration.points.pop();\r\n    $c.css({\r\n        'left' : p.x,\r\n        'top' : p.y\r\n    });\r\n\r\n    data_current = {\r\n        'type': 'calibration',\r\n        'block': block_no,\r\n        'trial': calibration_no,\r\n        'x': p.x,\r\n        'y': p.y,\r\n        'raw': []\r\n    };\r\n\r\n    cam.calibrating = 1;\r\n    $c.show();\r\n    if (calibration.method == 'watch') {\r\n      t = setTimeout(\"autoCalibration();\", 750);\r\n    }\r\n  } else {\r\n    endCalibration();\r\n  }\r\n}\r\n\r\nfunction calibrateHit() {\r\n  var c = $('#calibration_cnt').html();\r\n  /*\r\n  if ($('#webgazerVideoFeed').css('display') == 'block') {\r\n      $('#webgazerVideoFeed').css({\r\n          top: cam.topDist,\r\n          left: cam.leftDist,\r\n          display: 'none',\r\n          transform: '0'\r\n      });\r\n  }*/\r\n  if (c > 1 && cam.calibrating == 1) {\r\n    $('#calibration_cnt').html(--c);\r\n    if (calibration.method == \"watch\") {\r\n      t = setTimeout(\"autoCalibration();\", 100);\r\n      //requestAnimationFrame(autoCalibration);\r\n    }\r\n  } else {\r\n    $('#calibration_cnt').html(9999);\r\n    clearTimeout(t);\r\n    cam.calibrating = 0;\r\n    $('#calibration_dot').hide();\r\n    calibration_no++;\r\n    saveData();\r\n    calibrate();\r\n  }\r\n  return false;\r\n}\r\n\r\nvar t;\r\nfunction autoCalibration() {\r\n  calibrateLog();\r\n  if (cam.calibrating == 1) {\r\n    calibrateHit();\r\n  }\r\n}\r\n\r\nfunction calibrateLog() {\r\n  var $cd = $('#calibration_dot');\r\n  var cx = parseInt(Math.round($cd.offset().left));\r\n  var cy = parseInt(Math.round($cd.offset().top));\r\n  webgazer.watchListener(cx, cy);\r\n}\r\n\r\n\r\nfunction endCalibration() {\r\n  clearTimeout(t);\r\n  $('#calibration_dot').unbind(\"click\");\r\n  startValidation();\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * VALIDATE\r\n ************************************/\r\nfunction startValidation() {\r\n  validation_no = 0;\r\n  validate();\r\n}\r\n\r\nfunction validate() {\r\n  gaze_phase = \"validate\";\r\n  clearTimeout(t);\r\n  if (validation_no < validation.validations) { // if we there are validations left\r\n    $('#calibration_cnt').html(0);\r\n    var $c = $('#calibration_dot');\r\n\r\n    if (validation.points.length == 0) {\r\n\r\n      /*\r\n      * allocate positions by pixels rather than percentages\r\n      */\r\n\r\n      var min_width\t   = \"{{min_width}}\".replace(\"px\",\"\");                          // e.g. 1000px in Borcsok et al., (2020)\r\n      var min_height   = \"{{min_height}}\".replace(\"px\",\"\");                         // e.g. 400px  in Borcsok et al., (2020)\r\n      var mid_screen_x = window.innerWidth / 2;\r\n      var mid_screen_y = window.innerHeight / 2;\r\n\r\n      validation.points = shuffle([\r\n        {\r\n          position: \"top-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"top-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"middle\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n      ]);\r\n\r\n\r\n\r\n      /*\r\n      original validation positions\r\n\r\n      validation.points = shuffle([\r\n          {x: \"20%\", y: \"20%\"},\r\n          {x: \"80%\", y: \"20%\"},\r\n          {x: \"50%\", y: \"50%\"},\r\n          {x: \"20%\", y: \"80%\"},\r\n          {x: \"80%\", y: \"80%\"}\r\n                                    ]);\r\n      */\r\n    }\r\n    var vp = validation.points.pop();\r\n    $c.css({\r\n        'left' : vp.x,\r\n        'top' : vp.y\r\n    });\r\n    $c.show();\r\n    validation_current.x = Math.round($c.offset().left);\r\n    validation_current.y = Math.round($c.offset().top);\r\n\r\n    data_current = {\r\n      'type': 'validation',\r\n      'block': block_no,\r\n      'trial': validation_no,\r\n      'x': validation_current.x,\r\n      'y': validation_current.y,\r\n      'raw': []\r\n    };\r\n    cam.validating = 1;\r\n    t = setTimeout(\"validateFail();\", validation.timeout);\r\n    //t = setTimeout('validation = 0;', 3000);\r\n  } else {\r\n    endValidation();\r\n  }\r\n}\r\n\r\nfunction validateFail() {\r\n  data_current.type = 'validationfail';\r\n  data_current.attempt = validation_attempt;\r\n  saveData();\r\n\r\n\r\n  cam.validating = 0;\r\n  webgazer.pause();\r\n\r\n  $('.stimuli').hide();\r\n  if (validation_attempt >= validation.attempts) {\r\n      $('#message').html('Unforuntately, the calibration failed too many times. Therefore, you can not participate in this study. Please contact <a href=\"mailto:kilian.semmelmann@rub.de\">kilian.semmelmann@rub.de</a> if you have any questions. Thanks for your interest.').show();\r\n  } else {\r\n      validation_attempt++;\r\n      $('#message').html('The calibration failed. <br />Please follow the instructions and try again (try ' + (validation_attempt) + ' of ' + validation.attempts + ').').show().delay(5000).fadeOut(1000);\r\n      $('#instruction').show();\r\n  }\r\n  // TOOD: log validation-fail\r\n}\r\n\r\nfunction endValidation() {\r\n  cam.validating = 0\r\n  validation_attempt = 1;\r\n  webgazer.pause();\r\n  $('#instruction_message').html(design.blocks[block_no].instruction).show();\r\n  setTimeout(\"$('#instruction_message').fadeOut(1000);\", design.blocks[block_no].instruction_duration);\r\n  setTimeout(\"preparePhase();\", design.blocks[block_no].instruction_duration + 2000);\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * START EXPERIMENT\r\n ************************************/\r\nvar t_trial_start;\r\nfunction preparePhase() {\r\n    status = \"prepare\";\r\n    $('.stimuli').hide();\r\n    data_current = {\r\n        'type': 'trial',\r\n        'block': block_no,\r\n        'trial': trial_no,\r\n        'raw': []\r\n    };\r\n    webgazer.resume();\r\n    startPhase();\r\n}\r\n\r\n\r\nfunction startPhase() {\r\n  t_trial_start = new Date().getTime();\r\n  $('#stimuli_fixation').show();\r\n  status = \"fixation_onset\";\r\n  // use start function of block-type name\r\n  var fn = design.blocks[block_no].type+\"Start\";\r\n  window[fn]();\r\n}\r\n\r\n\r\nvar heat;\r\nfunction endPhase() {\r\n  clearTimeout(t);\r\n  cam.recording = 0;\r\n  webgazer.pause();\r\n  status = \"end\";\r\n  $('.stimuli').hide();\r\n  trial_no++;\r\n  saveData();\r\n\r\n  if (trial_no < design.blocks[block_no].trials) {\r\n    setTimeout(\"preparePhase();\", design.blocks[block_no].iti);\r\n  } else {\r\n    block_no++;\r\n    if (block_no < design.blocks.length) {\r\n      window.localStorage.clear();\r\n      webgazer.clearData();\r\n      //loadWebgazer();\r\n      //prepareBlock();\r\n      navigation('pause');\r\n    } else {\r\n      endExperiment();\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction saveData() {\r\n\r\n\r\n  /*\r\n  * did the participant pass validation?\r\n  */\r\n  //data_current\r\n\r\n\r\n  /*\r\n  * change file name depending on whether it's calibration, validation or main trial?\r\n  * add calibration / validation / freeview number\r\n  */\r\n\r\n  var sub_trial_no = -1;\r\n  switch(gaze_phase){\r\n    case \"calibration\":\r\n      sub_trial_no = calibration_no;\r\n      break;\r\n    case \"validate\":\r\n      sub_trial_no = validation_no;\r\n\r\n      /*\r\n      * did the participant pass? (assuming this is validation)\r\n      */\r\n      var valid_rows = 0;\r\n\r\n      data_current.raw.forEach(function(row){\r\n        valid_rows += row.valid;\r\n      });\r\n\r\n      break;\r\n    case \"freeview\":\r\n      sub_trial_no = freeview_no;\r\n      break;\r\n\r\n  }\r\n\r\n\r\n\r\n  data_current.raw = data_current.raw.map(function(row){\r\n    row.x = row.x - window.innerWidth/2;\r\n    row.y = row.y - window.innerHeight/2;\r\n\r\n    if(typeof(image_pair) !== \"undefined\"){\r\n      Object.keys(image_pair).forEach(function(key){\r\n        row[key] = image_pair[key];\r\n      });\r\n    }\r\n    row.screen_width  = screen.width;\r\n    row.screen_height = screen.height;\r\n    row.window_width  = window.innerWidth;\r\n    row.window_height = window.innerHeight;\r\n    row.trial_no      = sub_trial_no;\r\n\r\n    if(valid_rows > 19){\r\n      row.valid_trial = true;\r\n    } else {\r\n      row.valid_trial = false;\r\n    }\r\n\r\n    /*\r\n\r\n    did the participant pass? (assuming this is validation)\r\n\r\n    */\r\n\r\n\r\n    //row.left_image  = image_pair.image_1;\r\n    //row.right_image = image_pair.image_2;\r\n\r\n    return row;\r\n  });\r\n\r\n  data.push(data_current);\r\n  data_current = {};\r\n  sendData();\r\n}\r\n\r\n\r\nfunction sendData() {\r\n\r\n  var sub_trial_no = -1;\r\n  switch(gaze_phase){\r\n    case \"calibration\":\r\n      sub_trial_no = calibration_no;\r\n      break;\r\n    case \"validate\":\r\n      sub_trial_no = validation_no;\r\n      break;\r\n    case \"freeview\":\r\n      sub_trial_no = freeview_no;\r\n      break;\r\n  }\r\n\r\n  switch(parent.parent.Study.get_vars.platform){\r\n    case \"preview\":\r\n      //do nothing\r\n      break;\r\n    case \"localhost\":\r\n      console.dir(\"data\");\r\n      console.dir(data);\r\n      data.forEach(function(trial,trial_no){\r\n        if (trial !== null){\r\n          parent.parent.Collector.electron.fs.write_data(\r\n            parent.parent.Study.get_vars.location,\r\n            parent.parent.$(\"#participant_code\").val() + \"-\" +\r\n              gaze_phase                               + \"-\" +\r\n              trial_no                                 + \"-\" +\r\n              sub_trial_no                             + \".csv\",\r\n            Papa.unparse(data[trial_no].raw)\r\n          );\r\n\r\n                                      /*\r\n\r\n                                      error above\r\n\r\n                                      */\r\n\r\n\r\n\r\n           parent.parent.online_save(parent.parent.Study.get_vars.location,\r\n                    parent.parent.$(\"#participant_code\").val() +\r\n                      gaze_phase +\r\n                      \"-\" +\r\n                      trial_no +\r\n                      \"-\" +\r\n                      sub_trial_no,\r\n                      \"-trial-\" +\r\n                      parent.parent.project_json.trial_no +\r\n                      \"-\" +\r\n                      trial_no,\r\n                    parent.parent.$(\"#completion_code\").val(),\r\n                    parent.parent.$(\"#prehashed_code\").val(),\r\n                    Papa.unparse(data[trial_no].raw),          //the data\r\n          save_script.split(\"|\"),\r\n          function(){\r\n            parent.parent.online_data_obj.saves_ended ++;\r\n          });\r\n          data[trial_no] = null;\r\n        }\r\n      });\r\n      break;\r\n    default:\r\n      data.forEach(function(trial,trial_no){\r\n          if (trial !== null){\r\n                     parent.parent.online_save(parent.parent.Study.get_vars.location,\r\n                      parent.parent.$(\"#participant_code\").val() +\r\n                        \"-\" + gaze_phase +\r\n                        \"-trial-\" +\r\n                        parent.parent.project_json.trial_no +\r\n                        \"-\" +\r\n                        trial_no +\r\n                        \"-\" +\r\n                        sub_trial_no,\r\n                      parent.parent.$(\"#completion_code\").val(),\r\n                      parent.parent.$(\"#prehashed_code\").val(),\r\n                      Papa.unparse(data[trial_no].raw),          //the data\r\n            save_script.split(\"|\"),\r\n            function(){\r\n              parent.parent.online_data_obj.saves_ended ++;\r\n            });\r\n            data[trial_no] = null;\r\n          }\r\n        });\r\n\r\n        break;\r\n  }\r\n}\r\n\r\n\r\nfunction endExperiment() {\r\n  Phase.submit();\r\n}\r\n\r\n\r\n/************************************\r\n * SIMPLE DOT VIEWING PARADIGM\r\n * If you want to introduce your own paradigms, follow the same structure and extend the design array above.\r\n ************************************/\r\nvar tSimple = {};\r\ntSimple.positions = [];\r\nfunction simpleStart() {\r\n    // if we don't have dot-positions any more, refill the array\r\n    if (tSimple.positions.length == 0) {\r\n        tSimple.positions = shuffle([\r\n            {x: \"20%\", y: \"20%\"},\r\n            {x: \"50%\", y: \"20%\"},\r\n            {x: \"80%\", y: \"20%\"},\r\n            {x: \"20%\", y: \"50%\"},\r\n            {x: \"80%\", y: \"50%\"},\r\n            {x: \"20%\", y: \"80%\"},\r\n            {x: \"50%\", y: \"80%\"},\r\n            {x: \"80%\", y: \"80%\"}\r\n        ]);\r\n    }\r\n    var pos = tSimple.positions.pop();\r\n    $('#stimuli_dot').css({\r\n        'top': pos.y,\r\n        'left': pos.x\r\n    });\r\n    data_current.task = 'simple';\r\n    data_current.x = pos.x;\r\n    data_current.y = pos.y;\r\n    data_current.condition = 'dot_' + pos.x + '_' + pos.y;\r\n\r\n    cam.recording = 1;\r\n    setTimeout('$(\"#stimuli_fixation\").hide(); status = \"fixation_offset\";', 1500);\r\n    setTimeout('simpleShowdot();', 2000);\r\n}\r\n\r\nfunction simpleShowdot() {\r\n    status = \"stimulus_onset\";\r\n    $(\"#stimuli_dot\").show();\r\n    setTimeout('status = \"stimulus_offset\"; endPhase();',  2000);\r\n}\r\n\r\n\r\n/************************************\r\n * POSNER VIEWING PARADIGM\r\n ************************************/\r\nfunction posnerStart() {\r\n    var p = Math.random() >= 0.5 ? '&gt;&gt;&gt;' : '&lt;&lt;&lt;';\r\n    $('#stimuli_prime').html(p);\r\n\r\n    var t = Math.random() >= 0.5 ? 'X' : 'N';\r\n    $('#stimuli_target').html(t);\r\n\r\n    var cond = Math.random() >= 0.7 ? 'incongruent' : 'congruent';\r\n\r\n    var tpos = 'left';\r\n    if ((cond == 'incongruent' && p == '&lt;&lt;&lt;') || ((cond == 'congruent' && p == '&gt;&gt;&gt;'))) {\r\n        tpos = 'right';\r\n    }\r\n\r\n    var pos = {};\r\n    if (tpos == 'left') {\r\n        pos.x = '20%';\r\n        pos.y = '30%';\r\n    } else {\r\n        pos.x = '80%';\r\n        pos.y = '30%';\r\n    }\r\n\r\n\r\n    $('#stimuli_target').css({\r\n        'top': pos.x,\r\n        'left': pos.y\r\n    });\r\n\r\n\r\n    data_current.task = 'posner';\r\n    data_current.x = pos.x;\r\n    data_current.y = pos.y;\r\n    data_current.condition = 'posner_' + pos.x + '_' + pos.y + '_' + tpos;\r\n\r\n    cam.recording = 1;\r\n    setTimeout(\"$('#stimuli_fixation').hide();\", 1000);\r\n    setTimeout('posnerShowprime();', 1500);\r\n}\r\n\r\nfunction posnerShowprime() {\r\n    $('#stimuli_prime').show();\r\n    setTimeout(\"posnerShowTarget();\", 300);\r\n}\r\n\r\nfunction posnerShowTarget() {\r\n    $('#stimuli_prime').hide();\r\n    $('#stimuli_target').show();\r\n    setTimeout(\"endPhase();\", 1500);\r\n}\r\n\r\n\r\n/************************************\r\n * SMOOTH PURSUIT PARADIGM\r\n ************************************/\r\nvar tPursuit = {};\r\nfunction pursuitStart() {\r\n    $('#stimuli_fixation').hide();\r\n    var pos_possible = shuffle([\r\n        {x: \"20%\", y: \"20%\", tx: \"80%\", ty: \"20%\"},\r\n        {x: \"20%\", y: \"20%\", tx: \"20%\", ty: \"80%\"},\r\n        {x: \"20%\", y: \"20%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n        {x: \"80%\", y: \"20%\", tx: \"20%\", ty: \"20%\"},\r\n        {x: \"80%\", y: \"20%\", tx: \"20%\", ty: \"80%\"},\r\n        {x: \"80%\", y: \"20%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n        {x: \"20%\", y: \"80%\", tx: \"20%\", ty: \"20%\"},\r\n        {x: \"20%\", y: \"80%\", tx: \"80%\", ty: \"20%\"},\r\n        {x: \"20%\", y: \"80%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n        {x: \"80%\", y: \"80%\", tx: \"20%\", ty: \"20%\"},\r\n        {x: \"80%\", y: \"80%\", tx: \"80%\", ty: \"20%\"},\r\n        {x: \"80%\", y: \"80%\", tx: \"20%\", ty: \"80%\"}\r\n    ]);\r\n    var pos = pos_possible[0];\r\n    $s = $('#stimuli_dot');\r\n    $s.css({\r\n        'top': pos.y,\r\n        'left': pos.x\r\n    });\r\n\r\n    $s.css({\r\n        'background-color': '#000'\r\n    });\r\n\r\n\r\n    data_current.task = 'pursuit';\r\n    data_current.x = pos.x;\r\n    data_current.y = pos.y;\r\n    data_current.condition = 'pursuit_' + pos.x + '_' + pos.y + '_' + pos.tx + '_' + pos.ty;\r\n\r\n    cam.recording = 1;\r\n    $s.show();\r\n    setTimeout(function() {\r\n        status = \"pursuit_start\";\r\n        $('#stimuli_dot').css({\r\n            'background-color': '#dd494b'\r\n        }).animate({ \"left\": pos.tx, \"top\": pos.ty },\r\n            2000,\r\n            'linear',\r\n        function() {\r\n            status = \"pursuit_end\";\r\n            setTimeout(\"endPhase();\", 500);\r\n        });\r\n    }, 1500);\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * FREE VIEWING PARADIGM\r\n ************************************/\r\nvar tFreeview = {};\r\n\r\n\r\ntFreeview.stimuli = [];\r\n\r\n\r\n\r\nfunction process_freeview_image_file(){\r\n  console.dir(\"tFreeview\");\r\n  console.dir(tFreeview);\r\n  if(trial_order == \"random\"){\r\n    tFreeview.stimuli = shuffle(tFreeview.stimuli);\r\n  }\r\n\r\n\r\n  if(left_side == \"random\"){\r\n    for(var i = 0; i < tFreeview.stimuli.length; i++){\r\n      [left_image,right_image] = shuffle([tFreeview.stimuli[i].image_1,\r\n                                          tFreeview.stimuli[i].image_2]);\r\n      tFreeview.stimuli[i].image_1 = left_image;\r\n      tFreeview.stimuli[i].image_2 = right_image;\r\n    }\r\n  } else if(left_side == \"equal\" | left_side == \"counterbalance\"){\r\n    // select indexes to swap left and right for half the indexes\r\n    // all indexes:\r\n    var indexes = Array.from({length:tFreeview.stimuli.length},(v,k)=>k);\r\n        indexes = shuffle(indexes);\r\n\r\n    //assign the first half left to right\r\n    for(var i = 0; i < Math.floor(tFreeview.stimuli.length / 2); i++){          //this will only loop through half of the randomised indexes\r\n      var this_index = indexes[i];\r\n      var right_image = tFreeview.stimuli[this_index].image_1;\r\n      var left_image = tFreeview.stimuli[this_index].image_2;\r\n      tFreeview.stimuli[this_index].image_1 = left_image;\r\n      tFreeview.stimuli[this_index].image_2 = right_image;\r\n    }\r\n  } else if(left_side == \"image_1\"){\r\n    // do nothing\r\n  } else if(left_side == \"image_2\"){\r\n    for(var i = 0; i < Math.floor(tFreeview.stimuli.length / 2); i++){\r\n      var right_image = tFreeview.stimuli[i].image_1;\r\n      var left_image = tFreeview.stimuli[i].image_2;\r\n      tFreeview.stimuli[i].image_1 = left_image;\r\n      tFreeview.stimuli[i].image_2 = right_image;\r\n    }\r\n  } else {\r\n    alert(\"there's a problem in the 'left_side' column - fix this before testing.\");\r\n  }\r\n};\r\n\r\n//check if the freeview file matches one of the stimuli files\r\nif(typeof(parent.parent.project_json.all_stims[freeview_image_file]) !== \"undefined\"){\r\n  var freeview_contents = parent.parent.project_json.all_stims[freeview_image_file];\r\n  var freeview_clean    = freeview_contents.map(function(row){\r\n    return row.filter(item => item !== null);\r\n  });\r\n  tFreeview.stimuli = Papa.parse(Papa.unparse(freeview_clean),{\r\n    header:true,\r\n    skipEmptyLines:true\r\n  }).data;\r\n  process_freeview_image_file();\r\n} else {\r\n  if(freeview_image_file.toLowerCase().indexOf(\"https://\") == -1){\r\n    freeview_image_file = \"../User/\" + freeview_image_file;\r\n  }\r\n  $.get(freeview_image_file,function(result){\r\n    tFreeview.stimuli = Papa.parse(result,{\r\n      header:true,\r\n      skipEmptyLines:true\r\n    }).data;\r\n    process_freeview_image_file();\r\n  });\r\n}\r\n\r\nimages_loaded = 0;\r\n\r\n\r\nfunction freeviewStart() {\r\n  gaze_phase = \"freeview\";\r\n  function freeview_loaded(left_image, right_image){\r\n    freeview_no++;\r\n    data_current.task = 'freeviewing';\r\n    data_current.x = $('#stimuli_img_left').css('left');\r\n    data_current.y = \"0%\";\r\n    data_current.condition = 'view_' + left_image + '_' + right_image;\r\n\r\n    cam.recording = 1;\r\n    setTimeout(function(){\r\n      status = 'fixation_flash';\r\n      $('#stimuli_fixation').css(\"color\",\"red\");\r\n    }, 1000);\r\n    setTimeout(function(){\r\n      $('#stimuli_fixation').css(\"color\",\"black\");\r\n    }, 1250);\r\n    setTimeout(function(){\r\n      $('#stimuli_fixation').css(\"color\",\"red\");\r\n    }, 1500);\r\n    setTimeout(function(){\r\n      $('#stimuli_fixation').css(\"color\",\"black\");\r\n    }, 1750);\r\n    setTimeout(function(){\r\n      $('#stimuli_fixation').hide();\r\n      status = 'fixation_offset';\r\n\r\n    }, 2000);\r\n    setTimeout(function(){\r\n\r\n      all_fixation_rts.push()\r\n      freeviewShow();\r\n    },2500);\r\n  }\r\n\r\n  document.body.style.cursor = 'none';\r\n\r\n\r\n  image_pair = tFreeview.stimuli.shift();\r\n\r\n  [left_image,right_image] = [image_pair.image_1,image_pair.image_2];\r\n\r\n  /*\r\n  * Some code to make this work on installed version of Collector\r\n  */\r\n  switch(parent.parent.Study.get_vars.platform){\r\n    case \"preview\":\r\n    case \"localhost\":\r\n      left_image = \"../../\" + left_image;\r\n      right_image = \"../../\" + right_image;\r\n      break;\r\n  }\r\n\r\n  var baseline_time = new Date().getTime();\r\n\r\n\r\n  // Make sure the images are loaded before going past fixation\r\n  /////////////////////////////////////////////////////////////\r\n\r\n  $(\"#stimuli_img_left\").off(\"load\");\r\n  $(\"#stimuli_img_right\").off(\"load\");\r\n  $(\"#stimuli_img_left\").attr(\"src\" , left_image);\r\n  $(\"#stimuli_img_right\").attr(\"src\" , right_image);\r\n\r\n  images_loaded = 0;\r\n\r\n  $(\"#stimuli_img_left\").on(\"load\",function(){\r\n    images_loaded = images_loaded + 1;\r\n    if(images_loaded == 2){\r\n      freeview_loaded(left_image, right_image);\r\n    }\r\n  });\r\n\r\n  $(\"#stimuli_img_right\").on(\"load\",function(){\r\n    images_loaded = images_loaded + 1;\r\n    if(images_loaded == 2){\r\n      freeview_loaded(left_image, right_image);\r\n    }\r\n  });\r\n}\r\n\r\nfunction freeviewShow() {\r\n  status = 'stimulus_onset';\r\n  $('#stimuli_img_left').show();\r\n  $('#stimuli_img_right').show();\r\n  setTimeout(\"status = 'stimulus_offset'; endPhase();\", stim_duration);\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * GENERATE AND SHOW HEATMAP\r\n ************************************/\r\nfunction heatmap() {\r\n    // preprocess data for heatmap\r\n    var bins = []; // create bins and fill them\r\n    for (var y = 0; y < window.innerHeight; y++) {\r\n        for (var x = 0; x < window.innerWidth; x++) {\r\n            bins.push([x, y, 0]);\r\n        }\r\n    }\r\n    // sort fixations into bins and get max\r\n    var max = 0;\r\n    for (var i = 0; i < data[data.length - 1].raw.length; i++) {\r\n        var d = data[data.length - 1].raw[i];\r\n        var dx = Math.round(d.x);\r\n        var dy = Math.round(d.y);\r\n        var pos = (dy * window.innerWidth) + dx;\r\n        if (pos <= bins.length && pos >= 0) {\r\n            bins[pos][2] += 1;\r\n            if (bins[pos][2] > max) {\r\n                max = bins[pos][2];\r\n            }\r\n        } else {\r\n            console.log('dropped ' + pos);\r\n        }\r\n    }\r\n\r\n    // remove empty bins\r\n    var binsc = [];\r\n    for (var i = 0; i < bins.length; i++) {\r\n        if (bins[i][2] != 0) {\r\n            binsc.push(bins[i]);\r\n        }\r\n    }\r\n\r\n    // create heatmap\r\n    $('body').append(\"<canvas id=\\\"heatmap\\\"></canvas>\");\r\n    $('#heatmap').attr('width', window.innerWidth);\r\n    $('#heatmap').attr('height', window.innerHeight);\r\n    heat = simpleheat('heatmap');\r\n    heat.resize();\r\n    heat.radius(30,50);\r\n    heat.max(max).data(binsc).draw();\r\n\r\n    $('#stimuli_img').show();\r\n}\r\n\r\n\r\n/**\r\n * navigation\r\n */\r\nvar page = 1;\r\nvar oldpage = -1;\r\nvar d_consent = undefined;\r\nfunction navigation(direction) {\r\n  $('#message').hide();\r\n\r\n  $('#instruction_continue_text').html(\"&gt;\");\r\n\r\n\r\n\r\n\tif (page == 2 && direction == 'continue') {\r\n    if (cam.initialized == 1) {\r\n      $('#instruction').fadeOut(1000);\r\n      setTimeout(\"prepareBlock();\", 2000);\r\n    }\r\n  } else if (page == 2 && direction == 'pause') {\r\n    $('#instruction_continue').html(\"continue\").css({'font-size': '1.7em'});\r\n    $('#instruction_2').find(\"h1\").html('short pause (block ' + block_no + ' of ' + design.blocks.length + \")\");\r\n    $('#setup_first').hide();\r\n    $('#setup_after').show();\r\n\r\n    $('#instruction').show(function() {\r\n      if (block_no == design.blocks.length) {\r\n        page++;\r\n      } else {\r\n        $('#instruction_2').fadeIn(300);\r\n        $('#webgazerVideoFeed').show();\r\n      }\r\n    });\r\n  } else if  (direction == 'continue') {\r\n    page++;\r\n  } else if (direction == 'back') {\r\n    page--;\r\n  }\r\n  page = page < 1 ? 1 : page;\r\n  page = page > $('.instruction_page').length ? $('.instruction_page').length : page;\r\n  page <= 1 ? $('#instruction_back').hide() : $('#instruction_back').show();\r\n  page >= $('.instruction_page').length ? $('#instruction_continue').hide() : $('#instruction_continue').show();\r\n  page >= 3 ? $('#instruction_back,#instruction_continue').hide() : \"\";\r\n  block_no > 0 ? $('#instruction_back').hide() : \"\";\r\n\r\n  if (oldpage != page) { // if we stay at the same page, we avoid unnecessary animations\r\n    $('.instruction_page').hide();\r\n    $('#instruction_'+page).fadeIn(300);\r\n  }\r\n  // start up webcam\r\n  if (page == 2 && cam.initialized == 0) {\r\n    $(\"#instruction_continue\").hide();\r\n    loadWebgazer();\r\n  }\r\n  oldpage = page;\r\n}\r\n\r\n\r\nvar cl;\r\nvar t_start = new Date().getTime();\r\n$('document').ready(function() {\r\n  $('#stimulus').hide();\r\n  $('#calibration_dot').hide();\r\n  $('#setup_after').hide();\r\n  $('#instruction_message').hide();\r\n  $('#therest').hide();\r\n\r\n\r\n  $('#start_button').click(function() {\r\n    $(this).hide();\r\n    prepareBlock();\r\n  });\r\n\r\n  $('body').keypress(function(e) {\r\n    //e.preventDefault();\r\n    switch(e.keyCode) {\r\n\r\n    }\r\n  });\r\n\r\n  $('#instruction_continue').click(function() {\r\n    navigation('continue');\r\n  });\r\n\r\n  $('#instruction_back').click(function() {\r\n    navigation('back');\r\n  });\r\n\r\n  $( \"#f_crowdflowerid\" ).tooltip({\r\n    show: {\r\n      effect: \"slideDown\",\r\n      delay: 250\r\n    }\r\n  });\r\n\r\n\r\n  /*\r\n  $('#f_birthday').datepicker({\r\n      dateFormat: 'yy/mm/dd',\r\n      changeYear: true,\r\n      changeMonth: true,\r\n      yearRange: \"-100:+0\"\r\n  });\r\n  */\r\n  var select = $('#f_birthday');\r\n  for (var i=18;i <= 100; i++){\r\n    select.append('<option value=\"'+i+'\">'+i+'</option>')\r\n  }\r\n\r\n  window.localStorage.clear();\r\n\r\n  var ss = window.location.hash.substring(1);\r\n  $('#cf_reference,#asd_reference,#rub_reference,#cf_code').hide();\r\n  if (ss == \"cf\") { // crowdflower-reference\r\n    $('#cf_reference,#cf_code').show();\r\n  } else if (ss == \"rub\") {\r\n    $('#rub_reference').show();\r\n\t} else {\r\n    $('#asd_reference').show();\r\n\t}\r\n\r\n  var is_chrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;\r\n  var is_firefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\r\n  if (is_chrome || is_firefox) {\r\n    page = 0;\r\n    navigation('start');\r\n  } else {\r\n    $('#instruction').hide();\r\n    $('#message').html('Thank you very much for your interest in our study.<br /><br />Unfortunately, your browser is not supported by our website. To participate, you need either the browser \"Google Chrome\" or \"Firefox\".<br /><br />Do download one of these securely and free of charge, please follow one of these links: <a href=\"https://www.google.com/chrome/browser/desktop/\" target=\"_blank\">Google Chrome</a> or <a href=\"https://www.mozilla.org/de/firefox/new/\" target=\"_blank\">Mozilla Firefox</a>').show();\r\n  }\r\n});\r\n\r\n\r\n\r\n/*\r\n\r\n function drawLoop() {\r\n    requestAnimFrame(drawLoop);\r\n    var p = webgazer.getCurrentPrediction();\r\n    if (p !== null) {\r\n        console.log(p);\r\n        $('body').append('<span class=\"p\" style=\"top: '+p.y+'px; left: '+p.x+'px\"></span>');\r\n        measurements++;\r\n    }\r\n    t = (new Date().getTime() - start)/1000;\r\n    cam.overlay.getContext('2d').clearRect(0,0,cam.width,cam.height);\r\n    if (cl.getCurrentPosition()) {\r\n        //console.log(cl.getCurrentPosition()[0]);\r\n        //cl.draw(overlay);\r\n    }\r\n}\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\nwindow.onbeforeunload = function() {\r\n  //webgazer.end(); //Uncomment if you want to save the data even if you reload the page.\r\n}\r\n</script>\r\n",
      "text": "<!--\n/*  Collector (Garcia, Kornell, Kerr, Blake & Haffey)\n    A program for running experiments on the web\n    Copyright 2012-2016 Mikey Garcia & Nate Kornell\n\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License version 3 as published by\n    the Free Software Foundation.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>\n \t\t\n\t\tKitten/Cat release (2019-21) author: Dr. Anthony Haffey (team@someopen.solutions)\t\t\n*/\n-->\n{{text}}",
      "survey": "<!--\r\n  Author: Dr. Anthony Haffey\r\n\r\n  Collector: Cat/Kitten/Cat release\r\n  A program for running experiments on the web\r\n  Copyright 2012-2018 Mikey Garcia & Nate Kornell\r\n\r\n  This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License version 3 as published by the Free Software Foundation.\r\n\r\n  This program is distributed in the hope that it will be useful,\r\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n  GNU General Public License for more details.\r\n\r\n  You should have received a copy of the GNU General Public License\r\n  along with this program.  If not, see <http://www.gnu.org/licenses/>\r\n\r\n  Kitten/Cat release (2019-2021) author: Dr. Anthony Haffey\r\n\r\n  (team@someopen.solutions)\r\n-->\r\n<style>\r\nbody{\r\n  background-color:#5F9EA0;\r\n  width:100%;\r\n  height:100%;\r\n}\r\ntd{\r\n  padding:10px;\r\n  vertical-align: top;\r\n}\r\n\r\n/*\r\n*\telements by id\r\n*/\r\n\r\n#content{\r\n  width:95%;\r\n}\r\n#proceed_button{\r\n  display:none;\r\n  float:right;\r\n}\r\n#survey_outline{\r\n\tposition: \t\t\t\t\tfixed;\r\n  top: \t\t\t\t\t\t\t\t50%;\r\n  left: \t\t\t\t\t\t\t50%;\r\n\theight: \t\t\t\t\t\t90%;\r\n\toverflow: \t\t\t\t\tauto;\r\n\t-webkit-transform: \ttranslate(-50%, -50%);\r\n  transform: \t\t\t\t\ttranslate(-50%, -50%);\r\n  background-color: \twhite;\r\n\tmin-width:        \t900px;\r\n\tmax-width:        \t9000px;\r\n\tborder-radius:    \t20px;\r\n  border-color:     \t#006688;\r\n  border-style:     \tsolid;\r\n  border-width:     \t5px;\r\n\tpadding:            10px;\r\n  box-shadow:         12px 12px 12px rgba(0, 0, 0, 0.5);\r\n}\r\n#survey_tabs{\r\n  padding:            20px;\r\n}\r\n#this_survey_id{\r\n  padding:            20px;\r\n  display:            none;\r\n}\r\n\r\n/*\r\n*\telements by class\r\n*/\r\n.feedback_span_multiple{\r\n  display: none;\r\n  margin:  10px;\r\n}\r\n.feedback_span_single{\r\n  display: none;\r\n  padding: 10px;\r\n}\r\n.likert_table td{\r\n  padding:    1px;\r\n  text-align: center;\r\n}\r\n.likert_table td:hover{\r\n  color: blue;\r\n}\r\n.score_total{\r\n  display: none;\r\n}\r\n.show_tab{\r\n  margin: 5px;\r\n}\r\n.survey_btn{\r\n\twhite-space: normal;\r\n\tword-wrap: \t initial;\r\n}\r\n.table_break{\r\n\twidth:    100%;\r\n\theight:   300px;\r\n\toverflow: auto;\r\n}\r\n\r\n\r\n/*\r\n* by Bora Alp Arat at https://stackoverflow.com/questions/21684101/css-vertical-scrollbar-padding-left-right-in-ul-possible\r\n*/\r\n::-webkit-scrollbar {\r\n  width: 14px;\r\n  height: 18px;\r\n}\r\n::-webkit-scrollbar-thumb {\r\n  height: 6px;\r\n  border: 4px solid rgba(0, 0, 0, 0);\r\n  background-clip: padding-box;\r\n\t-webkit-border-radius: 7px;\r\n  background-color: rgba(0, 102, 153, 0.5);\r\n  -webkit-box-shadow: inset -1px -1px 0px rgba(0, 0, 0, 0.05), inset 1px 1px 0px rgba(0, 0, 0, 0.05);\r\n}\r\n::-webkit-scrollbar-button {\r\n  width: 0;\r\n  height: 0;\r\n  display: none;\r\n}\r\n::-webkit-scrollbar-corner {\r\n  background-color: transparent;\r\n}\r\n</style>\r\n<div id=\"everything\">\r\n\t<div id=\"survey_outline\"></div>\r\n</div>\r\n<span id=\"scales_span\"></span>\r\n<script>\r\n/*\r\n* Retrieving settings\r\n*/\r\n\r\nif(typeof(settings) !== \"undefined\"){\r\n  settings = [settings];\r\n} else {\r\n  settings = {};\r\n}\r\n\r\n/*\r\n* vertical vs. horizontal tabs\r\n*/\r\n\r\nif(typeof(settings.tab_hor_vert) == \"undefined\" || settings.tab_hor_vert.toLowerCase() == \"horizontal\"){\r\n  settings.tab_hor_vert = \"horizontal\";\r\n  var please_wait = $(\"<div>\");\r\n  var this_survey = $(\"<div>\");\r\n  var survey_tabs = $(\"<div>\");\r\n  var proceed_btn = $(\"<input>\");\r\n  please_wait.attr(\"id\", \"please_wait_div\")\r\n             .html(\"Loading... Please wait\");\r\n  this_survey.addClass(\"needs-validation\")\r\n             .attr(\"id\", \"this_survey_id\")\r\n             .attr(\"novalidate\", true);\r\n  survey_tabs.attr(\"id\", \"survey_tabs\")\r\n             .addClass(\"border-top\")\r\n             .addClass(\"border-primary\")\r\n             .css(\"text-align\", \"right\")\r\n  proceed_btn.addClass(\"btn\")\r\n             .addClass(\"btn-primary\")\r\n             .attr(\"id\", \"proceed_button\")\r\n             .attr(\"type\", \"submit\")\r\n             .attr(\"value\", \"Proceed\")\r\n  $(\"#survey_outline\").append(please_wait)\r\n                      .append(this_survey)\r\n                      .append(survey_tabs)\r\n                      .append(proceed_btn);\r\n\r\n} else if (settings.tab_hor_vert.toLowerCase() == \"vertical\"){\r\n  $(\"#survey_outline\").html(\r\n    '<table>' +\r\n      '<tr>' +\r\n        '<td valign=\"top\" class=\"border-right border-primary\">'+\r\n          '<div id=\"survey_tabs\"></div>' +\r\n        '</td>' +\r\n        '<td>'+\r\n          '<div id=\"please_wait_div\">Please wait while survey is downloading</div>'+\r\n          '<div id=\"this_survey_id\" class=\"needs-validation\" novalidate></div>' +\r\n          '<input type=\"button\" value=\"Proceed\" class=\"btn btn-primary\" id=\"proceed_button\">'+\r\n        '</td>'+\r\n      '</tr>'+\r\n    '</table>'\r\n  );\r\n} else if(settings.tab_hor_vert.toLowerCase() == \"none\"){\r\n  $(\"#survey_outline\").html(\r\n    '<div id=\"survey_tabs\" style=\"display:none\"></div>' +\r\n    '<div id=\"please_wait_div\">Please wait while survey is downloading</div>'+\r\n    '<div id=\"this_survey_id\" class=\"needs-validation\" novalidate></div>'\r\n  );\r\n} else {\r\n  bootbox.alert(\"If you are the researcher, please check the 'settings for this survey. The input for 'tab_hor_vert' appears to be invalid. Please change it to 'horizontal' or 'vertical' or 'none' or remove 'tab_hot_vert' altogether from the settings, which will make the tabs invisible\");\r\n}\r\n\r\n/*\r\n* Defining objects\r\n*/\r\n\r\npage_break_management = {\r\n  breaks_remaining : 0,\r\n  breaks_index     : 0\r\n}\r\n\r\nproceed_object = {\r\n  type:[],\r\n  name:[],\r\n  break_no:[]\r\n};\r\n\r\nscoring_object={\r\n  scales:[],\r\n  scale_scores:[],\r\n  update_scales:function(this_survey){\r\n    headers = Object.keys(this_survey[0]);\r\n    this.scales = headers.filter(elm => elm.includes(\"score:\"));\r\n    var scales_html = '';\r\n    this.scales.forEach(function(element){\r\n      element = element.replace(\": \",\":\");\r\n      scales_html += \"<input name='\"+element.replace(/ |:/g,\"_\")+\"' class='score_total \"+element.replace(/ |:/g,\"_\")+\"' disabled>\";\r\n    });\r\n    $(\"#scales_span\").html(scales_html);\r\n  }\r\n}\r\n\r\nsurvey_obj = {};\r\n\r\n/*\r\n* Element actions\r\n*/\r\n\r\n/*\r\n$(function() {\r\n  $( \".datepicker\" ).datepicker({\r\n    dateFormat : 'mm/dd/yy',\r\n    changeMonth : true,\r\n    changeYear : true,\r\n    yearRange: '-100y:c+nn',\r\n    maxDate: '-1d'\r\n  });\r\n});\r\n*/\r\n\r\n\r\n$('#ExperimentContainer').css('transform','scale(1,1)');\r\n\r\n$(\"#proceed_button\").on(\"click\",function(){\r\n  var proceed = true;\r\n  var tabs    = document.getElementsByClassName('show_tab active');\r\n  if(tabs.length > 0){\r\n    var current_tab       = document.getElementsByClassName(\r\n      'show_tab active')[0]\r\n        .id\r\n        .replace(\"_button\", \"\")\r\n        .replace(\"tab_\",    \"\");\r\n    var response_elements = $('#table_'+current_tab).find('.response_element');\r\n\r\n  } else {\r\n    response_elements = $(\".table_break:visible\").find(\".response_element\");\r\n  }\r\n  for(var i = 0; i < response_elements.length; i++){\r\n    [row_no,item_name] = retrieve_row_no_item_name(response_elements[i]);\r\n    if(typeof(survey_obj.data[row_no].optional) !== \"undefined\"){\r\n      var this_optional = survey_obj.data[row_no].optional.toLowerCase();\r\n\r\n      if(this_optional.indexOf(\"no\") !== -1){\r\n        this_optional = this_optional.split(\"-\");       // find out whether there's a minimal number of responses\r\n        if(this_optional.length == 1){                  // default is that length needs to be at least 1\r\n          var min_resp_length = 1;\r\n        } else if(this_optional.length == 2) {\r\n          var min_resp_length = this_optional[1];\r\n        } else {\r\n          bootbox.alert(\"Error - you appear to have too many '-' characters in the 'optional' column\");\r\n          return false;\r\n        }\r\n      } else {\r\n        min_resp_length = 0;\r\n      }\r\n\r\n      var quest_resp = isJSON($(\"#\"+response_elements[i].id).val());\r\n      if (quest_resp.length < min_resp_length){\r\n        proceed = false;\r\n  \t\t\t$(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-dark\");\r\n        $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-success\");\r\n        $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).addClass(\"text-danger\");\r\n      } else {\r\n  \t\t\t$(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-dark\");\r\n        $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-danger\");\r\n        $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).addClass(\"text-success\");\r\n      }\r\n    }\r\n  }\r\n\r\n  if(current_tab == survey_obj.tabs && proceed){\r\n    if(typeof(sql_surveys) == \"undefined\"){\r\n      //$(\".table_break\");\r\n      var next_table_no = parseFloat($(\".table_break:visible\")[0].id.replace(\"table\",\"\")) + 1;\r\n\r\n      if($(\".table_break#table\"+next_table_no).length == 0){\r\n        if(typeof(Phase) !== \"undefined\"){\r\n          Phase.submit();\r\n        } else {\r\n          bootbox.alert(\"You've finished! Click on the preview button to restart.\")\r\n        }\r\n      } else {\r\n        $(\".table_break\").hide();\r\n        $(\".table_break#table\" + next_table_no).show();\r\n      }\r\n    } else {\r\n      $(\"#survey_outline\").html(\"<h1> You have finished the preview of this survey.</h1>\");\r\n    }\r\n  } else if(current_tab < survey_obj.tabs && proceed) {\r\n    current_tab ++;\r\n    $(\"#tab_\"+current_tab+\"_button\").removeClass(\"btn-secondary\");\r\n    $(\"#tab_\"+current_tab+\"_button\").removeClass(\"disabled\");\r\n    $(\"#tab_\"+current_tab+\"_button\").addClass(\"btn-outline-dark\");\r\n    $(\"#tab_\"+current_tab+\"_button\").click();\r\n  } else if(proceed == false){\r\n    bootbox.alert(\"You're missing some responses. Please fill in all the answers for the questions in red above.\");\r\n  } else if(current_tab > survey_obj.tabs){\r\n    bootbox.alert(\"Error - please contact Scientific Open Solutions about this problem, error 'Survey_001'.\");\r\n  }\r\n});\r\n\r\n//by qwerty at https://stackoverflow.com/questions/2116558/fastest-method-to-replace-all-instances-of-a-character-in-a-string\r\nString.prototype.replaceAll = function(str1, str2, ignore){\r\n  return this.replace(new RegExp(str1.replace(/([\\/\\,\\!\\\\\\^\\$\\{\\}\\[\\]\\(\\)\\.\\*\\+\\?\\|\\<\\>\\-\\&])/g,\"\\\\$&\"),(ignore?\"gi\":\"g\")),(typeof(str2)==\"string\")?str2.replace(/\\$/g,\"$$$$\"):str2);\r\n}\r\n\r\n\r\n/*\r\n* Functions\r\n*/\r\n\r\nfunction clean_item(this_item){\r\n  if(this_item.indexOf(\"'\") !== -1 |\r\n     this_item.indexOf('\"') !== -1){\r\n    bootbox.alert(\"Please avoid apostraphes or quote marks in the responses the participant can give. These cause problems with smooth running of surveys. This occurs when you wrote:<br><br>\" + this_item);\r\n  }\r\n  return(this_item);\r\n}\r\n\r\nfunction generate_feedback_string(feedback_array, this_index, feedback_color, row){\r\n  if(feedback_array){                 //i.e. if it's not null\r\n    if(feedback_array.length > 1){\r\n      return \"<div class='feedback_span_multiple \"+row[\"item_name\"].toLowerCase()+\"_feedback' style='color:\"+feedback_color[this_index]+\"'>\"+feedback_array[this_index]+\"</div>\";\r\n    } else {\r\n      return \"<div class='feedback_span_single \" +\r\n      row[\"item_name\"].toLowerCase() + \"_feedback' style='color:\" +\r\n      feedback_color[this_index] +\r\n      \"'>\" +\r\n      feedback_array[this_index] +\r\n      \"</div>\";\r\n    }\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nfunction get_feedback(row){\r\n  if(typeof(row[\"feedback\"]) !== \"undefined\" && row[\"feedback\"] !== \"\"){\r\n    feedback_array = row[\"feedback\"].split(\"|\");\r\n    if(typeof(row[\"feedback_color\"]) == \"undefined\"){\r\n      bootbox.alert(\"The color for the feedback options has not been set. If you created this questionnaire, please add a column 'feedback_color' to your survey and separate the colors by a pipe (|) character.\");\r\n    }\r\n    feedback_color = row[\"feedback_color\"].split(\"|\");\r\n  } else {\r\n    feedback_array = null;\r\n    feedback_color = '';\r\n  }\r\n  return [feedback_array,feedback_color];\r\n}\r\n\r\nfunction isJSON(str) {\r\n  try {\r\n    return JSON.parse(str);\r\n  } catch (e) {\r\n    return str;\r\n  }\r\n}\r\n\r\nfunction likert_update(this_element){\r\n\r\n  [row_no,item_name] = retrieve_row_no_item_name(this_element);\r\n\r\n  $(\".row_\"+row_no).removeClass(\"active\");\r\n  $(\".row_\"+row_no).removeClass(\"btn-primary\");\r\n  $(\".row_\"+row_no).addClass(\"btn-outline-primary\");\r\n  $(this_element).removeClass(\"btn-outline-primary\");\r\n  $(this_element).addClass(\"btn-primary\");\r\n  $(\"#survey_\"+item_name+\"_response\").val(this_element.value);\r\n  response_check(this_element);\r\n}\r\n\r\nfunction load_survey(survey){\r\n  /*\r\n  * are we in preview?\r\n  */\r\n  if(typeof(parent.collector_survey_preview) !== \"undefined\"){\r\n    survey_content = survey;\r\n  } else if(typeof(parent.master) !== \"undefined\" && parent.master.surveys.preview){\r\n    survey_content = survey;\r\n    survey_obj.mods = parent.master.mods;\r\n  } else {\r\n    survey = survey.toLowerCase().replace(\".csv\",\"\") + \".csv\";\r\n\r\n    if(typeof(parent.parent.project_json.surveys) !== \"undefined\" &&\r\n       typeof(parent.parent.project_json.surveys[survey]) !== \"undefined\"){\r\n      survey_content = parent.parent.project_json.surveys[survey];\r\n      survey_obj.mods = parent.parent.project_json.mods;\r\n\r\n    } else if(\r\n      typeof(parent.parent.project_json.surveys) !== \"undefined\" &&\r\n      typeof(parent.parent.project_json.surveys[\r\n        survey.replace(\".csv\",\"\")\r\n      ])\r\n    ){\r\n\t\t\tsurvey_content = parent.parent.project_json.surveys[survey.replace(\".csv\",\"\")];\r\n      survey_obj.mods = parent.parent.project_json.mods;\r\n\t\t}\telse {\r\n      bootbox.alert(\"Survey \" + survey  + \" doesn't appear to exist\");\r\n    }\r\n  }\r\n  process_returned_questionnaire(survey_content);\r\n}\r\n\r\nfunction process_question(row, row_no){\r\n  //row.values = row.values == \"\" ? row.answers : row.values;\r\n  if(row_check(\"page_break\", row)){\r\n    page_break_management.breaks_remaining++;\r\n    question_td = \"</tr></table><table id='table\" +\r\n      page_break_management.breaks_remaining +\r\n      \"' style='display:none' class='table_break'></tr>\";\r\n  } else {\r\n    if(\r\n      typeof(row[\"values\"]) !== \"undefined\" & typeof(row[\"values\"]) !== \"function\"\r\n    ){ //to address microsoft edge issue.\r\n      value_array = row[\"values\"].split(\"|\");\r\n    } else {\r\n      value_array='';\r\n    }\r\n\r\n    if(row[\"item_name\"].indexOf(\" \") !== -1){\r\n      bootbox.alert(\"Please note that the 'item name' '\" +\r\n        row['item_name'] +\r\n        \"' is invalid because it has at least one space. Please use underscores instead of spaces. If you're not the creator of this task, please contact the person who created it.\"\r\n      );\r\n    }\r\n\r\n    /*\r\n    * class for scoring\r\n    */\r\n\r\n    var this_class = \"\";\r\n    for(var i=0;i<scoring_object.scales.length;i++){\r\n      if(row[scoring_object.scales[i].toLowerCase()]==\"1\"){\r\n        this_class += scoring_object.scales[i].toLowerCase().replace(\r\n          \"score: \",\"\"\r\n        ).replace(/ |-/,\"\") + \" \";\r\n      }\r\n      if(row[scoring_object.scales[i].toLowerCase()]==\"r1\"){\r\n        this_class += scoring_object.scales[i].toLowerCase().replace(\"score: \",\"\").replace(\" \",\"_\")+\"-r1 \";\r\n      }\r\n    }\r\n\r\n    /*\r\n    * adding to row to help with \"write\" function\r\n    */\r\n    var row_x = JSON.parse(\r\n      JSON.stringify(row)\r\n    );\r\n    row_x[\"row_no\"] = row_no;\r\n    row_x[\"this_class\"] = this_class;\r\n\r\n    [feedback_array,feedback_color] = get_feedback(row);\r\n\r\n\r\n    question_td = '<input type=\"hidden\" class=\"response_element row_' + row_no + '\" id=\"survey_' +\r\n      row[\"item_name\"].toLowerCase() +\r\n      '_response\" name=\"survey_' +\r\n      row[\"item_name\"].toLowerCase() +\r\n      '_response\" value=\"\">';\r\n\r\n    /*\r\n    * Survey settings\r\n    */\r\n    [row_ques_perc,row_resp_perc] = row_perc(row[\"question_width\"]);\r\n\r\n    if(typeof(settings.feedback_before_response) == \"undefined\"){\r\n      settings.feedback_before_response = true;\r\n    }\r\n\r\n    if(typeof(settings.lock_after_feedback) == \"undefined\"){\r\n      settings.lock_after_feedback = false;\r\n    }\r\n\r\n    if(typeof(row[\"type\"]) == \"undefined\"){\r\n      return false;\r\n    }\r\n\r\n    if(\r\n      typeof(survey_obj.mods) !== \"undefined\" &&\r\n\t\t\ttypeof(survey_obj.mods[row.type]) !== \"undefined\"\r\n    ){\r\n      var mod_html = survey_obj.mods[row.type].contents;\r\n\r\n      Object.keys(row).forEach(function(attribute){\r\n        mod_html = mod_html.replaceAll(\"{{\"+attribute+\"}}\",row[attribute]);\r\n      });\r\n      question_td += mod_html;\r\n    } else {\r\n      switch(row[\"type\"].toLowerCase()){\r\n        case \"page_start\":\r\n          var tabs_html = $(\"#survey_tabs\").html();\r\n          if(settings.tab_hor_vert == \"horizontal\"){\r\n            span_div = \"span\";\r\n          } else if(settings.tab_hor_vert == \"vertical\"){\r\n            span_div = \"div\";\r\n          }\r\n          if(typeof(survey_obj.tabs) == \"undefined\"){\r\n            survey_obj.tabs = 0;\r\n          } else {\r\n            survey_obj.tabs++;\r\n          }\r\n          if(survey_obj.tabs == 0){ //i.e. is the first tab\r\n            active_button = \"btn-outline-primary active\";\r\n          } else {\r\n            active_button = \"btn-secondary disabled\";\r\n          }\r\n          if(settings.tab_hor_vert == \"vertical\"){\r\n            var vert_btn_block = \"btn-block\";\r\n          } else {\r\n            var vert_btn_block = \"\";\r\n          }\r\n\r\n          tabs_html +=  '<'+span_div+' class=\"btn-group-toggle\" data-toggle=\"buttons\">'+\r\n            '<label id=\"tab_' + survey_obj.tabs + '_button\" class=\"btn show_tab '+active_button+' '+vert_btn_block+'\">'+\r\n              '<input type=\"checkbox\" checked autocomplete=\"off\">'+ row['text'] +\r\n            '</label>'+\r\n          '</'+span_div+'>';\r\n\r\n          $(\"#survey_tabs\").html(tabs_html);\r\n\r\n          page_break_indexes = [];\r\n          survey_obj.data.forEach(function(row,this_index){\r\n            if(typeof(row.type) !== \"undefined\" && row.type.toLowerCase() == \"page_start\"){\r\n              page_break_indexes.push(this_index);\r\n            }\r\n          });\r\n\r\n          if(survey_obj.tabs > 0){\r\n            question_td += \"</td><td></td></tr></table></div><div class='survey_page' id='tab_\" + survey_obj.tabs + \"' style='display:none'><table id='table_\" + survey_obj.tabs + \"' class='table_break'><tr>\";\r\n          } else {\r\n            question_td += \"</td><td></td></tr></table><div class='survey_page' id='tab_\"+survey_obj.tabs+\"' ><table id='table_\"+survey_obj.tabs+\"' class='table_break'><tr>\";\r\n          }\r\n          break;\r\n        case \"checkbox\":\r\n        case \"checkbox_vertical\":\r\n          question_td += write(\"checkbox_vertical\",row_x);\r\n          break;\r\n        case \"checkbox_horizontal\":\r\n          question_td += write(\"checkbox_horizontal\",row_x);\r\n          break;\r\n        case \"checkbox_single\":\r\n          question_td += write(\"checkbox_single\", row_x);\r\n          break;\r\n        case \"date\":\r\n          question_td += write(\"date\",row_x);\r\n        break;\r\n        case \"dropdown\":\r\n\t\t\t\tcase \"select\":\r\n          question_td += write(\"dropdown\",row_x);\r\n        break;\r\n        case \"email\":\r\n          question_td += write(\"email\", row_x);\r\n        break;\r\n        case \"google_slide\":\r\n        case \"jumbled\":\r\n        case \"instruct\":\r\n          // these are defined elsewhere to take the whole row\r\n          break;\r\n        case \"likert\":\r\n          question_td += write(\"likert\", row_x);\r\n        break;\r\n        case \"number\":\r\n          question_td += write(\"number\", row_x);\r\n          break;\r\n        case \"para\":\r\n          question_td += write(\"para\", row_x);\r\n          break;\r\n        case \"radio\":\r\n        case \"radio_vertical\":\r\n          question_td += write(\"radio_vertical\", row_x);\r\n          break;\r\n        case \"radio_horizontal\":\r\n          question_td += write(\"radio_horizontal\", row_x);\r\n        break;\r\n\r\n        case \"report_score\":\r\n            question_td += \"<input disabled class='form-control score_\" + row[\"item_name\"] + \" \"+row[\"item_name\"]+\"_item row_\"+row_no+\"' type='text' name='survey_\"+row['item_name'].toLowerCase()+\"'>\";\r\n        break;\r\n\r\n        case \"text\":\r\n          question_td += write(\"text\", row_x);\r\n        break;\r\n      }\r\n    }\r\n    if(feedback_array){\r\n        question_td += \"<button class='btn btn-outline-info feedback_btn \"+row[\"item_name\"]+\"_item row_\"+row_no+\"' id='reveal_\"+row[\"item_name\"].toLowerCase()+\"_feedback' onclick='reveal_answers(this)'>Show</button>\";\r\n    }\r\n  }\r\n  if(typeof(row[\"type\"])== \"undefined\"){\r\n      return '';\r\n  } else {\r\n    if(row[\"type\"].toLowerCase() == \"instruct\"){\r\n      row_html  = write(\"instruct\",row);\r\n    } else if(row[\"type\"].toLowerCase() == \"jumbled\"){\r\n      //row_html  = question_td + write(\"jumbled\",row); <-- this is better, but being paused for placement work Anthony is doing\r\n      row_html  = write(\"jumbled\",row);\r\n\t\t} else if(row[\"type\"].toLowerCase() == \"likert\"){\r\n\r\n\t\t\tif(typeof(row[\"side_by_side\"]) !== \"undefined\" &&\r\n\t\t\t\t row[\"side_by_side\"].toLowerCase() == \"yes\"){\r\n\r\n\t\t\t\tvar row_html=\"<td class='text-primary' id='survey_\"+row[\"item_name\"].toLowerCase().replace(\" \",\"_\")+\"_question' style='width:\"+row_ques_perc+\"; text-align:right'>\"+row[\"text\"]+\"</td><td>\"+question_td+\"</label></td>\";\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar row_html = \"<tr>\" +\r\n\t\t\t\t\t\t\"<td colspan='2'>\" +\r\n\t\t\t\t\t\t\trow[\"text\"] +\r\n\t\t\t\t\t\t\"</td>\" +\r\n\t\t\t\t\t\"</tr>\" +\r\n\t\t\t\t\t\"<tr>\" +\r\n\t\t\t\t\t\t\"<td colspan='2' align='center'>\" +\r\n\t\t\t\t\t\t\tquestion_td +\r\n\t\t\t\t\t\t\"</td>\" +\r\n\t\t\t\t\t\"</tr>\";\r\n\t\t\t}\r\n\r\n\r\n    } else if(row[\"type\"].toLowerCase()==\"google_slide\") {\r\n      var row_html=\"<td colspan='2'>\"+row[\"text\"]+\"</label></td>\";\r\n    } else if(typeof(row[\"no_text\"]) !== \"undefined\" && row[\"no_text\"] == \"on\"){\r\n      var row_html=\"<td colspan='2'>\"+question_td+\"</td>\";\r\n    } else {\r\n      if(row['text'].toLowerCase() == \"page_start\" | row['type'].toLowerCase() == \"page_start\"){\r\n        row_html = question_td;\r\n      } else {\r\n        var row_html=\"<td class='text-primary' id='survey_\"+row[\"item_name\"].toLowerCase().replace(\" \",\"_\")+\"_question' style='width:\"+row_ques_perc+\"; text-align:right'>\"+row[\"text\"]+\"</td><td>\"+question_td+\"</label></td>\";\r\n      }\r\n    }\r\n    if(typeof(row[\"optional\"]) !== \"undefined\"){\r\n      if(row[\"optional\"].toLowerCase() == \"no\"){\r\n        proceed_object.name.push(row[\"item_name\"]);\r\n        proceed_object.type.push(row[\"type\"]);\r\n        proceed_object.break_no.push(page_break_management.breaks_remaining);\r\n      }\r\n    }\r\n    if(typeof(row[\"shuffle_question\"]) == \"undefined\" || row[\"shuffle_question\"].toLowerCase() == \"off\"){\r\n      this_shuffle='none';\r\n    } else {\r\n      this_shuffle=row[\"shuffle_question\"];\r\n    }\r\n    return [row_html,this_shuffle];\r\n  }\r\n}\r\n\r\nfunction process_score(row_no, values_col, this_response, item, values_reverse ){\r\n  item_values = survey_obj.data[row_no][values_col].split(\"|\");\r\n  if(typeof(values_reverse) !== \"undefined\" && values_reverse == \"r\"){\r\n    item_values.reverse();\r\n  }\r\n  item_answers      = survey_obj.data[row_no][\"values\"].split(\"|\");\r\n  var this_value    = item_values[item_answers.indexOf(this_response)];\r\n  $(\"#survey_\" + item + \"_score\").val(this_value);\r\n  if(typeof(this_value) !== \"undefined\"){\r\n    return parseFloat(this_value);\r\n  }\r\n}\r\n\r\nfunction process_returned_questionnaire(data){\r\n  /*\r\n  * trim the data if it has a blank final row\r\n  */\r\n  if(data[data.length - 1].length < data[0].length){\r\n    data.pop();\r\n  }\r\n\r\n  survey_obj.data = data;\r\n  survey_obj.data = Papa.unparse(survey_obj.data);\r\n  survey_obj.data = parent.parent.Collector.PapaParsed(survey_obj.data);\r\n\r\n  survey_obj.scales = {};\r\n  var col_headers = Object.keys(survey_obj.data[0]);\r\n  col_headers.forEach(function(header){\r\n    if(header.indexOf(\"score:\")==0){\r\n      var original_header = header;\r\n      header = header.replace(\"score: \",\"\");\r\n      header = header.replace(\"score:\",\"\");\r\n      survey_obj.scales[header] = {};\r\n      survey_obj.scales[header].questions = {};\r\n\r\n      for(var i = 1; i < survey_obj.data.length; i++){\r\n        row = survey_obj.data[i];\r\n        if(row[original_header] !== \"\" && typeof(row[original_header]) !== \"undefined\"){\r\n          survey_obj.scales[header].questions[i] = row[original_header];\r\n        }\r\n      }\r\n    }\r\n  });\r\n  write_survey(survey_obj.data,\"this_survey_id\");\r\n  $(\"#please_wait_div\").hide();\r\n  $(\"#proceed_button\").show();\r\n  $('html, body').animate({\r\n    scrollTop: $(\"#survey_outline\").offset().top\r\n  }, 1000);\r\n}\r\n\r\nfunction row_perc(this_rat){\r\n\tif(typeof(this_rat) == \"undefined\"){\r\n    row_resp_perc = \"50%\";\r\n    row_ques_perc = \"50%\";\r\n  } else {\r\n    row_resp_perc = parseFloat(100-this_rat.replace(\"%\",\"\"))+\"%\";\r\n    row_ques_perc = parseFloat(this_rat.replace(\"%\",\"\"))+\"%\";\r\n  }\r\n  return [row_ques_perc,row_resp_perc];\r\n}\r\n\r\nfunction response_check(submitted_element){\r\n  switch(submitted_element.type){\r\n    case \"checkbox\":\r\n\r\n\r\n\r\n\r\n      var checked_responses = $(\"[name='\"+submitted_element.name+\"']:checked\");\r\n      if(checked_responses.length){ //i.e. more than 0\r\n        var values = [];\r\n        for(var i = 0; i < checked_responses.length; i++){\r\n          values.push(checked_responses[i].value);\r\n        }\r\n        $(\"#\"+submitted_element.name+\"_response\").val(JSON.stringify(values));\r\n      } else {\r\n        $(\"#\"+submitted_element.name+\"_response\").val(\"\");\r\n      }\r\n\r\n      break;\r\n\r\n      case \"button\":\r\n        $(\"#\" + submitted_element.name + \"_response\").val(\r\n          submitted_element.value\r\n        );\r\n      break;\r\n\r\n      case \"number\":\r\n      case \"radio\":\r\n      case \"select-one\":\r\n      case \"text\":\r\n      case \"textarea\":\r\n        $(\"#\" + submitted_element.name + \"_response\").val(\r\n          submitted_element.value\r\n        );\r\n      break;\r\n    }\r\n    update_score();\r\n}\r\n\r\nfunction retrieve_row_no_item_name(this_element){\r\n  var these_classes = this_element.className.split(\" \");\r\n  var row_no;\r\n  var item_name;\r\n  these_classes.forEach(function(this_class){\r\n    if (this_class.indexOf('row_') > -1) {\r\n      row_no = this_class.replace(\"row_\",\"\");\r\n    }\r\n    if (this_class.indexOf('_item') > -1) {\r\n      item_name = this_class.replace(\"_item\",\"\").toLowerCase();\r\n    }\r\n  });\r\n  return [row_no,item_name];\r\n}\r\n\r\nfunction reveal_answers(this_element){\r\n  var this_response = $(\"#\"+this_element.id.replace(\"reveal_\",\"survey_\").replace(\"_feedback\",\"_response\")).val();\r\n  response_present = this_response == \"\" ? false : true;\r\n\r\n  if(settings.feedback_before_response == false && response_present == false){\r\n    bootbox.alert(\"Please respond before trying reveal the feedback.\")\r\n  } else {\r\n    if($(\"#\"+this_element.id).hasClass(\"btn-outline-info\")){\r\n      $(\".\"+this_element.id.replace(\"reveal_\",\"\")).show(500);\r\n      if(settings.lock_after_feedback){\r\n        var item_class = this_element.id.replace(\"_feedback\",\"_item\").replace(\"reveal_\",\"\");\r\n        $(\".\"+item_class).prop(\"disabled\",true);\r\n        document.getElementsByClassName(item_class).title = \"The person creating this content has set it so that your answers are locked in once you have chosen to see the feedback\";\r\n        $(\"#\"+this_element.id).addClass(\"btn-info\");\r\n        $(\"#\"+this_element.id).removeClass(\"btn-outline-info\");\r\n        $(\"#\"+this_element.id).html(\"Locked\");\r\n        document.getElementById(this_element.id).title = 'The person creating this content has set it so that your answers are locked in once you have chosen to see the feedback';\r\n        $(\"#\"+this_element.id).addClass(\"disabled\");\r\n      } else {\r\n        $(\"#\"+this_element.id).html(\"Hide\");\r\n        $(\"#\"+this_element.id).removeClass(\"btn-outline-info\");\r\n        $(\"#\"+this_element.id).addClass(\"btn-info\");\r\n      }\r\n    } else {\r\n      $(\"#\"+this_element.id).html(\"Show\");\r\n      $(\".\"+this_element.id.replace(\"reveal_\",\"\")).hide(500);\r\n      $(\"#\"+this_element.id).addClass(\"btn-outline-info\");\r\n      $(\"#\"+this_element.id).removeClass(\"btn-info\");\r\n    }\r\n  }\r\n}\r\n\r\nfunction row_check(type, row){\r\n  if(type = \"page_break\"){\r\n    return (\r\n      typeof(row[\"text\"]) !== \"undefined\" &&\r\n\t\t  typeof(row[\"type\"]) !== \"undefined\" &&\r\n\t\t  row['text'].toLowerCase() == \"page_break\" |\r\n      row['type'].toLowerCase() == \"page_break\"\r\n    )\r\n\r\n  } else if(type=\"\"){\r\n\r\n  }\r\n}\r\n\r\n// http://stackoverflow.com/questions/962802#962890\r\nfunction shuffle(array) {\r\n  var tmp, current, top = array.length;\r\n  if(top) while(--top) {\r\n    current = Math.floor(Math.random() * (top + 1));\r\n    tmp = array[current];\r\n    array[current] = array[top];\r\n    array[top] = tmp;\r\n  }\r\n  return array;\r\n}\r\n\r\nfunction shuffle_answers(row){\r\n  if(\r\n    typeof(row[\"shuffle_answers\"]) !== \"undefined\" &&\r\n    row[\"shuffle_answers\"].toLowerCase() == \"yes\"\r\n  ){\r\n    var answers = row[\"answers\"].split(\"|\");\r\n    order = shuffle([...Array(answers.length).keys()]);\r\n\r\n    var ordered_answers = order.map(function(position){\r\n      return answers[position];\r\n    });\r\n    row[\"answers\"] = ordered_answers.join(\"|\");\r\n\r\n    if(row[\"values\"].indexOf(\"|\") !== -1){\r\n      var values = row[\"values\"].split(\"|\");\r\n      var ordered_values = order.map(function(position){\r\n        return values[position];\r\n      });\r\n      row[\"values\"] = ordered_values.join(\"|\");\r\n    }\r\n  }\r\n  return row;\r\n}\r\n\r\nfunction update_score(){\r\n  var scales = Object.keys(survey_obj.scales);\r\n  scales.forEach(function(scale){\r\n    this_scale = survey_obj.scales[scale];\r\n    var questions = Object.keys(this_scale.questions);\r\n    var this_score = 0;\r\n    complete_score = true;\r\n\r\n    questions.forEach(function(row_no){\r\n      var item = survey_obj.data[row_no].item_name.toLowerCase();\r\n      var this_response = $(\"#survey_\" + item + \"_response\").val();\r\n      var normal_reverse = this_scale.questions[row_no];\r\n\r\n\r\n      if(normal_reverse.indexOf(\"-\") == -1){\r\n        var multiplier = parseFloat(normal_reverse.replace(\"r\",\"\"));\r\n        if(normal_reverse.indexOf(\"r\") == 0){ //reverse the values\r\n\r\n          this_value = process_score(\r\n            row_no,\r\n            \"values\",\r\n            this_response,\r\n            item,\r\n            \"r\"\r\n          );\r\n        } else {\r\n          this_value = process_score(\r\n            row_no,\r\n            \"values\",\r\n            this_response,\r\n            item\r\n          );\r\n        }\r\n      } else {\r\n        values_reverse = normal_reverse.split(\"-\");\r\n        values_col     = values_reverse[0].toLowerCase();\r\n        normal_reverse = values_reverse[1];\r\n        var multiplier = parseFloat(normal_reverse.replace(\"r\",\"\"));\r\n\r\n        if(normal_reverse.indexOf(\"r\") == 0){ //reverse the values\r\n          this_value = process_score(row_no,values_col,this_response,item,\"r\");\r\n        } else {\r\n          this_value = process_score(row_no,values_col,this_response,item);\r\n        }\r\n      }\r\n      if(typeof(this_value) !== \"undefined\"){\r\n        this_score += multiplier * this_value;\r\n      } else {\r\n        complete_score = false;\r\n      }\r\n    });\r\n    if(complete_score){\r\n      $(\".score_\"+scale).addClass(\"bg-success\");\r\n      $(\".score_\"+scale).removeClass(\"bg-danger\");\r\n      $(\".score_\"+scale).addClass(\"text-light\");\r\n      document.getElementsByClassName(\"score_\"+scale).title = 'All relevant questions have been answered';\r\n    } else {\r\n      $(\".score_\"+scale).removeClass(\"text-success\");\r\n      $(\".score_\"+scale).addClass(\"bg-danger\");\r\n      $(\".score_\"+scale).addClass(\"text-light\");\r\n      document.getElementsByClassName(\"score_\"+scale).title = 'At least one relevant questions has NOT been answered';\r\n    }\r\n    $(\".score_\"+scale).val(this_score);\r\n  });\r\n}\r\n\r\nfunction write(type, row){\r\n  var this_html = \"\";\r\n  [feedback_array, feedback_color] = get_feedback(row);\r\n  row = shuffle_answers(row);\r\n  row[\"item_name\"] = row[\"item_name\"].toLowerCase();\r\n\r\n\r\n  if(type == \"checkbox_horizontal\"){\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var this_table = $(\"<table>\");\r\n        this_row = this_table[0].insertRow()\r\n    for(var i=0; i<options.length;i++){\r\n      var this_cell = this_row.insertCell();\r\n      var this_div = $(\"<div>\");\r\n          this_div.addClass(\"custom-control\");\r\n          this_div.addClass(\"custom-checkbox\");\r\n      var this_input = $(\"<input>\");\r\n          this_input[0].type = \"checkbox\";\r\n          this_input[0].id = row[\"item_name\"] + i;\r\n          this_input[0].name = 'survey_' + row[\"item_name\"];\r\n          this_input.addClass(\"custom-control-input\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(row[\"custom-control\"])\r\n            .addClass(row[\"custom-checkbox\"])\r\n            .addClass(row[\"item_name\"] +'_item')\r\n            .addClass('row_' + row[\"row_no\"]);\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"] + i;\r\n          this_label[0].innerText = options[i];\r\n          this_label.addClass(\"custom-control-label\");\r\n      this_div.append(this_input)\r\n              .append(this_label);\r\n      this_cell.innerHTML = this_div[0].outerHTML;\r\n    }\r\n\r\n    this_html += this_table[0].outerHTML;\r\n\r\n  } else if(type == \"checkbox_single\"){\r\n\r\n    var this_div = $(\"<div>\");\r\n        this_div.attr(\"data-toggle\", \"buttons\");\r\n        this_div.addClass(\"btn-group-toggle\");\r\n    var this_label = $(\"<label>\");\r\n        this_label.addClass(\"btn\");\r\n        this_label.addClass(\"btn-outline-primary\");\r\n        this_label.html(row[\"answers\"]);\r\n    var this_checkbox = $(\"<input>\");\r\n        this_checkbox[0].id = row[\"item_name\"];\r\n        this_checkbox[0].name = \"survey_\" +\r\n          row[\"item_name\"].toLowerCase();\r\n        this_checkbox[0].type = \"checkbox\";\r\n        this_checkbox.attr(\"checked\",true);\r\n        this_checkbox\r\n          .addClass(\"response\")\r\n          .addClass(\r\n            row[\"item_name\"] +\r\n            '_item row_' +\r\n            row[\"row_no\"]\r\n          );\r\n    this_div.append(this_label);\r\n    this_label.append(this_checkbox)\r\n    this_html += this_div[0].outerHTML;\r\n\r\n  } else if(type == \"checkbox_vertical\"){\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var values  = row[\"values\"].split(\"|\");\r\n    for(var i = 0; i < options.length; i++){\r\n      feedback_string = generate_feedback_string(\r\n        feedback_array, i, feedback_color, row\r\n      );\r\n      var this_div = $(\"<div>\");\r\n          this_div\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-checkbox\");\r\n      var this_checkbox = $(\"<input>\");\r\n          this_checkbox[0].id= row[\"item_name\"]+ i;\r\n          this_checkbox[0].value = options[i];\r\n          this_checkbox[0].type = \"checkbox\";\r\n          this_checkbox[0].name = 'survey_'+\r\n            row[\"item_name\"].toLowerCase();\r\n          this_checkbox\r\n            .addClass(\"custom-control-input\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-checkbox\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"item_name\"] + \"_item_row\");\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"] + i;\r\n          this_label[0].innerHTML = options[i];\r\n          this_label.addClass(\"custom-control-label\");\r\n      this_div.append(this_checkbox)\r\n              .append(this_label);\r\n\r\n      this_html += this_div[0].outerHTML;\r\n    }\r\n    if(typeof(row[\"other\"]) !== \"undefined\" && row[\"other\"].toLowerCase() == \"yes\"){\r\n      var this_div = $(\"<div>\");\r\n          this_div\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-checkbox\");\r\n      var this_checkbox = $(\"<input>\");\r\n          this_checkbox[0].id= row[\"item_name\"]+ \"_other\";\r\n          this_checkbox[0].value = \"Other\";\r\n          this_checkbox[0].type = \"checkbox\";\r\n          this_checkbox[0].name = 'survey_'+\r\n            row[\"item_name\"].toLowerCase();\r\n          this_checkbox\r\n            .addClass(\"custom-control-input\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-checkbox\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"item_name\"] + \"_item_row\");\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"] + \"_other\";\r\n          this_label[0].innerHTML = \"Other\";\r\n          this_label.addClass(\"custom-control-label\");\r\n      this_div.append(this_checkbox)\r\n              .append(this_label);\r\n\r\n      this_html += this_div[0].outerHTML;\r\n\r\n      var text_input = $(\"<input>\");\r\n          text_input.addClass(\"form-control\");\r\n          text_input.attr(\"placeholder\", \"(Please specify if you selected 'Other')\");\r\n          text_input[0].name = 'survey_'+\r\n            row[\"item_name\"].toLowerCase() +\r\n            \"_other\";\r\n      this_html += text_input[0].outerHTML;\r\n    }\r\n\r\n  } else if(type == \"date\"){\r\n    var input = $(\"<input>\");\r\n        input.addClass(\"response\")\r\n             .addClass(\"custom-control\")\r\n             .addClass(\"datepicker\")\r\n             .addClass(\"date\")\r\n             .addClass(row[\"item_name\"] + \"_item\")\r\n             .addClass(\"row_\" + row[\"row_no\"])\r\n             .attr(\"name\", \"survey_\" + row['item_name'])\r\n             .attr(\"type\", \"text\");\r\n\r\n  } else if(type == \"dropdown\"){\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var this_dropdown = $(\"<select>\");\r\n        this_dropdown\r\n          .addClass(\"form-select\")\r\n          .addClass(\"response\")\r\n          .addClass(\"txt-primary\")\r\n          .addClass(row[\"item_name\"] + \"_item\")\r\n          .addClass(\"row_\" + row[\"row_no\"])\r\n          .addClass(\"collector_button\")\r\n          .attr(\"name\", \"survey_\" + row[\"item_name\"])\r\n          .css(\"margin\", \"0px\")\r\n          .css(\"width\", \"auto\");\r\n\r\n    /* this will be necessary to tidy up jumbled sentences\r\n    if(typeof(row[\"item_name_old\"]) !== \"undefined\"){\r\n      this_dropdown.addClass(row[\"item_name_old\"] + \"_item\");\r\n    }\r\n    */\r\n\r\n    this_dropdown.append(\"<option selected disabled hidden>-- no option selected --</option>\");\r\n    options.forEach(function(this_option){\r\n      this_dropdown.append(\r\n        \"<option>\" + this_option + \"</option>\"\r\n      );\r\n    });\r\n    var this_html = this_dropdown[0].outerHTML;\r\n\r\n  } else if(type == \"email\"){\r\n    var this_input = $(\"<input>\");\r\n        this_input\r\n          .addClass(\"form-control\")\r\n          .addClass(\"response\")\r\n          .addClass(row[\"item_name\"] + \"_item row_\" + row[\"row_no\"])\r\n          .attr(\"type\", \"email\")\r\n          .attr(\"name\", 'survey_' + row['item_name']);\r\n\r\n  } else if(type == \"instruct\"){\r\n    this_html += \"<td colspan='2'>\" + row[\"text\"] + \"</td>\";\r\n  } else if(type == \"jumbled\"){\r\n    var this_td = $(\"<td>\");\r\n        this_td.attr(\"colspan\",2) ;\r\n\r\n    var this_div = $(\"<div>\");\r\n        this_div.addClass(\"form-inline\")\r\n                .addClass(\"bg-secondary\")\r\n                .addClass(\"text-white\")\r\n                .css(\"width\", \"100%\")\r\n                .css(\"padding\", \"20px\")\r\n                .css(\"margin\", \"20px\")\r\n                .css(\"border-radius\", \"5px\");\r\n\r\n    var question = row[\"text\"].split(\"|\");\r\n    questions_html = question.map(function(text,index){\r\n      if(index == question.length - 1){\r\n        return text;\r\n      } else {\r\n        var row_x = row;\r\n        row_x[\"item_name_old\"] = row_x[\"item_name\"];\r\n        row_x[\"item_name\"]     = row_x[\"item_name\"] + \"_\" + index;\r\n        var row_html = text + write(\"dropdown\", row_x)\r\n          .replace(\"margin: 0px\",\"margin: 5px\");\r\n        row_x[\"item_name\"] = row_x[\"item_name_old\"];\r\n        return row_html;\r\n      }\r\n    }).join(\"\");\r\n\r\n    this_td.append(this_div);\r\n    this_div.append(questions_html);\r\n\r\n    this_html = this_td[0].outerHTML;\r\n\r\n  } else if(type == \"likert\"){\r\n    // set styles\r\n    if(typeof(row[\"btn_width\"]) == \"undefined\"){\r\n      row[\"btn_width\"] = \"auto\"\r\n    }\r\n    if(typeof(row[\"side_width\"]) == \"undefined\"){\r\n      var side_width = \"auto\";\r\n    }\r\n\r\n    // create and build these elements\r\n    var this_div = $(\"<div>\");\r\n    if(typeof(row[\"side_text\"]) !== \"undefined\" &&\r\n      row[\"side_text\"] !== \"\"\r\n    ){\r\n      side_text = row[\"side_text\"].split(\"|\");\r\n      side_text = side_text.map(function(this_side){\r\n        var this_span = $(\"<span>\");\r\n            this_span.css(\"width\", side_width)\r\n                     .css(\"padding\", \"20px\")\r\n                     .addClass(\"text-primary\")\r\n                     .html(\"<b>\" + this_side + \"</b>\");\r\n        return this_span[0].outerHTML;\r\n      });\r\n    } else {\r\n      side_text = [\"\",\"\"];\r\n    }\r\n\r\n    this_div\r\n      .addClass(\"btn-group\")\r\n      .addClass(\"btn-group-toggle\")\r\n      .append(side_text[0])\r\n      .attr(\"data-togle\",\"buttons\");\r\n\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var values  = row[\"values\"].split(\"|\");\r\n    for(var i=0; i<options.length;i++){\r\n      var this_button = $(\"<button>\");\r\n          this_button\r\n            .attr(\"autocomplete\", \"off\")\r\n            .attr(\"id\", 'likert_' + row[\"row_no\"] + '_' + i)\r\n            .attr(\"onclick\",'likert_update(this)')\r\n            .attr(\"value\", values[i])\r\n            .addClass(\"btn\")\r\n            .addClass(\"btn-outline-primary\")\r\n            .addClass(\"survey_btn\")\r\n            .addClass(\r\n              row[\"item_name\"] + '_item row_' + row[\"row_no\"]\r\n            )\r\n            .css(\"width\", row[\"btn_width\"])\r\n            .html(clean_item(options[i]));\r\n      this_div.append(this_button);\r\n    }\r\n    this_div.append(side_text[1]);\r\n    this_html += this_div[0].outerHTML;\r\n\r\n  } else if(type == \"number\"){\r\n    var this_input = $(\"<input>\");\r\n        this_input[0].type = \"number\";\r\n        this_input[0].name = 'survey_' + row['item_name'];\r\n        this_input\r\n          .addClass(\"response\")\r\n          .addClass(\"form-control\")\r\n          .addClass(row[\"item_name\"] + \"_item row_\" + row[\"row_no\"]);\r\n    this_html += this_input[0].outerHTML;\r\n\r\n  } else if(type == \"para\"){\r\n    var this_textarea = $(\"<textarea>\");\r\n        this_textarea[0].name = \"survey_\" + row['item_name'];\r\n        this_textarea\r\n          .addClass(row[\"item_name\"] + \"_item row_\" + row[\"row_no\"])\r\n          .addClass(\"response\");\r\n        this_textarea.css(\"width\", \"100%\")\r\n                     .css(\"height\", \"200px\");\r\n    this_html += this_textarea[0].outerHTML;\r\n\r\n  } else if(type == \"radio_horizontal\"){\r\n\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var this_table = $(\"<table>\");\r\n        this_row = this_table[0].insertRow()\r\n    for(var i=0; i<options.length;i++){\r\n      var this_cell = this_row.insertCell();\r\n      var this_div = $(\"<div>\");\r\n          this_div.addClass(\"custom-control\");\r\n          this_div.addClass(\"custom-radio\");\r\n      var this_input = $(\"<input>\");\r\n          this_input[0].type = \"radio\";\r\n          this_input[0].id = row[\"item_name\"] + i;\r\n          this_input[0].name = 'survey_' + row[\"item_name\"];\r\n          this_input.addClass(\"custom-control-input\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(row[\"custom-control\"])\r\n            .addClass(row[\"custom-radio\"])\r\n            .addClass(row[\"item_name\"] +'_item')\r\n            .addClass('row_' + row[\"row_no\"]);\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"] + i;\r\n          this_label[0].innerText = options[i];\r\n          this_label.addClass(\"custom-control-label\");\r\n      this_div.append(this_input)\r\n              .append(this_label);\r\n      this_cell.innerHTML = this_div[0].outerHTML;\r\n    }\r\n    this_html += this_table[0].outerHTML;\r\n\r\n  } else if(type == \"radio_vertical\"){\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var values  = row[\"values\"].split(\"|\");\r\n    for(var i=0; i<options.length; i++){\r\n      feedback_string = generate_feedback_string(\r\n        feedback_array, i, feedback_color,row\r\n      );\r\n      var this_div = $(\"<div>\");\r\n          this_div\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-radio\");\r\n      var this_input = $(\"<input>\");\r\n          this_input[0].type  = \"radio\";\r\n          this_input[0].id    = row[\"item_name\"] + i;\r\n          this_input[0].value = options[i];\r\n          this_input[0].name  = 'survey_' + row[\"item_name\"];\r\n          this_input\r\n            .addClass(\"custom-control-input\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-radio\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"item_name\"] + \"_item_row_\" + row[\"row_no\"]);\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"]+i;\r\n          this_label.addClass(\"custom-control-label\");\r\n          this_label.html(options[i]);\r\n      this_div\r\n        .append(this_input)\r\n        .append(this_label)\r\n        .append(feedback_string);\r\n      this_html += this_div[0].outerHTML;\r\n    }\r\n\r\n  } else if(type == \"text\"){\r\n    var this_input = $(\"<input>\");\r\n        this_input[0].type=\"text\";\r\n        this_input[0].name=\"survey_\" + row['item_name'];\r\n        this_input\r\n          .addClass(\"form-control\")\r\n          .addClass(row[\"item_name\"] + \"_item row_\" + row[\"row_no\"])\r\n          .addClass(\"response\")\r\n    this_html += this_input[0].outerHTML;\r\n  }\r\n\r\n  switch(type){\r\n    case \"checkbox_vertical\":\r\n    case \"radio_vertical\":\r\n      // do nothing\r\n      break;\r\n    default:\r\n      this_html += generate_feedback_string(\r\n        feedback_array,\r\n        0,\r\n        feedback_color,\r\n        row\r\n      );\r\n      break;\r\n  }\r\n\r\n  return (this_html);\r\n}\r\n\r\nfunction write_survey(this_survey, this_id){\r\n  scoring_object.update_scales(this_survey);\r\n  survey_html = \"<table class='table_break' id='table0'>\";\r\n  this_survey_object={\r\n    content:[],\r\n    shuffle_question:[],\r\n    content_new_order:[],\r\n    shuffled_content:[],\r\n    shuffled_arrays:{},\r\n  }\r\n\r\n  survey_html += \"<tr>\";\r\n  for(i = 0; i < this_survey.length; i++){\r\n    row = this_survey[i];\r\n    row_html = process_question(row,i);\r\n\t\tthis_survey_object.content.push(row_html[0]);\r\n    this_survey_object.shuffle_question.push(row_html[1]);\r\n\t}\r\n\r\n\tunique_shuffles = this_survey_object.shuffle_question.filter((v,i,a)=>a.indexOf(v)==i); //by Camilo Martin on https://stackoverflow.com/questions/1960473/unique-values-in-an-array\r\n\r\n\tfor(var i=0;i<unique_shuffles.length;i++){\r\n    if(typeof(unique_shuffles[i]) !== \"undefined\" &&\r\n      unique_shuffles[i] !== \"none\" &&\r\n      unique_shuffles[i] !== \"\"){\r\n        shuffled_content = this_survey_object.shuffle_question.map(function(element,index){\r\n    \t   if(typeof(element)!== \"undefined\" && element.toLowerCase() !== \"none\" && element.toLowerCase() == unique_shuffles[i]){\r\n  \t       return this_survey_object.content[index];\r\n    \t   }\r\n    \t}).filter(elm => typeof(elm) !== \"undefined\");\r\n    \tnew_order = shuffle(shuffled_content);\r\n    \tthis_survey_object.shuffled_arrays[unique_shuffles[i]]=new_order; // add new array with dynamic name\r\n    }\r\n\t}\r\n\r\n\tfor(var i=0;i<this_survey_object.content.length;i++){\r\n    var this_index = Object.keys(this_survey_object.shuffled_arrays).indexOf(this_survey_object.shuffle_question[i]);\r\n    if(this_index !== -1){\r\n      //take first item off relevant list and delete item\r\n      var this_item = this_survey_object.shuffled_arrays[Object.keys(this_survey_object.shuffled_arrays)[this_index]].shift();\r\n      this_survey_object.content_new_order[i]=this_item;\r\n    } else {\r\n      this_survey_object.content_new_order[i]=this_survey_object.content[i];\r\n    }\r\n\t}\r\n\r\n\tqs_in_order = this_survey_object.content_new_order.join(\"</tr><tr>\");\r\n\tqs_in_order += \"</tr>\";\r\n\r\n\tsurvey_html += qs_in_order;\r\n\tsurvey_html += \"</table>\";\r\n\r\n\t$(\"#\" + this_id).html(survey_html);\r\n\r\n  $(\".response\").on(\"change\", function(){\r\n    response_check(this);\r\n  })\r\n\r\n  $(\"#\" + this_id).show(1000); //scroll to top\r\n\r\n\t$(\".show_tab\").on(\"click\",function(){\r\n    if(this.className.indexOf(\"disabled\") == -1){\r\n      $(\".show_tab\").removeClass(\"active\");\r\n      $(\".survey_page\").hide();\r\n      $(\"#\"+this.id.replace(\"_button\",\"\")).show();\r\n    } else {\r\n      bootbox.alert(\"You have not yet unlocked this tab - maybe try clicking on <b>Proceed</b>?\");\r\n    }\r\n\t});\r\n}\r\n\r\n/*\r\n* Load survey\r\n*/\r\ncurrent_survey = \"{{survey}}\";\r\nif(typeof(Phase) !== \"undefined\"){\r\n  Phase.set_timer(function(){\r\n    load_survey(current_survey);\r\n  },100);\r\n} else {\r\n  load_survey(current_survey);\r\n}\r\n</script>\r\n",
      "instruct_keyboard": "<!--\r\n/*  Collector (Garcia, Kornell, Kerr, Blake & Haffey)\r\n    A program for running experiments on the web\r\n    Copyright 2012-2016 Mikey Garcia & Nate Kornell\r\n\r\n\r\n    This program is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU General Public License version 3 as published by\r\n    the Free Software Foundation.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU General Public License for more details.\r\n\r\n    You should have received a copy of the GNU General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>\r\n \t\t\r\n\t\tKitten/Cat release (2019-21) author: Dr. Anthony Haffey (team@someopen.solutions)\r\n*/\r\n-->\r\n<style>\r\n#instruct_text{\r\n  margin:auto;\r\n  width:500px;\r\n  padding:50px;\r\n  max-height:600px;\r\n  text-align: center;  \r\n}\r\n#trial_contents{\r\n  position: absolute;\r\n  top:0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin:auto;\r\n  width:600;\r\n  height:600;\r\n}\r\n* {\r\ncursor: none;\r\n}\r\n</style>\r\n<div id=\"trial_contents\">\r\n  <div id=\"instruct_text\">{{text}}</div>\r\n</div>\r\n\r\n<script>\r\n$(window).bind('keydown', function(event) {\r\n  Phase.submit();\r\n});\r\n</script>",
      "instruct": "<!--\n/*  Collector (Garcia, Kornell, Kerr, Blake & Haffey)\n    A program for running experiments on the web\n    Copyright 2012-2016 Mikey Garcia & Nate Kornell\n\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License version 3 as published by\n    the Free Software Foundation.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>\n \t\t\n\t\tKitten/Cat release (2019-2021) author: Dr. Anthony Haffey (team@someopen.solutions)\t\t\n*/\n-->\n<style>\n#instruct_text{\n  margin:auto;\n  width:500px;\n  padding:50px;\n  max-height:600px;\n  text-align: center;  \n}\n#proceed_button{\n  position:absolute;\n  right: 20px;\n}\n#trial_contents{\n  position: absolute;\n  top:0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin:auto;\n  width:600;\n  height:600;\n}\n</style>\n<div id=\"trial_contents\">\n  <div id=\"instruct_text\">{{text}}</div>\n  <div>\n    <button class=\"btn btn-primary\" id=\"proceed_button\" onclick=\"Phase.submit()\">Proceed</button>\n  </div>\n</div>"
    },
    "file": "webgazer_3",
    "graphic": {
      "files": {},
      "relevant_styles": [
        "background-color",
        "border-color",
        "border-radius",
        "border-style",
        "border-width",
        "color",
        "font-size",
        "height",
        "left",
        "top",
        "width",
        "z-index"
      ]
    }
  },
  "project_mgmt": {
    "projects": {
      "gaze": {
        "all_procs": {
          "procedure_1.csv": "item,code,max time,text,shuffle 1,\r\n2,instruct,user,start test,off,\r\n2 to 4,instruct,user,{{cue}},trials,\r\n2,instruct,user,end,off,"
        },
        "conditions": "name,notes,stimuli,procedure,fullscreen,welcome,participant_id,end_message,start_message,buffer,scripts,\r\ncondition_1,You can put more detailed notes in this field,stimuli_1.csv,procedure_1.csv,off,,on,,,5,,",
        "all_stims": {
          "stimuli_1.csv": "cue,answer,\r\n2,Apple,\r\n3,Banana,\r\n4,,\r\n,,"
        },
        "location": "zhao-haffey/eye-tracking-face-voice/gaze",
        "public_key": "3ChTnQQ5ZIx0GmOxRB3829cK3J+1ghXbwz+nqWUPlyo=",
        "surveys": {},
        "trialtypes": {},
        "code": {
          "instruct": "<!--\r\n/*  Collector (Garcia, Kornell, Kerr, Blake & Haffey)\r\n    A program for running experiments on the web\r\n    Copyright 2012-2016 Mikey Garcia & Nate Kornell\r\n\r\n\r\n    This program is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU General Public License version 3 as published by\r\n    the Free Software Foundation.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU General Public License for more details.\r\n\r\n    You should have received a copy of the GNU General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>\r\n \t\t\r\n\t\tKitten/Cat release (2019-2021) author: Dr. Anthony Haffey (team@someopen.solutions)\t\t\r\n*/\r\n-->\r\n<style>\r\n#instruct_text{\r\n  margin:auto;\r\n  width:500px;\r\n  padding:50px;\r\n  max-height:600px;\r\n  text-align: center;  \r\n}\r\n#proceed_button{\r\n  position:absolute;\r\n  right: 20px;\r\n}\r\n#trial_contents{\r\n  position: absolute;\r\n  top:0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin:auto;\r\n  width:600;\r\n  height:600;\r\n}\r\n</style>\r\n<div id=\"trial_contents\">\r\n  <div id=\"instruct_text\">{{text}}</div>\r\n  <div>\r\n    <button class=\"btn btn-primary\" id=\"proceed_button\" onclick=\"Phase.submit()\">Proceed</button>\r\n  </div>\r\n</div>"
        },
        "procs_csv": {},
        "stims_csv": {}
      },
      "gaze_1": {
        "all_procs": {
          "procedure_1.csv": "item,survey,name,max time,text,shuffle 1,weight,freeview_image_file,code,calibration_skip,calibrations,design_type,calibration_skip*,image_height,image_width,save_script,stim_duration,trials,left_position,right_position,min_width,min_height,skip_instruct,backup_script_location,left_side,\r\n0,,DRINKERS ONLY,,\"This study asks questions about your alcoholic drinking habits. Please ONLY press \"\"proceed\"\" if you drink alcohol\",,,,instruct,,,,,,,,,,,,,,,,,\r\n0,info_jf1.csv,information_sheet,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,consent_jf1.csv,consent,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,,instruct,user,\"<span style='font-size:20px'>Thank you for participating - you are about to start an eye-tracking task. <br><br>\r\n In this task we will ask you to look at some dots to train the camera to know where your eyes are looking. <br><br>\r\n After this we will present you with pairs of images. You can look wherever you like on the screen.\r\n </span>\",off,1,,instruct,,,,,,,,,,,,,,,,,\r\n0,,webgazer,user,\"Please look at the cross.<br />A pair of images will follow. You are free <br />to look at either image.<br /><br />Do not move your head, <br />only use your eyes.\",off,1,gaze_pairs_a_sn_1.csv,webgazer_3,no,13,freeview,no,300px,400px,,5000,40,-300px,300px,1100px,400px,off,,image_1,\r\n0,,instruct,user,Please take a break before starting the second half of the eyetracking task.,off,1,,instruct,,,,,,,,,,,,,,,,,\r\n0,,webgazer,user,\"Please look at the cross.<br />A pair of images will follow. You are free <br />to look at either image.<br /><br />Do not move your head, <br />only use your eyes.\",off,1,gaze_pairs_a_sn_2.csv,webgazer_3,no,13,freeview,no,300px,400px,,5000,40,-300px,300px,1100px,400px,off,,image_1,\r\n0,modified_childhood_experiences.csv,childhood_experiences,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,barratt-impulsiveness.csv,impulsiveness,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,pathological_narcissism.csv,narcissism,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,audit.csv,alcohol,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,social_media_disorder.csv,social_networking,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,phq_9_adjusted.csv,depression,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,erq.csv,emotions,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,debrief_jf1.csv,debrief,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,sources_of_support_jf1.csv,support,user,,off,1,,survey,,,,,,,,,,,,,,,,,",
          "procedure_1_reversed.csv": "item,survey,name,max time,text,shuffle 1,weight,freeview_image_file,code,calibration_skip,calibrations,design_type,calibration_skip*,image_height,image_width,save_script,stim_duration,trials,left_position,right_position,min_width,min_height,skip_instruct,backup_script_location,left_side,\r\n0,,DRINKERS ONLY,,\"This study asks questions about your alcoholic drinking habits. Please ONLY press \"\"proceed\"\" if you drink alcohol\",,,,instruct,,,,,,,,,,,,,,,,,\r\n0,info_jf1.csv,information,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,consent_jf1.csv,consent,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,,instruct,user,\"<span style='font-size:20px'>Thank you for participating - you are about to start an eye-tracking task. <br><br>\r\n In this task we will ask you to look at some dots to train the camera to know where your eyes are looking. <br><br>\r\n After this we will present you with pairs of images. You can look wherever you like on the screen.\r\n </span>\",off,1,,instruct,,,,,,,,,,,,,,,,,\r\n0,,webgazer,user,\"Please look at the cross.<br />A pair of images will follow. You are free <br />to look at either image.<br /><br />Do not move your head, <br />only use your eyes.\",off,1,gaze_pairs_a_sn_r1.csv,webgazer_3,no,13,freeview,no,300px,400px,,5000,40,-300px,300px,1100px,400px,off,,image_1,\r\n0,,instruct,user,Please take a break before starting the second half of the eyetracking task.,off,1,,instruct,,,,,,,,,,,,,,,,,\r\n0,,webgazer,user,\"Please look at the cross.<br />A pair of images will follow. You are free <br />to look at either image.<br /><br />Do not move your head, <br />only use your eyes.\",off,1,gaze_pairs_a_sn_r2.csv,webgazer_3,no,13,freeview,no,300px,400px,,5000,40,-300px,300px,1100px,400px,off,,image_1,\r\n0,modified_childhood_experiences.csv,childhood_experiences,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,barratt-impulsiveness.csv,impulsiveness,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,pathological_narcissism.csv,narcissism,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,audit.csv,alcohol,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,social_media_disorder.csv,social_networking,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,phq_9_adjusted.csv,depression,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,erq.csv,emotions,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,debrief_jf1.csv,debrief,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,sources_of_support_jf1.csv,support,user,,off,1,,survey,,,,,,,,,,,,,,,,,"
        },
        "all_stims": {
          "stimuli_1.csv": "calibrations,design_type,calibration_skip,image_height,image_width,save_script,stim_duration,trials,left_side,trial_order,left_position,right_position,min_width,min_height,skip_instruct,backup_script_location,\r\n13,freeview,no,300px,400px,https://script.google.com/macros/s/AKfycbzwj1yzprDALwIAP0LFwFD-LeBEb3e9w28YVKj4veWavrjsu55n/exec,5000,20,counterbalance,random,-300px,300px,1100px,400px,off,https://script.google.com/macros/s/AKfycbz8s-Ty59dFHWc_Cl2JMcB8x3rCyC8bz6QErXICOTEE1uv2bl0/exec,\r\n13,freeview,no,300px,400px,https://script.google.com/macros/s/AKfycbzwj1yzprDALwIAP0LFwFD-LeBEb3e9w28YVKj4veWavrjsu55n/exec,5000,20,counterbalance,random,-300px,300px,1100px,400px,off,https://script.google.com/macros/s/AKfycbz8s-Ty59dFHWc_Cl2JMcB8x3rCyC8bz6QErXICOTEE1uv2bl0/exec,\r\n,,,,,,,,,,,,,,,,",
          "stimuli_2.csv": "calibrations,freeview_image_file,design_type,calibration_skip,image_height,image_width,save_script,stim_duration,trials,left_side,trial_order,left_position,right_position,min_width,min_height,skip_instruct,\r\n13,gaze_pairs2.csv,freeview,no,300px,400px,https://script.google.com/macros/s/AKfycbz8s-Ty59dFHWc_Cl2JMcB8x3rCyC8bz6QErXICOTEE1uv2bl0/exec,5000,20,counterbalance,random,-300px,300px,1100px,400px,off,\r\n13,gaze_pairs1.csv,freeview,no,300px,400px,https://script.google.com/macros/s/AKfycbz8s-Ty59dFHWc_Cl2JMcB8x3rCyC8bz6QErXICOTEE1uv2bl0/exec,5000,20,counterbalance,random,-300px,300px,1100px,400px,off,\r\n,,,,,,,,,,,,,,,,",
          "freeview_1_part_1.csv": "image_1,image_2,left_stim,right_stim,scrambled,\r\nhttps://dl.dropbox.com/s/yebc6bcwvrpfysb/gaap3_milk_bottle_ar.png?dl=0,https://dl.dropbox.com/s/lqpsbvqozovk46z/GAAP3_AR.png?dl=0,alcohol_match,alcohol,unscrambled,\r\nhttps://dl.dropbox.com/s/mj6rgdbk7qyrl9x/scrambled_GAAP10_waterbottles_AR.png?dl=0,https://dl.dropbox.com/s/zq9fuqvmlmeuxhu/scrambled_gaap10_ar.png?dl=0,alcohol_match,alcohol,scrambled,\r\nhttps://dl.dropbox.com/s/gtm5venlmzd3kxk/scrambled_gaap4_ar.png?dl=0,https://dl.dropbox.com/s/p7dbxcvxoijm8ce/scrambled_GAAP4_coffee_AR.png?dl=0,alcohol,alcohol_match,scrambled,\r\nhttps://dl.dropbox.com/s/h8t6wha2qliert7/scrambled_bettingagencylogo_2.jpg?dl=0,https://dl.dropbox.com/s/h5by1il8wg5vppl/scrambled_black_blue.jpg?dl=0,gambling,gambling_matched,scrambled,\r\nhttps://dl.dropbox.com/s/23q4nreq8xuwen3/tabticket.gif?dl=0,https://dl.dropbox.com/s/oyrfen0mle66n2w/notebook%202.jpeg?dl=0,gambling,gambling_matched,unscrambled,\r\nhttps://dl.dropbox.com/s/wlqzxs00dhbkrpu/gaap4_ar.png?dl=0,https://dl.dropbox.com/s/vb47onmepqaqkfj/gaap4_coffee_ar.png?dl=0,alcohol,alcohol_match,unscrambled,\r\nhttps://dl.dropbox.com/s/fo15xg9he9g03jf/GAAP21_AR.png?dl=0,https://dl.dropbox.com/s/wnotdan4hco12sn/gaap21_party_popper_ar.png?dl=0,alcohol,alcohol_match,unscrambled,\r\nhttps://dl.dropbox.com/s/um17efj9yrnv25p/scrambled_pokies%203.jpg?dl=0,https://dl.dropbox.com/s/fa3gu5bmeugnrx2/scrambled_arcade.jpg?dl=0,gambling,gambling_matched,scrambled,\r\nhttps://dl.dropbox.com/s/w4d2a9dvhai9ms8/scrambled_pokies%202.png?dl=0,https://dl.dropbox.com/s/38mqcdxt86o4tk3/scrambled_drinks.jpg?dl=0,gambling,gambling_matched,scrambled,\r\nhttps://dl.dropbox.com/s/qfp2d60iaw477ln/roulette_wheel.jpg?dl=0,https://dl.dropbox.com/s/f5an1h6wvtpea9r/ship%20steering%20wheel.jpg?dl=0,gambling,gambling_matched,unscrambled,\r\nhttps://dl.dropbox.com/s/2yeefyweb4fsj76/scrambled_GAAP51_AR.png?dl=0,https://dl.dropbox.com/s/qj4xdwzlth3zsvq/scrambled_GAAP51_paddle_AR.png?dl=0,alcohol,alcohol_match,scrambled,\r\nhttps://dl.dropbox.com/s/19sifllr069fjj7/scrambled_gaap30_ar.png?dl=0,https://dl.dropbox.com/s/a6yiqk5leuz8lmu/scrambled_GAAP30_tools_AR.png?dl=0,alcohol,alcohol_match,scrambled,\r\nhttps://dl.dropbox.com/s/sxghfay3zahjhzo/black_blue.jpg?dl=0,https://dl.dropbox.com/s/v9l4paw82a9etv4/bettingagencylogo_2.jpg?dl=0,gambling_matched,gambling,unscrambled,\r\nhttps://dl.dropbox.com/s/145321m6ewsrzlz/pokies_3.jpg?dl=0,https://dl.dropbox.com/s/e3hvqpyjp0an7zl/arcade.jpg?dl=0,gambling,gambling_matched,unscrambled,\r\nhttps://dl.dropbox.com/s/lfw7xknvgkciu9k/greyhounds.jpg?dl=0,https://dl.dropbox.com/s/mlcxm1oe95ktqv1/wolves.jpg?dl=0,gambling,gambling_matched,unscrambled,\r\nhttps://dl.dropbox.com/s/mynfumr0niqagog/GAAP30_AR.png?dl=0,https://dl.dropbox.com/s/0ab8bz1310n7r5q/gaap30_tools_ar.png?dl=0,alcohol,alcohol_match,unscrambled,\r\nhttps://dl.dropbox.com/s/tdkvtkqzy7jmgto/scrambled_GAAP16_AR.png?dl=0,https://dl.dropbox.com/s/1h9bwwr0ixlkunp/scrambled_GAAP16_keyring_AR.png?dl=0,alcohol,alcohol_match,scrambled,\r\nhttps://dl.dropbox.com/s/gqtvftmyc2e5yd5/scrambled_GAAP20_pantry_AR.png?dl=0,https://dl.dropbox.com/s/v6q99x6g9mdtsjm/scrambled_gaap20_ar.png?dl=0,alcohol_match,alcohol,scrambled,\r\nhttps://dl.dropbox.com/s/dg0yxiomd1yrn3s/weather.png?dl=0,https://dl.dropbox.com/s/snj0w6emu1k1u1u/tvliveodds.png?dl=0,gambling_matched,gambling,unscrambled,\r\nhttps://dl.dropbox.com/s/knif2lhsw7okbwz/batteries.jpg?dl=0,https://dl.dropbox.com/s/bm1bpx809m5fkec/poker_chips.jpg?dl=0,gambling_matched,gambling,unscrambled,\r\nhttps://dl.dropbox.com/s/ugbi6psfgjp0sqg/scrambled_ship%20steering%20wheel.jpg?dl=0,https://dl.dropbox.com/s/lrp97zjhl01aclc/scrambled_roulette_wheel.jpg?dl=0,gambling_matched,gambling,scrambled,\r\nhttps://dl.dropbox.com/s/a4dtrx818k0iu65/GAAP9_cactus_AR.png?dl=0,https://dl.dropbox.com/s/5jxkloa3o6yoobk/gaap9_ar.png?dl=0,alcohol_match,alcohol,unscrambled,\r\nhttps://dl.dropbox.com/s/mshgyrvx0kxts0u/scrambled_GAAP15_oil_bottles_AR.png?dl=0,https://dl.dropbox.com/s/5me51jrvdp6it3b/scrambled_gaap15_ar.png?dl=0,alcohol_match,alcohol,scrambled,\r\nhttps://dl.dropbox.com/s/z6iqquk2rr45234/scrambled_bettingagencylogo_1.jpg?dl=0,https://dl.dropbox.com/s/usod86lcibbp4eg/scrambled_ukraine%20flag.jpg?dl=0,gambling,gambling_matched,scrambled,\r\nhttps://dl.dropbox.com/s/oaulnw2se2vr0iv/gaap51_ar.png?dl=0,https://dl.dropbox.com/s/fo3rnus3ix7h9oe/GAAP51_paddle_AR.png?dl=0,alcohol,alcohol_match,unscrambled,\r\nhttps://dl.dropbox.com/s/9hnbov6s55n0zzl/scrambled_GAAP9_cactus_AR.png?dl=0,https://dl.dropbox.com/s/zkyzrwc942boabt/scrambled_GAAP9_AR.png?dl=0,alcohol_match,alcohol,scrambled,\r\nhttps://dl.dropbox.com/s/2n2etfyb04006og/scrambled_GAAP3_AR.png?dl=0,https://dl.dropbox.com/s/9kmyvdliqwh6xfu/scrambled_GAAP3_milk_bottle_AR.png?dl=0,alcohol,alcohol_match,scrambled,\r\nhttps://dl.dropbox.com/s/rsxowvrj5o95jjs/scrambled_notebooks%20and%20pencils.jpg?dl=0,https://dl.dropbox.com/s/l9cogh6cie0od37/scrambled_poker_chips_cards.jpg?dl=0,gambling_matched,gambling,scrambled,\r\nhttps://dl.dropbox.com/s/9xer3p8z4dpe5nm/gaap5_dining_table_ar.png?dl=0,https://dl.dropbox.com/s/6smk92qicn0kbq9/GAAP5_AR.png?dl=0,alcohol_match,alcohol,unscrambled,\r\nhttps://dl.dropbox.com/s/kdib0jl7muq5u1u/scrambled_notebooks.jpg?dl=0,https://dl.dropbox.com/s/hmer3paxabfe7w6/scrambled_cards.jpg?dl=0,gambling_matched,gambling,scrambled,\r\nhttps://dl.dropbox.com/s/7bnmjibwzkeeffl/scrambled_GAAP29_teamwork_AR.png?dl=0,https://dl.dropbox.com/s/avkd512542krymj/scrambled_gaap29_ar.png?dl=0,alcohol_match,alcohol,scrambled,\r\nhttps://dl.dropbox.com/s/qwzsxzjiyinlrbh/scrambled_butterfly.png?dl=0,https://dl.dropbox.com/s/5r86gzlgq052ecn/scrambled_scratchie_1.jpg?dl=0,gambling_matched,gambling,scrambled,\r\nhttps://dl.dropbox.com/s/5a1ewk26ak6r7n3/bettingagencylogo_1.jpg?dl=0,https://dl.dropbox.com/s/jv61ox8qpyka9xb/ukraine%20flag.jpg?dl=0,gambling,gambling_matched,unscrambled,\r\nhttps://dl.dropbox.com/s/iubny4c9beoukpy/drinks.jpg?dl=0,https://dl.dropbox.com/s/vdhqwisx9xjqqze/pokies_2.png?dl=0,gambling_matched,gambling,unscrambled,\r\nhttps://dl.dropbox.com/s/68916xieue4x96a/GAAP15_oil_bottles_AR.png?dl=0,https://dl.dropbox.com/s/tnnt60axkre1l0p/GAAP15_AR.png?dl=0,alcohol_match,alcohol,unscrambled,\r\nhttps://dl.dropbox.com/s/d43m5nk1dfv1crq/chalkboard.jpeg?dl=0,https://dl.dropbox.com/s/aot03jxen8s96hs/scratchie_2.gif?dl=0,gambling_matched,gambling,unscrambled,\r\nhttps://dl.dropbox.com/s/33lay89qe1wkpkb/GAAP54_hairdressers_AR.png?dl=0,https://dl.dropbox.com/s/eetc3llxowb7uj9/GAAP54_AR.png?dl=0,alcohol_match,alcohol,unscrambled,\r\nhttps://dl.dropbox.com/s/detameb7c04vgtq/gaap6_ar.png?dl=0,https://dl.dropbox.com/s/zzyjg60g01dgr3b/gaap6_oil_ar.png?dl=0,alcohol,alcohol_match,unscrambled,\r\nhttps://dl.dropbox.com/s/byyzog6xad879fi/scrambled_tabticket.gif?dl=0,https://dl.dropbox.com/s/e5frntdozqrroya/scrambled_notebook%202.jpeg?dl=0,gambling,gambling_matched,scrambled,\r\nhttps://dl.dropbox.com/s/xejxxbgaeyjk6be/scrambled_wolves.jpg?dl=0,https://dl.dropbox.com/s/d3yfur1tpud2lqp/scrambled_greyhounds.jpg?dl=0,gambling_matched,gambling,scrambled,\r\n,,,,,",
          "freeview_1_part_2.csv": "image_1,image_2,left_stim,right_stim,scrambled,\r\nhttps://dl.dropbox.com/s/8hgysyk124lv0vr/horses_stable.jpg?dl=0,https://dl.dropbox.com/s/tmtop9em6i5fjrk/horse_racing_1.jpg?dl=0,gambling_matched,gambling,unscrambled,\r\nhttps://dl.dropbox.com/s/0039mb5ixg57ftr/scrambled_horse_racing_1.jpg?dl=0,https://dl.dropbox.com/s/btqof4svekvyks5/scrambled_horses_stable.jpg?dl=0,gambling,gambling_matched,scrambled,\r\nhttps://dl.dropbox.com/s/hoxzydlhqasppba/scrambled_horses%20running.jpg?dl=0,https://dl.dropbox.com/s/8qnly39bom7r9aw/scrambled_horse_racing_2.jpg?dl=0,gambling_matched,gambling,scrambled,\r\nhttps://dl.dropbox.com/s/3bd283n4ve0t6jl/scrambled_GAAP54_AR.png?dl=0,https://dl.dropbox.com/s/59xhvb2ud90uj88/scrambled_gaap54_hairdressers_ar.png?dl=0,alcohol,alcohol_match,scrambled,\r\nhttps://dl.dropbox.com/s/rfcx5jt2zwzntdk/blackjacks_course.jpg?dl=0,https://dl.dropbox.com/s/s98nvglc0on5bg8/blackjack_casino.jpg?dl=0,gambling_matched,gambling,unscrambled,\r\nhttps://dl.dropbox.com/s/uvmd8ia2q6rg3oj/scrambled_GAAP1_fries_AR.png?dl=0,https://dl.dropbox.com/s/hv9kdsift0tkkrd/scrambled_GAAP1_AR.png?dl=0,alcohol_match,alcohol,scrambled,\r\nhttps://dl.dropbox.com/s/7km532e7wnqszt3/scrambled_bus-timetable.gif?dl=0,https://dl.dropbox.com/s/1y3nvc7ysx9wph0/scrambled_lottery_ticket.jpg?dl=0,gambling_matched,gambling,scrambled,\r\nhttps://dl.dropbox.com/s/lnbhc965wkrh5ad/roulette_table.jpg?dl=0,https://dl.dropbox.com/s/oat33xo0va59pj6/football%20pitch.jpg?dl=0,gambling,gambling_matched,unscrambled,\r\nhttps://dl.dropbox.com/s/oabxaeuaqhqtiyr/supermarket%20shelf.jpg?dl=0,https://dl.dropbox.com/s/kdtjudvcofudqja/pokies_1.jpg?dl=0,gambling_matched,gambling,unscrambled,\r\nhttps://dl.dropbox.com/s/5kf1y55uusaysh4/poker_chips_cards.jpg?dl=0,https://dl.dropbox.com/s/wbkkssro9yg6us5/notebooks%20and%20pencils.jpg?dl=0,gambling,gambling_matched,unscrambled,\r\nhttps://dl.dropbox.com/s/f621i04mrin3qw7/gaap28_ar.png?dl=0,https://dl.dropbox.com/s/iw2euo5spmheshx/GAAP28_Tea_AR.png?dl=0,alcohol,alcohol_match,unscrambled,\r\nhttps://dl.dropbox.com/s/3esdt3ebe0poxpx/GAAP24_bubbles_AR.png?dl=0,https://dl.dropbox.com/s/dobgeap4gojoo2f/gaap24_ar.png?dl=0,alcohol_match,alcohol,unscrambled,\r\nhttps://dl.dropbox.com/s/w9d56iojg70zhe6/scrambled_weather.png?dl=0,https://dl.dropbox.com/s/wtea1r5mxbeymzk/scrambled_tvliveodds.png?dl=0,gambling_matched,gambling,scrambled,\r\nhttps://dl.dropbox.com/s/k2xmffgp0toesxg/gaap8_craft_ar.png?dl=0,https://dl.dropbox.com/s/lhjtse3jvk1l9cf/gaap8_ar.png?dl=0,alcohol_match,alcohol,unscrambled,\r\nhttps://dl.dropbox.com/s/4qk8pr17qvfry1e/scrambled_gaap21_ar.png?dl=0,https://dl.dropbox.com/s/cygto9jqt1kcjdt/scrambled_GAAP21_party_popper_AR.png?dl=0,alcohol,alcohol_match,scrambled,\r\nhttps://dl.dropbox.com/s/qly7s11l50jzat0/gaap18_salad_ar.png?dl=0,https://dl.dropbox.com/s/2vgqjebo8wn2iz1/GAAP18_AR.png?dl=0,alcohol_match,alcohol,unscrambled,\r\nhttps://dl.dropbox.com/s/yjpcv18aimp4l7y/GAAP29_teamwork_AR.png?dl=0,https://dl.dropbox.com/s/fczdvo8xpj8ighn/gaap29_ar.png?dl=0,alcohol_match,alcohol,unscrambled,\r\nhttps://dl.dropbox.com/s/dxl231vkki41nvb/scrambled_gaap28_ar.png?dl=0,https://dl.dropbox.com/s/7tez9k7ky6kqyru/scrambled_GAAP28_Tea_AR.png?dl=0,alcohol,alcohol_match,scrambled,\r\nhttps://dl.dropbox.com/s/n6unw7avsz382yk/scrambled_scratchie_2.gif?dl=0,https://dl.dropbox.com/s/e9q4xc3rne604q1/scrambled_chalkboard.jpeg?dl=0,gambling,gambling_matched,scrambled,\r\nhttps://dl.dropbox.com/s/qklk5mrynyaiz0z/gaap1_fries_ar.png?dl=0,https://dl.dropbox.com/s/zcpro7lzj4lm7zu/GAAP1_AR.png?dl=0,alcohol_match,alcohol,unscrambled,\r\nhttps://dl.dropbox.com/s/hl4gvv09crrqmwi/gaap46_ar.png?dl=0,https://dl.dropbox.com/s/ou9mdwxawqf4vwx/gaap46_hotwheels_ar.png?dl=0,alcohol,alcohol_match,unscrambled,\r\nhttps://dl.dropbox.com/s/wgct2s8vy90ksbc/GAAP16_AR.png?dl=0,https://dl.dropbox.com/s/at5m1a2fazhh33x/GAAP16_keyring_AR.png?dl=0,alcohol,alcohol_match,unscrambled,\r\nhttps://dl.dropbox.com/s/sgmaigzr2vzy4j6/bus-timetable.gif?dl=0,https://dl.dropbox.com/s/vo4s6okh28vy9qd/lottery_ticket.jpg?dl=0,gambling_matched,gambling,unscrambled,\r\nhttps://dl.dropbox.com/s/cag6vfsu6ki11kz/scrambled_blackjack_casino.jpg?dl=0,https://dl.dropbox.com/s/qxlwl6ii0wk0lo8/scrambled_blackjacks_course.jpg?dl=0,gambling,gambling_matched,scrambled,\r\nhttps://dl.dropbox.com/s/ybyyabxpkzn1bze/notebooks.jpg?dl=0,https://dl.dropbox.com/s/cirydak4wdn7dna/cards.jpg?dl=0,gambling_matched,gambling,unscrambled,\r\nhttps://dl.dropbox.com/s/qdgvr95kfg7r8x0/scrambled_batteries.jpg?dl=0,https://dl.dropbox.com/s/u48mfy6j29txphn/scrambled_poker_chips.jpg?dl=0,gambling_matched,gambling,scrambled,\r\nhttps://dl.dropbox.com/s/nic16jgd2jl31zp/horse_racing_2.jpg?dl=0,https://dl.dropbox.com/s/umwnm79kqf89r8z/horses%20running.jpg?dl=0,gambling,gambling_matched,unscrambled,\r\nhttps://dl.dropbox.com/s/6kx98exkxlgd8lw/scrambled_gaap18_ar.png?dl=0,https://dl.dropbox.com/s/cx6978uzlaefc5x/scrambled_GAAP18_salad_AR.png?dl=0,alcohol,alcohol_match,scrambled,\r\nhttps://dl.dropbox.com/s/etxpz62frou7vcn/scrambled_roulette_table.jpg?dl=0,https://dl.dropbox.com/s/7n1d1h5ou8ahmdw/scrambled_football%20pitch.jpg?dl=0,gambling,gambling_matched,scrambled,\r\nhttps://dl.dropbox.com/s/0rk7hs3s1oqqy82/scrambled_gaap24_bubbles_ar.png?dl=0,https://dl.dropbox.com/s/ixcmv1izlq7rcp8/scrambled_gaap24_ar.png?dl=0,alcohol_match,alcohol,scrambled,\r\nhttps://dl.dropbox.com/s/d7p6opi7k60k8t3/lotto_balls.png?dl=0,https://dl.dropbox.com/s/ev8sazdi1s4dncu/cricket_balls.jpg?dl=0,gambling,gambling_matched,unscrambled,\r\nhttps://dl.dropbox.com/s/g3idfrew1b92lfg/scrambled_GAAP8_craft_AR.png?dl=0,https://dl.dropbox.com/s/hhps8x8aujufzou/scrambled_gaap8_ar.png?dl=0,alcohol_match,alcohol,scrambled,\r\nhttps://dl.dropbox.com/s/nx90u94wdfefg8y/scratchie_1.jpg?dl=0,https://dl.dropbox.com/s/pdo9yz75py389bn/butterfly.png?dl=0,gambling,gambling_matched,unscrambled,\r\nhttps://dl.dropbox.com/s/p01h0z42ompmof8/scrambled_gaap5_dining_table_ar.png?dl=0,https://dl.dropbox.com/s/dbe7u5j1e5bygf7/scrambled_gaap5_ar.png?dl=0,alcohol_match,alcohol,scrambled,\r\nhttps://dl.dropbox.com/s/c4qshotlip5ep6b/scrambled_gaap46_hotwheels_ar.png?dl=0,https://dl.dropbox.com/s/1fboi3f24efz4mh/scrambled_gaap46_ar.png?dl=0,alcohol_match,alcohol,scrambled,\r\nhttps://dl.dropbox.com/s/phhjxy5jk0xftg6/GAAP10_AR.png?dl=0,https://dl.dropbox.com/s/saqw2qhrt1z2zoo/GAAP10_waterbottles_AR.png?dl=0,alcohol,alcohol_match,unscrambled,\r\nhttps://dl.dropbox.com/s/tfnx1ouxmglvsdg/scrambled_cricket%20balls.jpg?dl=0,https://dl.dropbox.com/s/heephpogfwnfk2m/scrambled_lotto_balls.png?dl=0,gambling_matched,gambling,scrambled,\r\nhttps://dl.dropbox.com/s/uhzi6i0o8td3fla/scrambled_pokies%201.jpg?dl=0,https://dl.dropbox.com/s/7sczzgz12brv8x7/scrambled_supermarket%20shelf.jpg?dl=0,gambling,gambling_matched,scrambled,\r\nhttps://dl.dropbox.com/s/3c21ir1reuxq4oo/scrambled_GAAP6_AR.png?dl=0,https://dl.dropbox.com/s/0zv6879a6cw5xwl/scrambled_GAAP6_Oil_AR.png?dl=0,alcohol,alcohol_match,scrambled,\r\nhttps://dl.dropbox.com/s/13591yhad9p8u3l/GAAP20_AR.png?dl=0,https://dl.dropbox.com/s/zhjisvv5907x8vy/GAAP20_pantry_AR.png?dl=0,alcohol,alcohol_match,unscrambled,\r\n,,,,,",
          "freeview_reverse_1.csv": "image_1,image_2,left_stim,right_stim,\r\nhttps://dl.dropbox.com/s/zhjisvv5907x8vy/GAAP20_pantry_AR.png?dl=0,https://dl.dropbox.com/s/13591yhad9p8u3l/GAAP20_AR.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/0zv6879a6cw5xwl/scrambled_GAAP6_Oil_AR.png?dl=0,https://dl.dropbox.com/s/3c21ir1reuxq4oo/scrambled_GAAP6_AR.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/7sczzgz12brv8x7/scrambled_supermarket%20shelf.jpg?dl=0,https://dl.dropbox.com/s/uhzi6i0o8td3fla/scrambled_pokies%201.jpg?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/heephpogfwnfk2m/scrambled_lotto_balls.png?dl=0,https://dl.dropbox.com/s/tfnx1ouxmglvsdg/scrambled_cricket%20balls.jpg?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/saqw2qhrt1z2zoo/GAAP10_waterbottles_AR.png?dl=0,https://dl.dropbox.com/s/phhjxy5jk0xftg6/GAAP10_AR.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/1fboi3f24efz4mh/scrambled_gaap46_ar.png?dl=0,https://dl.dropbox.com/s/c4qshotlip5ep6b/scrambled_gaap46_hotwheels_ar.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/dbe7u5j1e5bygf7/scrambled_gaap5_ar.png?dl=0,https://dl.dropbox.com/s/p01h0z42ompmof8/scrambled_gaap5_dining_table_ar.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/pdo9yz75py389bn/butterfly.png?dl=0,https://dl.dropbox.com/s/nx90u94wdfefg8y/scratchie_1.jpg?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/hhps8x8aujufzou/scrambled_gaap8_ar.png?dl=0,https://dl.dropbox.com/s/g3idfrew1b92lfg/scrambled_GAAP8_craft_AR.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/ev8sazdi1s4dncu/cricket_balls.jpg?dl=0,https://dl.dropbox.com/s/d7p6opi7k60k8t3/lotto_balls.png?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/ixcmv1izlq7rcp8/scrambled_gaap24_ar.png?dl=0,https://dl.dropbox.com/s/0rk7hs3s1oqqy82/scrambled_gaap24_bubbles_ar.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/7n1d1h5ou8ahmdw/scrambled_football%20pitch.jpg?dl=0,https://dl.dropbox.com/s/etxpz62frou7vcn/scrambled_roulette_table.jpg?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/cx6978uzlaefc5x/scrambled_GAAP18_salad_AR.png?dl=0,https://dl.dropbox.com/s/6kx98exkxlgd8lw/scrambled_gaap18_ar.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/umwnm79kqf89r8z/horses%20running.jpg?dl=0,https://dl.dropbox.com/s/nic16jgd2jl31zp/horse_racing_2.jpg?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/u48mfy6j29txphn/scrambled_poker_chips.jpg?dl=0,https://dl.dropbox.com/s/qdgvr95kfg7r8x0/scrambled_batteries.jpg?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/cirydak4wdn7dna/cards.jpg?dl=0,https://dl.dropbox.com/s/ybyyabxpkzn1bze/notebooks.jpg?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/qxlwl6ii0wk0lo8/scrambled_blackjacks_course.jpg?dl=0,https://dl.dropbox.com/s/cag6vfsu6ki11kz/scrambled_blackjack_casino.jpg?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/vo4s6okh28vy9qd/lottery_ticket.jpg?dl=0,https://dl.dropbox.com/s/sgmaigzr2vzy4j6/bus-timetable.gif?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/at5m1a2fazhh33x/GAAP16_keyring_AR.png?dl=0,https://dl.dropbox.com/s/wgct2s8vy90ksbc/GAAP16_AR.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/ou9mdwxawqf4vwx/gaap46_hotwheels_ar.png?dl=0,https://dl.dropbox.com/s/hl4gvv09crrqmwi/gaap46_ar.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/zcpro7lzj4lm7zu/GAAP1_AR.png?dl=0,https://dl.dropbox.com/s/qklk5mrynyaiz0z/gaap1_fries_ar.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/e9q4xc3rne604q1/scrambled_chalkboard.jpeg?dl=0,https://dl.dropbox.com/s/n6unw7avsz382yk/scrambled_scratchie_2.gif?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/7tez9k7ky6kqyru/scrambled_GAAP28_Tea_AR.png?dl=0,https://dl.dropbox.com/s/dxl231vkki41nvb/scrambled_gaap28_ar.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/fczdvo8xpj8ighn/gaap29_ar.png?dl=0,https://dl.dropbox.com/s/yjpcv18aimp4l7y/GAAP29_teamwork_AR.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/2vgqjebo8wn2iz1/GAAP18_AR.png?dl=0,https://dl.dropbox.com/s/qly7s11l50jzat0/gaap18_salad_ar.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/cygto9jqt1kcjdt/scrambled_GAAP21_party_popper_AR.png?dl=0,https://dl.dropbox.com/s/4qk8pr17qvfry1e/scrambled_gaap21_ar.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/lhjtse3jvk1l9cf/gaap8_ar.png?dl=0,https://dl.dropbox.com/s/k2xmffgp0toesxg/gaap8_craft_ar.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/wtea1r5mxbeymzk/scrambled_tvliveodds.png?dl=0,https://dl.dropbox.com/s/w9d56iojg70zhe6/scrambled_weather.png?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/dobgeap4gojoo2f/gaap24_ar.png?dl=0,https://dl.dropbox.com/s/3esdt3ebe0poxpx/GAAP24_bubbles_AR.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/iw2euo5spmheshx/GAAP28_Tea_AR.png?dl=0,https://dl.dropbox.com/s/f621i04mrin3qw7/gaap28_ar.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/wbkkssro9yg6us5/notebooks%20and%20pencils.jpg?dl=0,https://dl.dropbox.com/s/5kf1y55uusaysh4/poker_chips_cards.jpg?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/kdtjudvcofudqja/pokies_1.jpg?dl=0,https://dl.dropbox.com/s/oabxaeuaqhqtiyr/supermarket%20shelf.jpg?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/oat33xo0va59pj6/football%20pitch.jpg?dl=0,https://dl.dropbox.com/s/lnbhc965wkrh5ad/roulette_table.jpg?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/1y3nvc7ysx9wph0/scrambled_lottery_ticket.jpg?dl=0,https://dl.dropbox.com/s/7km532e7wnqszt3/scrambled_bus-timetable.gif?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/hv9kdsift0tkkrd/scrambled_GAAP1_AR.png?dl=0,https://dl.dropbox.com/s/uvmd8ia2q6rg3oj/scrambled_GAAP1_fries_AR.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/s98nvglc0on5bg8/blackjack_casino.jpg?dl=0,https://dl.dropbox.com/s/rfcx5jt2zwzntdk/blackjacks_course.jpg?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/59xhvb2ud90uj88/scrambled_gaap54_hairdressers_ar.png?dl=0,https://dl.dropbox.com/s/3bd283n4ve0t6jl/scrambled_GAAP54_AR.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/8qnly39bom7r9aw/scrambled_horse_racing_2.jpg?dl=0,https://dl.dropbox.com/s/hoxzydlhqasppba/scrambled_horses%20running.jpg?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/btqof4svekvyks5/scrambled_horses_stable.jpg?dl=0,https://dl.dropbox.com/s/0039mb5ixg57ftr/scrambled_horse_racing_1.jpg?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/tmtop9em6i5fjrk/horse_racing_1.jpg?dl=0,https://dl.dropbox.com/s/8hgysyk124lv0vr/horses_stable.jpg?dl=0,gambling,gambling_matched,\r\n,,,,",
          "freeview_reverse_2.csv": "image_1,image_2,left_stim,right_stim,\r\nhttps://dl.dropbox.com/s/d3yfur1tpud2lqp/scrambled_greyhounds.jpg?dl=0,https://dl.dropbox.com/s/xejxxbgaeyjk6be/scrambled_wolves.jpg?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/e5frntdozqrroya/scrambled_notebook%202.jpeg?dl=0,https://dl.dropbox.com/s/byyzog6xad879fi/scrambled_tabticket.gif?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/zzyjg60g01dgr3b/gaap6_oil_ar.png?dl=0,https://dl.dropbox.com/s/detameb7c04vgtq/gaap6_ar.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/eetc3llxowb7uj9/GAAP54_AR.png?dl=0,https://dl.dropbox.com/s/33lay89qe1wkpkb/GAAP54_hairdressers_AR.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/aot03jxen8s96hs/scratchie_2.gif?dl=0,https://dl.dropbox.com/s/d43m5nk1dfv1crq/chalkboard.jpeg?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/tnnt60axkre1l0p/GAAP15_AR.png?dl=0,https://dl.dropbox.com/s/68916xieue4x96a/GAAP15_oil_bottles_AR.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/vdhqwisx9xjqqze/pokies_2.png?dl=0,https://dl.dropbox.com/s/iubny4c9beoukpy/drinks.jpg?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/jv61ox8qpyka9xb/ukraine%20flag.jpg?dl=0,https://dl.dropbox.com/s/5a1ewk26ak6r7n3/bettingagencylogo_1.jpg?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/5r86gzlgq052ecn/scrambled_scratchie_1.jpg?dl=0,https://dl.dropbox.com/s/qwzsxzjiyinlrbh/scrambled_butterfly.png?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/avkd512542krymj/scrambled_gaap29_ar.png?dl=0,https://dl.dropbox.com/s/7bnmjibwzkeeffl/scrambled_GAAP29_teamwork_AR.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/hmer3paxabfe7w6/scrambled_cards.jpg?dl=0,https://dl.dropbox.com/s/kdib0jl7muq5u1u/scrambled_notebooks.jpg?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/6smk92qicn0kbq9/GAAP5_AR.png?dl=0,https://dl.dropbox.com/s/9xer3p8z4dpe5nm/gaap5_dining_table_ar.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/l9cogh6cie0od37/scrambled_poker_chips_cards.jpg?dl=0,https://dl.dropbox.com/s/rsxowvrj5o95jjs/scrambled_notebooks%20and%20pencils.jpg?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/9kmyvdliqwh6xfu/scrambled_GAAP3_milk_bottle_AR.png?dl=0,https://dl.dropbox.com/s/2n2etfyb04006og/scrambled_GAAP3_AR.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/zkyzrwc942boabt/scrambled_GAAP9_AR.png?dl=0,https://dl.dropbox.com/s/9hnbov6s55n0zzl/scrambled_GAAP9_cactus_AR.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/fo3rnus3ix7h9oe/GAAP51_paddle_AR.png?dl=0,https://dl.dropbox.com/s/oaulnw2se2vr0iv/gaap51_ar.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/usod86lcibbp4eg/scrambled_ukraine%20flag.jpg?dl=0,https://dl.dropbox.com/s/z6iqquk2rr45234/scrambled_bettingagencylogo_1.jpg?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/5me51jrvdp6it3b/scrambled_gaap15_ar.png?dl=0,https://dl.dropbox.com/s/mshgyrvx0kxts0u/scrambled_GAAP15_oil_bottles_AR.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/5jxkloa3o6yoobk/gaap9_ar.png?dl=0,https://dl.dropbox.com/s/a4dtrx818k0iu65/GAAP9_cactus_AR.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/lrp97zjhl01aclc/scrambled_roulette_wheel.jpg?dl=0,https://dl.dropbox.com/s/ugbi6psfgjp0sqg/scrambled_ship%20steering%20wheel.jpg?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/bm1bpx809m5fkec/poker_chips.jpg?dl=0,https://dl.dropbox.com/s/knif2lhsw7okbwz/batteries.jpg?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/snj0w6emu1k1u1u/tvliveodds.png?dl=0,https://dl.dropbox.com/s/dg0yxiomd1yrn3s/weather.png?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/v6q99x6g9mdtsjm/scrambled_gaap20_ar.png?dl=0,https://dl.dropbox.com/s/gqtvftmyc2e5yd5/scrambled_GAAP20_pantry_AR.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/1h9bwwr0ixlkunp/scrambled_GAAP16_keyring_AR.png?dl=0,https://dl.dropbox.com/s/tdkvtkqzy7jmgto/scrambled_GAAP16_AR.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/0ab8bz1310n7r5q/gaap30_tools_ar.png?dl=0,https://dl.dropbox.com/s/mynfumr0niqagog/GAAP30_AR.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/mlcxm1oe95ktqv1/wolves.jpg?dl=0,https://dl.dropbox.com/s/lfw7xknvgkciu9k/greyhounds.jpg?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/e3hvqpyjp0an7zl/arcade.jpg?dl=0,https://dl.dropbox.com/s/145321m6ewsrzlz/pokies_3.jpg?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/v9l4paw82a9etv4/bettingagencylogo_2.jpg?dl=0,https://dl.dropbox.com/s/sxghfay3zahjhzo/black_blue.jpg?dl=0,gambling,gambling_matched,\r\nhttps://dl.dropbox.com/s/a6yiqk5leuz8lmu/scrambled_GAAP30_tools_AR.png?dl=0,https://dl.dropbox.com/s/19sifllr069fjj7/scrambled_gaap30_ar.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/qj4xdwzlth3zsvq/scrambled_GAAP51_paddle_AR.png?dl=0,https://dl.dropbox.com/s/2yeefyweb4fsj76/scrambled_GAAP51_AR.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/f5an1h6wvtpea9r/ship%20steering%20wheel.jpg?dl=0,https://dl.dropbox.com/s/qfp2d60iaw477ln/roulette_wheel.jpg?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/38mqcdxt86o4tk3/scrambled_drinks.jpg?dl=0,https://dl.dropbox.com/s/w4d2a9dvhai9ms8/scrambled_pokies%202.png?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/fa3gu5bmeugnrx2/scrambled_arcade.jpg?dl=0,https://dl.dropbox.com/s/um17efj9yrnv25p/scrambled_pokies%203.jpg?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/wnotdan4hco12sn/gaap21_party_popper_ar.png?dl=0,https://dl.dropbox.com/s/fo15xg9he9g03jf/GAAP21_AR.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/vb47onmepqaqkfj/gaap4_coffee_ar.png?dl=0,https://dl.dropbox.com/s/wlqzxs00dhbkrpu/gaap4_ar.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/oyrfen0mle66n2w/notebook%202.jpeg?dl=0,https://dl.dropbox.com/s/23q4nreq8xuwen3/tabticket.gif?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/h5by1il8wg5vppl/scrambled_black_blue.jpg?dl=0,https://dl.dropbox.com/s/h8t6wha2qliert7/scrambled_bettingagencylogo_2.jpg?dl=0,gambling_matched,gambling,\r\nhttps://dl.dropbox.com/s/p7dbxcvxoijm8ce/scrambled_GAAP4_coffee_AR.png?dl=0,https://dl.dropbox.com/s/gtm5venlmzd3kxk/scrambled_gaap4_ar.png?dl=0,alcohol_match,alcohol,\r\nhttps://dl.dropbox.com/s/zq9fuqvmlmeuxhu/scrambled_gaap10_ar.png?dl=0,https://dl.dropbox.com/s/mj6rgdbk7qyrl9x/scrambled_GAAP10_waterbottles_AR.png?dl=0,alcohol,alcohol_match,\r\nhttps://dl.dropbox.com/s/lqpsbvqozovk46z/GAAP3_AR.png?dl=0,https://dl.dropbox.com/s/yebc6bcwvrpfysb/gaap3_milk_bottle_ar.png?dl=0,alcohol,alcohol_match,\r\n,,,,",
          "gaze_pairs.csv": "task,image_1,image_2,\r\nAnimalReward,../User/Stimuli/gaze_images/bird1.jpg,../User/Stimuli/gaze_images/cold1.jpg,\r\nAnimalReward,../User/Stimuli/gaze_images/bird3.jpg,../User/Stimuli/gaze_images/car1.jpg,\r\nAnimalReward,../User/Stimuli/gaze_images/cat5.jpg,../User/Stimuli/gaze_images/bricks1.jpg,\r\nAnimalReward,../User/Stimuli/gaze_images/chipmunk2.jpg,../User/Stimuli/gaze_images/phone1.jpg,\r\nAnimalReward,../User/Stimuli/gaze_images/dog6.jpg,../User/Stimuli/gaze_images/archery2.jpg,\r\nAnimalReward,../User/Stimuli/gaze_images/elephant1.jpg,../User/Stimuli/gaze_images/cups1.jpg,\r\nAnimalReward,../User/Stimuli/gaze_images/horse1.jpg,../User/Stimuli/gaze_images/fence1.jpg,\r\nAnimalReward,../User/Stimuli/gaze_images/lamb1.jpg,../User/Stimuli/gaze_images/firehydrant1.jpg,\r\nAnimalReward,../User/Stimuli/gaze_images/penguins2.jpg,../User/Stimuli/gaze_images/roofing2.jpg,\r\nAnimalReward,../User/Stimuli/gaze_images/zebra1.jpg,../User/Stimuli/gaze_images/sidewalk1.jpg,\r\nNonsocialReward,../User/Stimuli/gaze_images/beach1.jpg,../User/Stimuli/gaze_images/ambulance3.jpg,\r\nNonsocialReward,../User/Stimuli/gaze_images/bridge1.jpg,../User/Stimuli/gaze_images/road1.jpg,\r\nNonsocialReward,../User/Stimuli/gaze_images/fireworks2.jpg,../User/Stimuli/gaze_images/officesupplies3.jpg,\r\nNonsocialReward,../User/Stimuli/gaze_images/flowers8.jpg,../User/Stimuli/gaze_images/solarpanel1.jpg,\r\nNonsocialReward,../User/Stimuli/gaze_images/galaxy7.jpg,../User/Stimuli/gaze_images/billiards1.jpg,\r\nNonsocialReward,../User/Stimuli/gaze_images/lake9.jpg,../User/Stimuli/gaze_images/cups2.jpg,\r\nNonsocialReward,../User/Stimuli/gaze_images/nature1.jpg,../User/Stimuli/gaze_images/fence2.jpg,\r\nNonsocialReward,../User/Stimuli/gaze_images/nature2.jpg,../User/Stimuli/gaze_images/firehydrant2.jpg,\r\nNonsocialReward,../User/Stimuli/gaze_images/rainbow2.jpg,../User/Stimuli/gaze_images/roofing3.jpg,\r\nNonsocialReward,../User/Stimuli/gaze_images/sunset5.jpg,../User/Stimuli/gaze_images/sidewalk3.jpg,\r\nSocialReward,../User/Stimuli/gaze_images/baby1.jpg,../User/Stimuli/gaze_images/motocross1.jpg,\r\nSocialReward,../User/Stimuli/gaze_images/couple4.jpg,../User/Stimuli/gaze_images/carrace3.jpg,\r\nSocialReward,../User/Stimuli/gaze_images/dancing7.jpg,../User/Stimuli/gaze_images/timber2.jpg,\r\nSocialReward,../User/Stimuli/gaze_images/excitedface2.jpg,../User/Stimuli/gaze_images/officesupplies5.jpg,\r\nSocialReward,../User/Stimuli/gaze_images/father1.jpg,../User/Stimuli/gaze_images/biking1.jpg,\r\nSocialReward,../User/Stimuli/gaze_images/gazing6.jpg,../User/Stimuli/gaze_images/cups4.jpg,\r\nSocialReward,../User/Stimuli/gaze_images/mother1.jpg,../User/Stimuli/gaze_images/fence6.jpg,\r\nSocialReward,../User/Stimuli/gaze_images/Picnic1.jpg,../User/Stimuli/gaze_images/firehydrant3.jpg,\r\nSocialReward,../User/Stimuli/gaze_images/siblings1.jpg,../User/Stimuli/gaze_images/roofing5.jpg,\r\nSocialReward,../User/Stimuli/gaze_images/wedding10.jpg,../User/Stimuli/gaze_images/sidewalk5.jpg,\r\n,,,",
          "gaze_pairs1.csv": "task,image_1,image_2,scrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/scrambled/scrambled_bird1.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_cold1.jpg,scrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/scrambled/scrambled_bird3.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_car1.jpg,scrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/scrambled/scrambled_cat5.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_bricks1.jpg,scrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/scrambled/scrambled_chipmunk2.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_phone1.jpg,scrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/scrambled/scrambled_dog6.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_archery2.jpg,scrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/unscrambled/elephant1.jpg,../User/Stimuli/gaze_images/unscrambled/cups1.jpg,unscrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/unscrambled/horse1.jpg,../User/Stimuli/gaze_images/unscrambled/fence1.jpg,unscrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/unscrambled/lamb1.jpg,../User/Stimuli/gaze_images/unscrambled/firehydrant1.jpg,unscrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/unscrambled/penguins2.jpg,../User/Stimuli/gaze_images/unscrambled/roofing2.jpg,unscrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/unscrambled/zebra1.jpg,../User/Stimuli/gaze_images/unscrambled/sidewalk1.jpg,unscrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/unscrambled/beach1.jpg,../User/Stimuli/gaze_images/unscrambled/ambulance3.jpg,unscrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/unscrambled/bridge1.jpg,../User/Stimuli/gaze_images/unscrambled/road1.jpg,unscrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/unscrambled/fireworks2.jpg,../User/Stimuli/gaze_images/unscrambled/officesupplies3.jpg,unscrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/unscrambled/flowers8.jpg,../User/Stimuli/gaze_images/unscrambled/solarpanel1.jpg,unscrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/unscrambled/galaxy7.jpg,../User/Stimuli/gaze_images/unscrambled/billiards1.jpg,unscrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_lake9.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_cups2.jpg,scrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_nature1.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_fence2.jpg,scrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_nature2.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_firehydrant2.jpg,scrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_rainbow2.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_roofing3.jpg,scrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_sunset5.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_sidewalk3.jpg,scrambled,\r\nSocialReward,../User/Stimuli/gaze_images/unscrambled/baby1.jpg,../User/Stimuli/gaze_images/unscrambled/motocross1.jpg,unscrambled,\r\nSocialReward,../User/Stimuli/gaze_images/unscrambled/couple4.jpg,../User/Stimuli/gaze_images/unscrambled/carrace3.jpg,unscrambled,\r\nSocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_dancing7.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_timber2.jpg,scrambled,\r\nSocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_excitedface2.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_officesupplies5.jpg,scrambled,\r\nSocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_father1.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_biking1.jpg,scrambled,\r\nSocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_gazing6.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_cups4.jpg,scrambled,\r\nSocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_mother1.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_fence6.jpg,scrambled,\r\nSocialReward,../User/Stimuli/gaze_images/unscrambled/picnic1.jpg,../User/Stimuli/gaze_images/unscrambled/firehydrant3.jpg,unscrambled,\r\nSocialReward,../User/Stimuli/gaze_images/unscrambled/siblings1.jpg,../User/Stimuli/gaze_images/unscrambled/roofing5.jpg,unscrambled,\r\nSocialReward,../User/Stimuli/gaze_images/unscrambled/wedding10.jpg,../User/Stimuli/gaze_images/unscrambled/sidewalk5.jpg,unscrambled,\r\n,,,,",
          "gaze_pairs2.csv": "task,image_1,image_2,scrambled,\r\nSocialReward,../User/Stimuli/gaze_images/unscrambled/bird1.jpg,../User/Stimuli/gaze_images/unscrambled/cold1.jpg,unscrambled,\r\nSocialReward,../User/Stimuli/gaze_images/unscrambled/bird3.jpg,../User/Stimuli/gaze_images/unscrambled/car1.jpg,unscrambled,\r\nSocialReward,../User/Stimuli/gaze_images/unscrambled/cat5.jpg,../User/Stimuli/gaze_images/unscrambled/bricks1.jpg,unscrambled,\r\nSocialReward,../User/Stimuli/gaze_images/unscrambled/chipmunk2.jpg,../User/Stimuli/gaze_images/unscrambled/phone1.jpg,unscrambled,\r\nSocialReward,../User/Stimuli/gaze_images/unscrambled/dog6.jpg,../User/Stimuli/gaze_images/unscrambled/archery2.jpg,unscrambled,\r\nSocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_elephant1.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_cups1.jpg,scrambled,\r\nSocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_horse1.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_fence1.jpg,scrambled,\r\nSocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_lamb1.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_firehydrant1.jpg,scrambled,\r\nSocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_penguins2.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_roofing2.jpg,scrambled,\r\nSocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_zebra1.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_sidewalk1.jpg,scrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_beach1.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_ambulance3.jpg,scrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_bridge1.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_road1.jpg,scrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_fireworks2.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_officesupplies3.jpg,scrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_flowers8.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_solarpanel1.jpg,scrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/scrambled/scrambled_galaxy7.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_billiards1.jpg,scrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/unscrambled/lake9.jpg,../User/Stimuli/gaze_images/unscrambled/cups2.jpg,unscrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/unscrambled/nature1.jpg,../User/Stimuli/gaze_images/unscrambled/fence2.jpg,unscrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/unscrambled/nature2.jpg,../User/Stimuli/gaze_images/unscrambled/firehydrant2.jpg,unscrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/unscrambled/rainbow2.jpg,../User/Stimuli/gaze_images/unscrambled/roofing3.jpg,unscrambled,\r\nNonsocialReward,../User/Stimuli/gaze_images/unscrambled/sunset5.jpg,../User/Stimuli/gaze_images/unscrambled/sidewalk3.jpg,unscrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/scrambled/scrambled_baby1.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_motocross1.jpg,scrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/scrambled/scrambled_couple4.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_carrace3.jpg,scrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/unscrambled/dancing7.jpg,../User/Stimuli/gaze_images/unscrambled/timber2.jpg,unscrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/unscrambled/excitedface2.jpg,../User/Stimuli/gaze_images/unscrambled/officesupplies5.jpg,unscrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/unscrambled/father1.jpg,../User/Stimuli/gaze_images/unscrambled/biking1.jpg,unscrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/unscrambled/gazing6.jpg,../User/Stimuli/gaze_images/unscrambled/cups4.jpg,unscrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/unscrambled/mother1.jpg,../User/Stimuli/gaze_images/unscrambled/fence6.jpg,unscrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/scrambled/scrambled_picnic1.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_firehydrant3.jpg,scrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/scrambled/scrambled_siblings1.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_roofing5.jpg,scrambled,\r\nAnimalReward,../User/Stimuli/gaze_images/scrambled/scrambled_wedding10.jpg,../User/Stimuli/gaze_images/scrambled/scrambled_sidewalk5.jpg,scrambled,\r\n,,,,",
          "gaze_.csv": "cue,answer,\r\nA,Apple,\r\nB,Banana,\r\n,,",
          "gaze_pairs_a_sn.csv": "Task,Scrambled_Status,Name_1,Name_2,image_1,image_2,\r\nAlcohol,Unscrambled,Unopened_1_Target_A.png,Unopened_1_Control_A.png,../User/Pictures/Alcohol/Unopened_1_Target_A.png,../User/Pictures/Alcohol/Unopened_1_Control_A.png,\r\nAlcohol,Unscrambled,Unopened_2_Target_A.png,Unopened_2_Control_A.png,../User/Pictures/Alcohol/Unopened_2_Target_A.png,../User/Pictures/Alcohol/Unopened_2_Control_A.png,\r\nAlcohol,Unscrambled,Unopened_3_Target_A.png,Unopened_3_Control_A.png,../User/Pictures/Alcohol/Unopened_3_Target_A.png,../User/Pictures/Alcohol/Unopened_3_Control_A.png,\r\nAlcohol,Unscrambled,Unopened_4_Target_A.png,Unopened_4_Control_A.png,../User/Pictures/Alcohol/Unopened_4_Target_A.png,../User/Pictures/Alcohol/Unopened_4_Control_A.png,\r\nAlcohol,Unscrambled,Unopened_5_Target_A.png,Unopened_5_Control_A.png,../User/Pictures/Alcohol/Unopened_5_Target_A.png,../User/Pictures/Alcohol/Unopened_5_Control_A.png,\r\nAlcohol,Unscrambled,Poured_1_Target_A.png,Poured_1_Control_A.png,../User/Pictures/Alcohol/Poured_1_Target_A.png,../User/Pictures/Alcohol/Poured_1_Control_A.png,\r\nAlcohol,Unscrambled,Poured_2_Target_A.png,Poured_2_Control_A.png,../User/Pictures/Alcohol/Poured_2_Target_A.png,../User/Pictures/Alcohol/Poured_2_Control_A.png,\r\nAlcohol,Unscrambled,Poured_3_Target_A.png,Poured_3_Control_A.png,../User/Pictures/Alcohol/Poured_3_Target_A.png,../User/Pictures/Alcohol/Poured_3_Control_A.png,\r\nAlcohol,Unscrambled,Poured_4_Target_A.png,Poured_4_Control_A.png,../User/Pictures/Alcohol/Poured_4_Target_A.png,../User/Pictures/Alcohol/Poured_4_Control_A.png,\r\nAlcohol,Unscrambled,Poured_5_Target_A.png,Poured_5_Control_A.png,../User/Pictures/Alcohol/Poured_5_Target_A.png,../User/Pictures/Alcohol/Poured_5_Control_A.png,\r\nAlcohol,Unscrambled,Social_1_Target_A.png,Social_1_Control_A.png,../User/Pictures/Alcohol/Social_1_Target_A.png,../User/Pictures/Alcohol/Social_1_Control_A.png,\r\nAlcohol,Unscrambled,Social_2_Target_A.png,Social_2_Control_A.png,../User/Pictures/Alcohol/Social_2_Target_A.png,../User/Pictures/Alcohol/Social_2_Control_A.png,\r\nAlcohol,Unscrambled,Social_3_Target_A.png,Social_3_Control_A.png,../User/Pictures/Alcohol/Social_3_Target_A.png,../User/Pictures/Alcohol/Social_3_Control_A.png,\r\nAlcohol,Unscrambled,Social_4_Target_A.png,Social_4_Control_A.png,../User/Pictures/Alcohol/Social_4_Target_A.png,../User/Pictures/Alcohol/Social_4_Control_A.png,\r\nAlcohol,Unscrambled,Social_5_Target_A.png,Social_5_Control_A.png,../User/Pictures/Alcohol/Social_5_Target_A.png,../User/Pictures/Alcohol/Social_5_Control_A.png,\r\nAlcohol,Unscrambled,Location_1_Target_A.png,Location_1_Control_A.png,../User/Pictures/Alcohol/Location_1_Target_A.png,../User/Pictures/Alcohol/Location_1_Control_A.png,\r\nAlcohol,Unscrambled,Location_2_Target_A.png,Location_2_Control_A.png,../User/Pictures/Alcohol/Location_2_Target_A.png,../User/Pictures/Alcohol/Location_2_Control_A.png,\r\nAlcohol,Unscrambled,Location_3_Target_A.png,Location_3_Control_A.png,../User/Pictures/Alcohol/Location_3_Target_A.png,../User/Pictures/Alcohol/Location_3_Control_A.png,\r\nAlcohol,Unscrambled,Location_4_Target_A.png,Location_4_Control_A.png,../User/Pictures/Alcohol/Location_4_Target_A.png,../User/Pictures/Alcohol/Location_4_Control_A.png,\r\nAlcohol,Unscrambled,Location_5_Target_A.png,Location_5_Control_A.png,../User/Pictures/Alcohol/Location_5_Target_A.png,../User/Pictures/Alcohol/Location_5_Control_A.png,\r\nSocial Networking,Unscrambled,Icon_1_Target_SN.png,Icon_1_Control_SN.png,../User/Pictures/Social_Networking/Icon_1_Target_SN.png,../User/Pictures/Social_Networking/Icon_1_Control_SN.png,\r\nSocial Networking,Unscrambled,Icon_2_Target_SN.png,Icon_2_Control_SN.png,../User/Pictures/Social_Networking/Icon_2_Target_SN.png,../User/Pictures/Social_Networking/Icon_2_Control_SN.png,\r\nSocial Networking,Unscrambled,Icon_3_Target_SN.png,Icon_3_Control_SN.png,../User/Pictures/Social_Networking/Icon_3_Target_SN.png,../User/Pictures/Social_Networking/Icon_3_Control_SN.png,\r\nSocial Networking,Unscrambled,Icon_4_Target_SN.png,Icon_4_Control_SN.png,../User/Pictures/Social_Networking/Icon_4_Target_SN.png,../User/Pictures/Social_Networking/Icon_4_Control_SN.png,\r\nSocial Networking,Unscrambled,Icon_5_Target_SN.png,Icon_5_Control_SN.png,../User/Pictures/Social_Networking/Icon_5_Target_SN.png,../User/Pictures/Social_Networking/Icon_5_Control_SN.png,\r\nSocial Networking,Unscrambled,Phone_1_Target_SN.png,Phone_1_Control_SN.png,../User/Pictures/Social_Networking/Phone_1_Target_SN.png,../User/Pictures/Social_Networking/Phone_1_Control_SN.png,\r\nSocial Networking,Unscrambled,Phone_2_Target_SN.png,Phone_2_Control_SN.png,../User/Pictures/Social_Networking/Phone_2_Target_SN.png,../User/Pictures/Social_Networking/Phone_2_Control_SN.png,\r\nSocial Networking,Unscrambled,Phone_3_Target_SN.png,Phone_3_Control_SN.png,../User/Pictures/Social_Networking/Phone_3_Target_SN.png,../User/Pictures/Social_Networking/Phone_3_Control_SN.png,\r\nSocial Networking,Unscrambled,Phone_4_Target_SN.png,Phone_4_Control_SN.png,../User/Pictures/Social_Networking/Phone_4_Target_SN.png,../User/Pictures/Social_Networking/Phone_4_Control_SN.png,\r\nSocial Networking,Unscrambled,Phone_5_Target_SN.png,Phone_5_Control_SN.png,../User/Pictures/Social_Networking/Phone_5_Target_SN.png,../User/Pictures/Social_Networking/Phone_5_Control_SN.png,\r\nSocial Networking,Unscrambled,Website_1_Target_SN.png,Website_1_Control_SN.png,../User/Pictures/Social_Networking/Website_1_Target_SN.png,../User/Pictures/Social_Networking/Website_1_Control_SN.png,\r\nSocial Networking,Unscrambled,Website_2_Target_SN.png,Website_2_Control_SN.png,../User/Pictures/Social_Networking/Website_2_Target_SN.png,../User/Pictures/Social_Networking/Website_2_Control_SN.png,\r\nSocial Networking,Unscrambled,Website_3_Target_SN.png,Website_3_Control_SN.png,../User/Pictures/Social_Networking/Website_3_Target_SN.png,../User/Pictures/Social_Networking/Website_3_Control_SN.png,\r\nSocial Networking,Unscrambled,Website_4_Target_SN.png,Website_4_Control_SN.png,../User/Pictures/Social_Networking/Website_4_Target_SN.png,../User/Pictures/Social_Networking/Website_4_Control_SN.png,\r\nSocial Networking,Unscrambled,Website_5_Target_SN.png,Website_5_Control_SN.png,../User/Pictures/Social_Networking/Website_5_Target_SN.png,../User/Pictures/Social_Networking/Website_5_Control_SN.png,\r\nSocial Networking,Unscrambled,Misc_1_Target_SN.png,Misc_1_Control_SN.png,../User/Pictures/Social_Networking/Misc_1_Target_SN.png,../User/Pictures/Social_Networking/Misc_1_Control_SN.png,\r\nSocial Networking,Unscrambled,Misc_2_Target_SN.png,Misc_2_Control_SN.png,../User/Pictures/Social_Networking/Misc_2_Target_SN.png,../User/Pictures/Social_Networking/Misc_2_Control_SN.png,\r\nSocial Networking,Unscrambled,Misc_3_Target_SN.png,Misc_3_Control_SN.png,../User/Pictures/Social_Networking/Misc_3_Target_SN.png,../User/Pictures/Social_Networking/Misc_3_Control_SN.png,\r\nSocial Networking,Unscrambled,Misc_4_Target_SN.png,Misc_4_Control_SN.png,../User/Pictures/Social_Networking/Misc_4_Target_SN.png,../User/Pictures/Social_Networking/Misc_4_Control_SN.png,\r\nSocial Networking,Unscrambled,Misc_5_Target_SN.png,Misc_5_Control_SN.png,../User/Pictures/Social_Networking/Misc_5_Target_SN.png,../User/Pictures/Social_Networking/Misc_5_Control_SN.png,\r\nAlcohol,Scrambled,Unopened_1_Target_A.png_Scrambled,Unopened_1_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Unopened_1_Target_A.png,../User/Pictures/Alcohol/Scrambled_Unopened_1_Control_A.png,\r\nAlcohol,Scrambled,Unopened_2_Target_A.png_Scrambled,Unopened_2_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Unopened_2_Target_A.png,../User/Pictures/Alcohol/Scrambled_Unopened_2_Control_A.png,\r\nAlcohol,Scrambled,Unopened_3_Target_A.png_Scrambled,Unopened_3_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Unopened_3_Target_A.png,../User/Pictures/Alcohol/Scrambled_Unopened_3_Control_A.png,\r\nAlcohol,Scrambled,Unopened_4_Target_A.png_Scrambled,Unopened_4_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Unopened_4_Target_A.png,../User/Pictures/Alcohol/Scrambled_Unopened_4_Control_A.png,\r\nAlcohol,Scrambled,Unopened_5_Target_A.png_Scrambled,Unopened_5_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Unopened_5_Target_A.png,../User/Pictures/Alcohol/Scrambled_Unopened_5_Control_A.png,\r\nAlcohol,Scrambled,Poured_1_Target_A.png_Scrambled,Poured_1_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Poured_1_Target_A.png,../User/Pictures/Alcohol/Scrambled_Poured_1_Control_A.png,\r\nAlcohol,Scrambled,Poured_2_Target_A.png_Scrambled,Poured_2_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Poured_2_Target_A.png,../User/Pictures/Alcohol/Scrambled_Poured_2_Control_A.png,\r\nAlcohol,Scrambled,Poured_3_Target_A.png_Scrambled,Poured_3_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Poured_3_Target_A.png,../User/Pictures/Alcohol/Scrambled_Poured_3_Control_A.png,\r\nAlcohol,Scrambled,Poured_4_Target_A.png_Scrambled,Poured_4_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Poured_4_Target_A.png,../User/Pictures/Alcohol/Scrambled_Poured_4_Control_A.png,\r\nAlcohol,Scrambled,Poured_5_Target_A.png_Scrambled,Poured_5_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Poured_5_Target_A.png,../User/Pictures/Alcohol/Scrambled_Poured_5_Control_A.png,\r\nAlcohol,Scrambled,Social_1_Target_A.png_Scrambled,Social_1_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Social_1_Target_A.png,../User/Pictures/Alcohol/Scrambled_Social_1_Control_A.png,\r\nAlcohol,Scrambled,Social_2_Target_A.png_Scrambled,Social_2_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Social_2_Target_A.png,../User/Pictures/Alcohol/Scrambled_Social_2_Control_A.png,\r\nAlcohol,Scrambled,Social_3_Target_A.png_Scrambled,Social_3_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Social_3_Target_A.png,../User/Pictures/Alcohol/Scrambled_Social_3_Control_A.png,\r\nAlcohol,Scrambled,Social_4_Target_A.png_Scrambled,Social_4_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Social_4_Target_A.png,../User/Pictures/Alcohol/Scrambled_Social_4_Control_A.png,\r\nAlcohol,Scrambled,Social_5_Target_A.png_Scrambled,Social_5_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Social_5_Target_A.png,../User/Pictures/Alcohol/Scrambled_Social_5_Control_A.png,\r\nAlcohol,Scrambled,Location_1_Target_A.png_Scrambled,Location_1_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Location_1_Target_A.png,../User/Pictures/Alcohol/Scrambled_Location_1_Control_A.png,\r\nAlcohol,Scrambled,Location_2_Target_A.png_Scrambled,Location_2_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Location_2_Target_A.png,../User/Pictures/Alcohol/Scrambled_Location_2_Control_A.png,\r\nAlcohol,Scrambled,Location_3_Target_A.png_Scrambled,Location_3_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Location_3_Target_A.png,../User/Pictures/Alcohol/Scrambled_Location_3_Control_A.png,\r\nAlcohol,Scrambled,Location_4_Target_A.png_Scrambled,Location_4_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Location_4_Target_A.png,../User/Pictures/Alcohol/Scrambled_Location_4_Control_A.png,\r\nAlcohol,Scrambled,Location_5_Target_A.png_Scrambled,Location_5_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Location_5_Target_A.png,../User/Pictures/Alcohol/Scrambled_Location_5_Control_A.png,\r\nSocial Networking,Scrambled,Icon_1_Target_SN.png_Scrambled,Icon_1_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Icon_1_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Icon_1_Control_SN.png,\r\nSocial Networking,Scrambled,Icon_2_Target_SN.png_Scrambled,Icon_2_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Icon_2_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Icon_2_Control_SN.png,\r\nSocial Networking,Scrambled,Icon_3_Target_SN.png_Scrambled,Icon_3_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Icon_3_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Icon_3_Control_SN.png,\r\nSocial Networking,Scrambled,Icon_4_Target_SN.png_Scrambled,Icon_4_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Icon_4_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Icon_4_Control_SN.png,\r\nSocial Networking,Scrambled,Icon_5_Target_SN.png_Scrambled,Icon_5_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Icon_5_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Icon_5_Control_SN.png,\r\nSocial Networking,Scrambled,Phone_1_Target_SN.png_Scrambled,Phone_1_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Phone_1_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Phone_1_Control_SN.png,\r\nSocial Networking,Scrambled,Phone_2_Target_SN.png_Scrambled,Phone_2_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Phone_2_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Phone_2_Control_SN.png,\r\nSocial Networking,Scrambled,Phone_3_Target_SN.png_Scrambled,Phone_3_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Phone_3_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Phone_3_Control_SN.png,\r\nSocial Networking,Scrambled,Phone_4_Target_SN.png_Scrambled,Phone_4_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Phone_4_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Phone_4_Control_SN.png,\r\nSocial Networking,Scrambled,Phone_5_Target_SN.png_Scrambled,Phone_5_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Phone_5_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Phone_5_Control_SN.png,\r\nSocial Networking,Scrambled,Website_1_Target_SN.png_Scrambled,Website_1_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Website_1_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Website_1_Control_SN.png,\r\nSocial Networking,Scrambled,Website_2_Target_SN.png_Scrambled,Website_2_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Website_2_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Website_2_Control_SN.png,\r\nSocial Networking,Scrambled,Website_3_Target_SN.png_Scrambled,Website_3_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Website_3_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Website_3_Control_SN.png,\r\nSocial Networking,Scrambled,Website_4_Target_SN.png_Scrambled,Website_4_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Website_4_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Website_4_Control_SN.png,\r\nSocial Networking,Scrambled,Website_5_Target_SN.png_Scrambled,Website_5_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Website_5_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Website_5_Control_SN.png,\r\nSocial Networking,Scrambled,Misc_1_Target_SN.png_Scrambled,Misc_1_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Misc_1_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Misc_1_Control_SN.png,\r\nSocial Networking,Scrambled,Misc_2_Target_SN.png_Scrambled,Misc_2_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Misc_2_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Misc_2_Control_SN.png,\r\nSocial Networking,Scrambled,Misc_3_Target_SN.png_Scrambled,Misc_3_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Misc_3_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Misc_3_Control_SN.png,\r\nSocial Networking,Scrambled,Misc_4_Target_SN.png_Scrambled,Misc_4_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Misc_4_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Misc_4_Control_SN.png,\r\nSocial Networking,Scrambled,Misc_5_Target_SN.png_Scrambled,Misc_5_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Misc_5_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Misc_5_Control_SN.png,\r\n,,,,,,",
          "gaze_pairs_a_sn_1.csv": "Task,Scrambled_Status,Name_1,Name_2,image_1,image_2,Random,Order,\r\nAlcohol,Scrambled,Location_4_Control_A.png_Scrambled,Location_4_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Location_4_Control_A.png,../User/Pictures/Alcohol/Scrambled_Location_4_Target_A.png,0.023865481,1,\r\nSocial Networking,Unscrambled,Website_2_Control_SN.png,Website_2_Target_SN.png,../User/Pictures/Social_Networking/Website_2_Control_SN.png,../User/Pictures/Social_Networking/Website_2_Target_SN.png,0.026990945,2,\r\nAlcohol,Unscrambled,Unopened_1_Target_A.png,Unopened_1_Control_A.png,../User/Pictures/Alcohol/Unopened_1_Target_A.png,../User/Pictures/Alcohol/Unopened_1_Control_A.png,0.119666411,3,\r\nSocial Networking,Scrambled,Phone_1_Target_SN.png_Scrambled,Phone_1_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Phone_1_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Phone_1_Control_SN.png,0.030445671,4,\r\nAlcohol,Unscrambled,Poured_1_Control_A.png,Poured_1_Target_A.png,../User/Pictures/Alcohol/Poured_1_Control_A.png,../User/Pictures/Alcohol/Poured_1_Target_A.png,0.059379086,5,\r\nSocial Networking,Scrambled,Phone_4_Target_SN.png_Scrambled,Phone_4_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Phone_4_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Phone_4_Control_SN.png,0.063335041,6,\r\nAlcohol,Unscrambled,Location_4_Control_A.png,Location_4_Target_A.png,../User/Pictures/Alcohol/Location_4_Control_A.png,../User/Pictures/Alcohol/Location_4_Target_A.png,0.066166088,7,\r\nAlcohol,Scrambled,Social_4_Target_A.png_Scrambled,Social_4_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Social_4_Target_A.png,../User/Pictures/Alcohol/Scrambled_Social_4_Control_A.png,0.100927609,8,\r\nSocial Networking,Unscrambled,Website_4_Control_SN.png,Website_4_Target_SN.png,../User/Pictures/Social_Networking/Website_4_Control_SN.png,../User/Pictures/Social_Networking/Website_4_Target_SN.png,0.070975165,9,\r\nAlcohol,Scrambled,Social_5_Control_A.png_Scrambled,Social_5_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Social_5_Control_A.png,../User/Pictures/Alcohol/Scrambled_Social_5_Target_A.png,0.09636974,10,\r\nAlcohol,Unscrambled,Poured_3_Target_A.png,Poured_3_Control_A.png,../User/Pictures/Alcohol/Poured_3_Target_A.png,../User/Pictures/Alcohol/Poured_3_Control_A.png,0.068205754,11,\r\nSocial Networking,Scrambled,Misc_2_Control_SN.png_Scrambled,Misc_2_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Misc_2_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Misc_2_Target_SN.png,0.101954374,12,\r\nAlcohol,Scrambled,Location_1_Target_A.png_Scrambled,Location_1_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Location_1_Target_A.png,../User/Pictures/Alcohol/Scrambled_Location_1_Control_A.png,0.188646983,13,\r\nSocial Networking,Unscrambled,Phone_5_Control_SN.png,Phone_5_Target_SN.png,../User/Pictures/Social_Networking/Phone_5_Control_SN.png,../User/Pictures/Social_Networking/Phone_5_Target_SN.png,0.156125875,14,\r\nAlcohol,Unscrambled,Location_2_Target_A.png,Location_2_Control_A.png,../User/Pictures/Alcohol/Location_2_Target_A.png,../User/Pictures/Alcohol/Location_2_Control_A.png,0.166810372,15,\r\nSocial Networking,Scrambled,Website_1_Control_SN.png_Scrambled,Website_1_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Website_1_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Website_1_Target_SN.png,0.027358379,16,\r\nAlcohol,Unscrambled,Location_1_Target_A.png,Location_1_Control_A.png,../User/Pictures/Alcohol/Location_1_Target_A.png,../User/Pictures/Alcohol/Location_1_Control_A.png,0.198334642,17,\r\nSocial Networking,Unscrambled,Misc_2_Control_SN.png,Misc_2_Target_SN.png,../User/Pictures/Social_Networking/Misc_2_Control_SN.png,../User/Pictures/Social_Networking/Misc_2_Target_SN.png,0.227995904,18,\r\nSocial Networking,Scrambled,Misc_1_Target_SN.png_Scrambled,Misc_1_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Misc_1_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Misc_1_Control_SN.png,0.233790555,19,\r\nAlcohol,Scrambled,Unopened_4_Target_A.png_Scrambled,Unopened_4_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Unopened_4_Target_A.png,../User/Pictures/Alcohol/Scrambled_Unopened_4_Control_A.png,0.241421912,20,\r\nAlcohol,Unscrambled,Poured_5_Control_A.png,Poured_5_Target_A.png,../User/Pictures/Alcohol/Poured_5_Control_A.png,../User/Pictures/Alcohol/Poured_5_Target_A.png,0.345222042,21,\r\nSocial Networking,Unscrambled,Phone_2_Control_SN.png,Phone_2_Target_SN.png,../User/Pictures/Social_Networking/Phone_2_Control_SN.png,../User/Pictures/Social_Networking/Phone_2_Target_SN.png,0.245434122,22,\r\nSocial Networking,Scrambled,Website_4_Target_SN.png_Scrambled,Website_4_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Website_4_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Website_4_Control_SN.png,0.361046363,23,\r\nAlcohol,Unscrambled,Poured_4_Target_A.png,Poured_4_Control_A.png,../User/Pictures/Alcohol/Poured_4_Target_A.png,../User/Pictures/Alcohol/Poured_4_Control_A.png,0.275252268,24,\r\nSocial Networking,Unscrambled,Phone_3_Control_SN.png,Phone_3_Target_SN.png,../User/Pictures/Social_Networking/Phone_3_Control_SN.png,../User/Pictures/Social_Networking/Phone_3_Target_SN.png,0.519917895,25,\r\nAlcohol,Scrambled,Social_3_Control_A.png_Scrambled,Social_3_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Social_3_Control_A.png,../User/Pictures/Alcohol/Scrambled_Social_3_Target_A.png,0.302605896,26,\r\nSocial Networking,Unscrambled,Icon_1_Target_SN.png,Icon_1_Control_SN.png,../User/Pictures/Social_Networking/Icon_1_Target_SN.png,../User/Pictures/Social_Networking/Icon_1_Control_SN.png,0.316011621,27,\r\nAlcohol,Unscrambled,Location_5_Control_A.png,Location_5_Target_A.png,../User/Pictures/Alcohol/Location_5_Control_A.png,../User/Pictures/Alcohol/Location_5_Target_A.png,0.317240541,28,\r\nSocial Networking,Scrambled,Phone_5_Control_SN.png_Scrambled,Phone_5_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Phone_5_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Phone_5_Target_SN.png,0.334481584,29,\r\nSocial Networking,Unscrambled,Icon_2_Target_SN.png,Icon_2_Control_SN.png,../User/Pictures/Social_Networking/Icon_2_Target_SN.png,../User/Pictures/Social_Networking/Icon_2_Control_SN.png,0.466167962,30,\r\nAlcohol,Scrambled,Poured_1_Control_A.png_Scrambled,Poured_1_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Poured_1_Control_A.png,../User/Pictures/Alcohol/Scrambled_Poured_1_Target_A.png,0.242266058,31,\r\nAlcohol,Unscrambled,Unopened_2_Target_A.png,Unopened_2_Control_A.png,../User/Pictures/Alcohol/Unopened_2_Target_A.png,../User/Pictures/Alcohol/Unopened_2_Control_A.png,0.345508537,32,\r\nSocial Networking,Unscrambled,Phone_4_Control_SN.png,Phone_4_Target_SN.png,../User/Pictures/Social_Networking/Phone_4_Control_SN.png,../User/Pictures/Social_Networking/Phone_4_Target_SN.png,0.345668856,33,\r\nAlcohol,Scrambled,Poured_2_Target_A.png_Scrambled,Poured_2_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Poured_2_Target_A.png,../User/Pictures/Alcohol/Scrambled_Poured_2_Control_A.png,0.301361585,34,\r\nSocial Networking,Scrambled,Icon_4_Control_SN.png_Scrambled,Icon_4_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Icon_4_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Icon_4_Target_SN.png,0.382404996,35,\r\nAlcohol,Unscrambled,Social_4_Target_A.png,Social_4_Control_A.png,../User/Pictures/Alcohol/Social_4_Target_A.png,../User/Pictures/Alcohol/Social_4_Control_A.png,0.385903059,36,\r\nSocial Networking,Scrambled,Phone_2_Target_SN.png_Scrambled,Phone_2_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Phone_2_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Phone_2_Control_SN.png,0.393425932,37,\r\nAlcohol,Unscrambled,Social_2_Control_A.png,Social_2_Target_A.png,../User/Pictures/Alcohol/Social_2_Control_A.png,../User/Pictures/Alcohol/Social_2_Target_A.png,0.429374099,38,\r\nAlcohol,Scrambled,Unopened_1_Target_A.png_Scrambled,Unopened_1_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Unopened_1_Target_A.png,../User/Pictures/Alcohol/Scrambled_Unopened_1_Control_A.png,0.441516365,39,\r\nSocial Networking,Unscrambled,Icon_5_Target_SN.png,Icon_5_Control_SN.png,../User/Pictures/Social_Networking/Icon_5_Target_SN.png,../User/Pictures/Social_Networking/Icon_5_Control_SN.png,0.444728684,40,\r\n,,,,,,,,",
          "gaze_pairs_a_sn_2.csv": "Task,Scrambled_Status,Name_1,Name_2,image_1,image_2,Random,Order,\r\nSocial Networking,Scrambled,Website_5_Target_SN.png_Scrambled,Website_5_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Website_5_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Website_5_Control_SN.png,0.455249287,41,\r\nAlcohol,Unscrambled,Location_3_Control_A.png,Location_3_Target_A.png,../User/Pictures/Alcohol/Location_3_Control_A.png,../User/Pictures/Alcohol/Location_3_Target_A.png,0.464347302,42,\r\nAlcohol,Scrambled,Unopened_5_Target_A.png_Scrambled,Unopened_5_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Unopened_5_Target_A.png,../User/Pictures/Alcohol/Scrambled_Unopened_5_Control_A.png,0.335038776,43,\r\nSocial Networking,Unscrambled,Website_5_Control_SN.png,Website_5_Target_SN.png,../User/Pictures/Social_Networking/Website_5_Control_SN.png,../User/Pictures/Social_Networking/Website_5_Target_SN.png,0.523180373,44,\r\nAlcohol,Scrambled,Unopened_2_Target_A.png_Scrambled,Unopened_2_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Unopened_2_Target_A.png,../User/Pictures/Alcohol/Scrambled_Unopened_2_Control_A.png,0.806233903,45,\r\nSocial Networking,Scrambled,Icon_2_Control_SN.png_Scrambled,Icon_2_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Icon_2_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Icon_2_Target_SN.png,0.506442548,46,\r\nSocial Networking,Unscrambled,Icon_4_Target_SN.png,Icon_4_Control_SN.png,../User/Pictures/Social_Networking/Icon_4_Target_SN.png,../User/Pictures/Social_Networking/Icon_4_Control_SN.png,0.535022228,47,\r\nAlcohol,Scrambled,Social_2_Control_A.png_Scrambled,Social_2_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Social_2_Control_A.png,../User/Pictures/Alcohol/Scrambled_Social_2_Target_A.png,0.537373383,48,\r\nSocial Networking,Scrambled,Icon_5_Control_SN.png_Scrambled,Icon_5_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Icon_5_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Icon_5_Target_SN.png,0.539776064,49,\r\nAlcohol,Unscrambled,Social_5_Target_A.png,Social_5_Control_A.png,../User/Pictures/Alcohol/Social_5_Target_A.png,../User/Pictures/Alcohol/Social_5_Control_A.png,0.953775654,50,\r\nSocial Networking,Scrambled,Misc_4_Target_SN.png_Scrambled,Misc_4_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Misc_4_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Misc_4_Control_SN.png,0.598850504,51,\r\nSocial Networking,Unscrambled,Misc_4_Control_SN.png,Misc_4_Target_SN.png,../User/Pictures/Social_Networking/Misc_4_Control_SN.png,../User/Pictures/Social_Networking/Misc_4_Target_SN.png,0.628398416,52,\r\nAlcohol,Scrambled,Social_1_Control_A.png_Scrambled,Social_1_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Social_1_Control_A.png,../User/Pictures/Alcohol/Scrambled_Social_1_Target_A.png,0.628481382,53,\r\nSocial Networking,Unscrambled,Phone_1_Target_SN.png,Phone_1_Control_SN.png,../User/Pictures/Social_Networking/Phone_1_Target_SN.png,../User/Pictures/Social_Networking/Phone_1_Control_SN.png,0.660614333,54,\r\nAlcohol,Unscrambled,Poured_2_Control_A.png,Poured_2_Target_A.png,../User/Pictures/Alcohol/Poured_2_Control_A.png,../User/Pictures/Alcohol/Poured_2_Target_A.png,0.680065572,55,\r\nSocial Networking,Scrambled,Website_2_Target_SN.png_Scrambled,Website_2_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Website_2_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Website_2_Control_SN.png,0.710318634,56,\r\nAlcohol,Scrambled,Poured_5_Control_A.png_Scrambled,Poured_5_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Poured_5_Control_A.png,../User/Pictures/Alcohol/Scrambled_Poured_5_Target_A.png,0.717288937,57,\r\nSocial Networking,Unscrambled,Misc_5_Control_SN.png,Misc_5_Target_SN.png,../User/Pictures/Social_Networking/Misc_5_Control_SN.png,../User/Pictures/Social_Networking/Misc_5_Target_SN.png,0.723434536,58,\r\nAlcohol,Unscrambled,Social_3_Target_A.png,Social_3_Control_A.png,../User/Pictures/Alcohol/Social_3_Target_A.png,../User/Pictures/Alcohol/Social_3_Control_A.png,0.810596627,59,\r\nSocial Networking,Scrambled,Website_3_Target_SN.png_Scrambled,Website_3_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Website_3_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Website_3_Control_SN.png,0.725385882,60,\r\nSocial Networking,Scrambled,Misc_5_Control_SN.png_Scrambled,Misc_5_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Misc_5_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Misc_5_Target_SN.png,0.735848671,61,\r\nAlcohol,Unscrambled,Unopened_4_Target_A.png,Unopened_4_Control_A.png,../User/Pictures/Alcohol/Unopened_4_Target_A.png,../User/Pictures/Alcohol/Unopened_4_Control_A.png,0.271173039,62,\r\nSocial Networking,Scrambled,Phone_3_Control_SN.png_Scrambled,Phone_3_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Phone_3_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Phone_3_Target_SN.png,0.723777123,63,\r\nAlcohol,Scrambled,Location_5_Target_A.png_Scrambled,Location_5_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Location_5_Target_A.png,../User/Pictures/Alcohol/Scrambled_Location_5_Control_A.png,0.829134357,64,\r\nSocial Networking,Unscrambled,Icon_3_Control_SN.png,Icon_3_Target_SN.png,../User/Pictures/Social_Networking/Icon_3_Control_SN.png,../User/Pictures/Social_Networking/Icon_3_Target_SN.png,0.926202262,65,\r\nAlcohol,Unscrambled,Social_1_Target_A.png,Social_1_Control_A.png,../User/Pictures/Alcohol/Social_1_Target_A.png,../User/Pictures/Alcohol/Social_1_Control_A.png,0.866652096,66,\r\nSocial Networking,Scrambled,Misc_3_Control_SN.png_Scrambled,Misc_3_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Misc_3_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Misc_3_Target_SN.png,0.847477665,67,\r\nAlcohol,Scrambled,Poured_3_Control_A.png_Scrambled,Poured_3_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Poured_3_Control_A.png,../User/Pictures/Alcohol/Scrambled_Poured_3_Target_A.png,0.850599763,68,\r\nSocial Networking,Unscrambled,Misc_1_Target_SN.png,Misc_1_Control_SN.png,../User/Pictures/Social_Networking/Misc_1_Target_SN.png,../User/Pictures/Social_Networking/Misc_1_Control_SN.png,0.855958299,69,\r\nAlcohol,Scrambled,Unopened_3_Target_A.png_Scrambled,Unopened_3_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Unopened_3_Target_A.png,../User/Pictures/Alcohol/Scrambled_Unopened_3_Control_A.png,0.872274402,70,\r\nSocial Networking,Unscrambled,Website_1_Control_SN.png,Website_1_Target_SN.png,../User/Pictures/Social_Networking/Website_1_Control_SN.png,../User/Pictures/Social_Networking/Website_1_Target_SN.png,0.842458716,71,\r\nAlcohol,Scrambled,Location_3_Control_A.png_Scrambled,Location_3_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Location_3_Control_A.png,../User/Pictures/Alcohol/Scrambled_Location_3_Target_A.png,0.877658468,72,\r\nSocial Networking,Unscrambled,Website_3_Target_SN.png,Website_3_Control_SN.png,../User/Pictures/Social_Networking/Website_3_Target_SN.png,../User/Pictures/Social_Networking/Website_3_Control_SN.png,0.951300005,73,\r\nAlcohol,Scrambled,Location_2_Control_A.png_Scrambled,Location_2_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Location_2_Control_A.png,../User/Pictures/Alcohol/Scrambled_Location_2_Target_A.png,0.918020874,74,\r\nAlcohol,Unscrambled,Unopened_5_Target_A.png,Unopened_5_Control_A.png,../User/Pictures/Alcohol/Unopened_5_Target_A.png,../User/Pictures/Alcohol/Unopened_5_Control_A.png,0.99735982,75,\r\nSocial Networking,Scrambled,Icon_3_Control_SN.png_Scrambled,Icon_3_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Icon_3_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Icon_3_Target_SN.png,0.829406677,76,\r\nSocial Networking,Unscrambled,Misc_3_Target_SN.png,Misc_3_Control_SN.png,../User/Pictures/Social_Networking/Misc_3_Target_SN.png,../User/Pictures/Social_Networking/Misc_3_Control_SN.png,0.931397827,77,\r\nAlcohol,Scrambled,Poured_4_Target_A.png_Scrambled,Poured_4_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Poured_4_Target_A.png,../User/Pictures/Alcohol/Scrambled_Poured_4_Control_A.png,0.595716622,78,\r\nAlcohol,Unscrambled,Unopened_3_Control_A.png,Unopened_3_Target_A.png,../User/Pictures/Alcohol/Unopened_3_Control_A.png,../User/Pictures/Alcohol/Unopened_3_Target_A.png,0.978351557,79,\r\nSocial Networking,Scrambled,Icon_1_Target_SN.png_Scrambled,Icon_1_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Icon_1_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Icon_1_Control_SN.png,0.898268979,80,\r\n,,,,,,,,",
          "gaze_pairs_a_sn_r1.csv": "Task,Scrambled_Status,Name_1,Name_2,image_1,image_2,Random,Order,\r\nSocial Networking,Scrambled,Icon_1_Control_SN.png_Scrambled,Icon_1_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Icon_1_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Icon_1_Target_SN.png,0.898268979,80,\r\nAlcohol,Unscrambled,Unopened_3_Target_A.png,Unopened_3_Control_A.png,../User/Pictures/Alcohol/Unopened_3_Target_A.png,../User/Pictures/Alcohol/Unopened_3_Control_A.png,0.978351557,79,\r\nAlcohol,Scrambled,Poured_4_Control_A.png_Scrambled,Poured_4_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Poured_4_Control_A.png,../User/Pictures/Alcohol/Scrambled_Poured_4_Target_A.png,0.595716622,78,\r\nSocial Networking,Unscrambled,Misc_3_Control_SN.png,Misc_3_Target_SN.png,../User/Pictures/Social_Networking/Misc_3_Control_SN.png,../User/Pictures/Social_Networking/Misc_3_Target_SN.png,0.931397827,77,\r\nSocial Networking,Scrambled,Icon_3_Target_SN.png_Scrambled,Icon_3_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Icon_3_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Icon_3_Control_SN.png,0.829406677,76,\r\nAlcohol,Unscrambled,Unopened_5_Control_A.png,Unopened_5_Target_A.png,../User/Pictures/Alcohol/Unopened_5_Control_A.png,../User/Pictures/Alcohol/Unopened_5_Target_A.png,0.99735982,75,\r\nAlcohol,Scrambled,Location_2_Target_A.png_Scrambled,Location_2_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Location_2_Target_A.png,../User/Pictures/Alcohol/Scrambled_Location_2_Control_A.png,0.918020874,74,\r\nSocial Networking,Unscrambled,Website_3_Control_SN.png,Website_3_Target_SN.png,../User/Pictures/Social_Networking/Website_3_Control_SN.png,../User/Pictures/Social_Networking/Website_3_Target_SN.png,0.951300005,73,\r\nAlcohol,Scrambled,Location_3_Target_A.png_Scrambled,Location_3_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Location_3_Target_A.png,../User/Pictures/Alcohol/Scrambled_Location_3_Control_A.png,0.877658468,72,\r\nSocial Networking,Unscrambled,Website_1_Target_SN.png,Website_1_Control_SN.png,../User/Pictures/Social_Networking/Website_1_Target_SN.png,../User/Pictures/Social_Networking/Website_1_Control_SN.png,0.842458716,71,\r\nAlcohol,Scrambled,Unopened_3_Control_A.png_Scrambled,Unopened_3_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Unopened_3_Control_A.png,../User/Pictures/Alcohol/Scrambled_Unopened_3_Target_A.png,0.872274402,70,\r\nSocial Networking,Unscrambled,Misc_1_Control_SN.png,Misc_1_Target_SN.png,../User/Pictures/Social_Networking/Misc_1_Control_SN.png,../User/Pictures/Social_Networking/Misc_1_Target_SN.png,0.855958299,69,\r\nAlcohol,Scrambled,Poured_3_Target_A.png_Scrambled,Poured_3_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Poured_3_Target_A.png,../User/Pictures/Alcohol/Scrambled_Poured_3_Control_A.png,0.850599763,68,\r\nSocial Networking,Scrambled,Misc_3_Target_SN.png_Scrambled,Misc_3_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Misc_3_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Misc_3_Control_SN.png,0.847477665,67,\r\nAlcohol,Unscrambled,Social_1_Control_A.png,Social_1_Target_A.png,../User/Pictures/Alcohol/Social_1_Control_A.png,../User/Pictures/Alcohol/Social_1_Target_A.png,0.866652096,66,\r\nSocial Networking,Unscrambled,Icon_3_Target_SN.png,Icon_3_Control_SN.png,../User/Pictures/Social_Networking/Icon_3_Target_SN.png,../User/Pictures/Social_Networking/Icon_3_Control_SN.png,0.926202262,65,\r\nAlcohol,Scrambled,Location_5_Control_A.png_Scrambled,Location_5_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Location_5_Control_A.png,../User/Pictures/Alcohol/Scrambled_Location_5_Target_A.png,0.829134357,64,\r\nSocial Networking,Scrambled,Phone_3_Target_SN.png_Scrambled,Phone_3_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Phone_3_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Phone_3_Control_SN.png,0.723777123,63,\r\nAlcohol,Unscrambled,Unopened_4_Control_A.png,Unopened_4_Target_A.png,../User/Pictures/Alcohol/Unopened_4_Control_A.png,../User/Pictures/Alcohol/Unopened_4_Target_A.png,0.271173039,62,\r\nSocial Networking,Scrambled,Misc_5_Target_SN.png_Scrambled,Misc_5_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Misc_5_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Misc_5_Control_SN.png,0.735848671,61,\r\nSocial Networking,Scrambled,Website_3_Control_SN.png_Scrambled,Website_3_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Website_3_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Website_3_Target_SN.png,0.725385882,60,\r\nAlcohol,Unscrambled,Social_3_Control_A.png,Social_3_Target_A.png,../User/Pictures/Alcohol/Social_3_Control_A.png,../User/Pictures/Alcohol/Social_3_Target_A.png,0.810596627,59,\r\nSocial Networking,Unscrambled,Misc_5_Target_SN.png,Misc_5_Control_SN.png,../User/Pictures/Social_Networking/Misc_5_Target_SN.png,../User/Pictures/Social_Networking/Misc_5_Control_SN.png,0.723434536,58,\r\nAlcohol,Scrambled,Poured_5_Target_A.png_Scrambled,Poured_5_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Poured_5_Target_A.png,../User/Pictures/Alcohol/Scrambled_Poured_5_Control_A.png,0.717288937,57,\r\nSocial Networking,Scrambled,Website_2_Control_SN.png_Scrambled,Website_2_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Website_2_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Website_2_Target_SN.png,0.710318634,56,\r\nAlcohol,Unscrambled,Poured_2_Target_A.png,Poured_2_Control_A.png,../User/Pictures/Alcohol/Poured_2_Target_A.png,../User/Pictures/Alcohol/Poured_2_Control_A.png,0.680065572,55,\r\nSocial Networking,Unscrambled,Phone_1_Control_SN.png,Phone_1_Target_SN.png,../User/Pictures/Social_Networking/Phone_1_Control_SN.png,../User/Pictures/Social_Networking/Phone_1_Target_SN.png,0.660614333,54,\r\nAlcohol,Scrambled,Social_1_Target_A.png_Scrambled,Social_1_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Social_1_Target_A.png,../User/Pictures/Alcohol/Scrambled_Social_1_Control_A.png,0.628481382,53,\r\nSocial Networking,Unscrambled,Misc_4_Target_SN.png,Misc_4_Control_SN.png,../User/Pictures/Social_Networking/Misc_4_Target_SN.png,../User/Pictures/Social_Networking/Misc_4_Control_SN.png,0.628398416,52,\r\nSocial Networking,Scrambled,Misc_4_Control_SN.png_Scrambled,Misc_4_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Misc_4_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Misc_4_Target_SN.png,0.598850504,51,\r\nAlcohol,Unscrambled,Social_5_Control_A.png,Social_5_Target_A.png,../User/Pictures/Alcohol/Social_5_Control_A.png,../User/Pictures/Alcohol/Social_5_Target_A.png,0.953775654,50,\r\nSocial Networking,Scrambled,Icon_5_Target_SN.png_Scrambled,Icon_5_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Icon_5_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Icon_5_Control_SN.png,0.539776064,49,\r\nAlcohol,Scrambled,Social_2_Target_A.png_Scrambled,Social_2_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Social_2_Target_A.png,../User/Pictures/Alcohol/Scrambled_Social_2_Control_A.png,0.537373383,48,\r\nSocial Networking,Unscrambled,Icon_4_Control_SN.png,Icon_4_Target_SN.png,../User/Pictures/Social_Networking/Icon_4_Control_SN.png,../User/Pictures/Social_Networking/Icon_4_Target_SN.png,0.535022228,47,\r\nSocial Networking,Scrambled,Icon_2_Target_SN.png_Scrambled,Icon_2_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Icon_2_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Icon_2_Control_SN.png,0.506442548,46,\r\nAlcohol,Scrambled,Unopened_2_Control_A.png_Scrambled,Unopened_2_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Unopened_2_Control_A.png,../User/Pictures/Alcohol/Scrambled_Unopened_2_Target_A.png,0.806233903,45,\r\nSocial Networking,Unscrambled,Website_5_Target_SN.png,Website_5_Control_SN.png,../User/Pictures/Social_Networking/Website_5_Target_SN.png,../User/Pictures/Social_Networking/Website_5_Control_SN.png,0.523180373,44,\r\nAlcohol,Scrambled,Unopened_5_Control_A.png_Scrambled,Unopened_5_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Unopened_5_Control_A.png,../User/Pictures/Alcohol/Scrambled_Unopened_5_Target_A.png,0.335038776,43,\r\nAlcohol,Unscrambled,Location_3_Target_A.png,Location_3_Control_A.png,../User/Pictures/Alcohol/Location_3_Target_A.png,../User/Pictures/Alcohol/Location_3_Control_A.png,0.464347302,42,\r\nSocial Networking,Scrambled,Website_5_Control_SN.png_Scrambled,Website_5_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Website_5_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Website_5_Target_SN.png,0.455249287,41,\r\n,,,,,,,,",
          "gaze_pairs_a_sn_r2.csv": "Task,Scrambled_Status,Name_1,Name_2,image_1,image_2,Random,Order,\r\nSocial Networking,Unscrambled,Icon_5_Control_SN.png,Icon_5_Target_SN.png,../User/Pictures/Social_Networking/Icon_5_Control_SN.png,../User/Pictures/Social_Networking/Icon_5_Target_SN.png,0.444728684,40,\r\nAlcohol,Scrambled,Unopened_1_Control_A.png_Scrambled,Unopened_1_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Unopened_1_Control_A.png,../User/Pictures/Alcohol/Scrambled_Unopened_1_Target_A.png,0.441516365,39,\r\nAlcohol,Unscrambled,Social_2_Target_A.png,Social_2_Control_A.png,../User/Pictures/Alcohol/Social_2_Target_A.png,../User/Pictures/Alcohol/Social_2_Control_A.png,0.429374099,38,\r\nSocial Networking,Scrambled,Phone_2_Control_SN.png_Scrambled,Phone_2_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Phone_2_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Phone_2_Target_SN.png,0.393425932,37,\r\nAlcohol,Unscrambled,Social_4_Control_A.png,Social_4_Target_A.png,../User/Pictures/Alcohol/Social_4_Control_A.png,../User/Pictures/Alcohol/Social_4_Target_A.png,0.385903059,36,\r\nSocial Networking,Scrambled,Icon_4_Target_SN.png_Scrambled,Icon_4_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Icon_4_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Icon_4_Control_SN.png,0.382404996,35,\r\nAlcohol,Scrambled,Poured_2_Control_A.png_Scrambled,Poured_2_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Poured_2_Control_A.png,../User/Pictures/Alcohol/Scrambled_Poured_2_Target_A.png,0.301361585,34,\r\nSocial Networking,Unscrambled,Phone_4_Target_SN.png,Phone_4_Control_SN.png,../User/Pictures/Social_Networking/Phone_4_Target_SN.png,../User/Pictures/Social_Networking/Phone_4_Control_SN.png,0.345668856,33,\r\nAlcohol,Unscrambled,Unopened_2_Control_A.png,Unopened_2_Target_A.png,../User/Pictures/Alcohol/Unopened_2_Control_A.png,../User/Pictures/Alcohol/Unopened_2_Target_A.png,0.345508537,32,\r\nAlcohol,Scrambled,Poured_1_Target_A.png_Scrambled,Poured_1_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Poured_1_Target_A.png,../User/Pictures/Alcohol/Scrambled_Poured_1_Control_A.png,0.242266058,31,\r\nSocial Networking,Unscrambled,Icon_2_Control_SN.png,Icon_2_Target_SN.png,../User/Pictures/Social_Networking/Icon_2_Control_SN.png,../User/Pictures/Social_Networking/Icon_2_Target_SN.png,0.466167962,30,\r\nSocial Networking,Scrambled,Phone_5_Target_SN.png_Scrambled,Phone_5_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Phone_5_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Phone_5_Control_SN.png,0.334481584,29,\r\nAlcohol,Unscrambled,Location_5_Target_A.png,Location_5_Control_A.png,../User/Pictures/Alcohol/Location_5_Target_A.png,../User/Pictures/Alcohol/Location_5_Control_A.png,0.317240541,28,\r\nSocial Networking,Unscrambled,Icon_1_Control_SN.png,Icon_1_Target_SN.png,../User/Pictures/Social_Networking/Icon_1_Control_SN.png,../User/Pictures/Social_Networking/Icon_1_Target_SN.png,0.316011621,27,\r\nAlcohol,Scrambled,Social_3_Target_A.png_Scrambled,Social_3_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Social_3_Target_A.png,../User/Pictures/Alcohol/Scrambled_Social_3_Control_A.png,0.302605896,26,\r\nSocial Networking,Unscrambled,Phone_3_Target_SN.png,Phone_3_Control_SN.png,../User/Pictures/Social_Networking/Phone_3_Target_SN.png,../User/Pictures/Social_Networking/Phone_3_Control_SN.png,0.519917895,25,\r\nAlcohol,Unscrambled,Poured_4_Control_A.png,Poured_4_Target_A.png,../User/Pictures/Alcohol/Poured_4_Control_A.png,../User/Pictures/Alcohol/Poured_4_Target_A.png,0.275252268,24,\r\nSocial Networking,Scrambled,Website_4_Control_SN.png_Scrambled,Website_4_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Website_4_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Website_4_Target_SN.png,0.361046363,23,\r\nSocial Networking,Unscrambled,Phone_2_Target_SN.png,Phone_2_Control_SN.png,../User/Pictures/Social_Networking/Phone_2_Target_SN.png,../User/Pictures/Social_Networking/Phone_2_Control_SN.png,0.245434122,22,\r\nAlcohol,Unscrambled,Poured_5_Target_A.png,Poured_5_Control_A.png,../User/Pictures/Alcohol/Poured_5_Target_A.png,../User/Pictures/Alcohol/Poured_5_Control_A.png,0.345222042,21,\r\nAlcohol,Scrambled,Unopened_4_Control_A.png_Scrambled,Unopened_4_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Unopened_4_Control_A.png,../User/Pictures/Alcohol/Scrambled_Unopened_4_Target_A.png,0.241421912,20,\r\nSocial Networking,Scrambled,Misc_1_Control_SN.png_Scrambled,Misc_1_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Misc_1_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Misc_1_Target_SN.png,0.233790555,19,\r\nSocial Networking,Unscrambled,Misc_2_Target_SN.png,Misc_2_Control_SN.png,../User/Pictures/Social_Networking/Misc_2_Target_SN.png,../User/Pictures/Social_Networking/Misc_2_Control_SN.png,0.227995904,18,\r\nAlcohol,Unscrambled,Location_1_Control_A.png,Location_1_Target_A.png,../User/Pictures/Alcohol/Location_1_Control_A.png,../User/Pictures/Alcohol/Location_1_Target_A.png,0.198334642,17,\r\nSocial Networking,Scrambled,Website_1_Target_SN.png_Scrambled,Website_1_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Website_1_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Website_1_Control_SN.png,0.027358379,16,\r\nAlcohol,Unscrambled,Location_2_Control_A.png,Location_2_Target_A.png,../User/Pictures/Alcohol/Location_2_Control_A.png,../User/Pictures/Alcohol/Location_2_Target_A.png,0.166810372,15,\r\nSocial Networking,Unscrambled,Phone_5_Target_SN.png,Phone_5_Control_SN.png,../User/Pictures/Social_Networking/Phone_5_Target_SN.png,../User/Pictures/Social_Networking/Phone_5_Control_SN.png,0.156125875,14,\r\nAlcohol,Scrambled,Location_1_Control_A.png_Scrambled,Location_1_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Location_1_Control_A.png,../User/Pictures/Alcohol/Scrambled_Location_1_Target_A.png,0.188646983,13,\r\nSocial Networking,Scrambled,Misc_2_Target_SN.png_Scrambled,Misc_2_Control_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Misc_2_Target_SN.png,../User/Pictures/Social_Networking/Scrambled_Misc_2_Control_SN.png,0.101954374,12,\r\nAlcohol,Unscrambled,Poured_3_Control_A.png,Poured_3_Target_A.png,../User/Pictures/Alcohol/Poured_3_Control_A.png,../User/Pictures/Alcohol/Poured_3_Target_A.png,0.068205754,11,\r\nAlcohol,Scrambled,Social_5_Target_A.png_Scrambled,Social_5_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Social_5_Target_A.png,../User/Pictures/Alcohol/Scrambled_Social_5_Control_A.png,0.09636974,10,\r\nSocial Networking,Unscrambled,Website_4_Target_SN.png,Website_4_Control_SN.png,../User/Pictures/Social_Networking/Website_4_Target_SN.png,../User/Pictures/Social_Networking/Website_4_Control_SN.png,0.070975165,9,\r\nAlcohol,Scrambled,Social_4_Control_A.png_Scrambled,Social_4_Target_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Social_4_Control_A.png,../User/Pictures/Alcohol/Scrambled_Social_4_Target_A.png,0.100927609,8,\r\nAlcohol,Unscrambled,Location_4_Target_A.png,Location_4_Control_A.png,../User/Pictures/Alcohol/Location_4_Target_A.png,../User/Pictures/Alcohol/Location_4_Control_A.png,0.066166088,7,\r\nSocial Networking,Scrambled,Phone_4_Control_SN.png_Scrambled,Phone_4_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Phone_4_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Phone_4_Target_SN.png,0.063335041,6,\r\nAlcohol,Unscrambled,Poured_1_Target_A.png,Poured_1_Control_A.png,../User/Pictures/Alcohol/Poured_1_Target_A.png,../User/Pictures/Alcohol/Poured_1_Control_A.png,0.059379086,5,\r\nSocial Networking,Scrambled,Phone_1_Control_SN.png_Scrambled,Phone_1_Target_SN.png_Scrambled,../User/Pictures/Social_Networking/Scrambled_Phone_1_Control_SN.png,../User/Pictures/Social_Networking/Scrambled_Phone_1_Target_SN.png,0.030445671,4,\r\nAlcohol,Unscrambled,Unopened_1_Control_A.png,Unopened_1_Target_A.png,../User/Pictures/Alcohol/Unopened_1_Control_A.png,../User/Pictures/Alcohol/Unopened_1_Target_A.png,0.119666411,3,\r\nSocial Networking,Unscrambled,Website_2_Target_SN.png,Website_2_Control_SN.png,../User/Pictures/Social_Networking/Website_2_Target_SN.png,../User/Pictures/Social_Networking/Website_2_Control_SN.png,0.026990945,2,\r\nAlcohol,Scrambled,Location_4_Target_A.png_Scrambled,Location_4_Control_A.png_Scrambled,../User/Pictures/Alcohol/Scrambled_Location_4_Target_A.png,../User/Pictures/Alcohol/Scrambled_Location_4_Control_A.png,0.023865481,1,\r\n,,,,,,,,"
        },
        "public_key": "pVgAk0x2zOd44zGViVY/8fOb0EwDiNY10/9KDxlVoQw=",
        "surveys": {
          "borcsok_ethics.csv": [
            [
              "item_name",
              "text",
              "Type",
              "Answers",
              "Values",
              "Optional",
              "side_by_side",
              "question_width",
              null
            ],
            [
              "Instructions1",
              "<h2>School of Psychology</h2>\r\n\r\n<h5>Earley Gate, <br>\r\nWhiteknights<br>\r\nPO Box 238, <br>\r\nReading <br>\r\nRG6 6AL, <br>\r\nUK</h5>\r\n\r\n<h6>phone\t+44 (0)118 378 8523</h6>\r\n<h6>fax\t+44 (0)118 378 6715</h6>\r\n<br>\r\n\r\n<h3>Title of Study: Investigating attentional biases to neutral and pleasant images: An eye-tracking study</h3>\r\n\r\n\r\n<h3>Information & Consent Sheet</h3>\r\n\r\n<h3>Researchers: </h3>\r\n<table>\r\n  <tr>\r\n  \r\n    <td>\r\n      <b>Supervisors:</b>\r\n    </td>\r\n    <td>\r\n      <b>Email:</b>\r\n    </td>\r\n    <td>\r\n      <b>Phone:</b>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      Dr Anthony Haffey      \r\n    </td>\r\n    <td>\r\n      Anthony.Haffey@reading.ac.uk\r\n    </td>\r\n    <td>\r\n      0118 378 8850\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      Dr Lily Fitzgibbon\r\n    </td>\r\n    <td>\r\n      l.t.fitzgibbon@reading.ac.uk\r\n    </td>\r\n    <td>\r\n      0118 378 8850\r\n    </td>\r\n  </tr>\r\n</table>\r\n<br>\r\n<br>\r\n\t\t\r\n<table>\r\n  <tr>\r\n    <td>\r\n      <b>Experimenters</b>\r\n    </td>\r\n    <td>\r\n      <b>Email</b>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      Rebecca Borcsok\r\n    </td>\r\n    <td>\r\n      r.borcsok@student.reading.ac.uk \r\n    </td>\r\n  </tr>\r\n</table>\r\n<br>\r\n\r\n<p>\r\nYou are being invited to take part in some research. Before you decide whether or not to participate, it is important for you to understand why the research is being conducted and what it will involve. Please read the following information carefully.  \r\n</p>\r\n\r\n\r\n<h4>What is the purpose of the research? </h4>\r\n<p>\r\nWe are conducting research exploring eye movements when viewing neutral or pleasant images. The purpose of the study is to determine if individual differences influence attentional behaviour. Your participation in this study will require one 30-minute session.  \r\n</p>\r\n\r\n<h4>Who is carrying out the research? </h4>\r\n<p>The data are being collected by Rebecca Borcsok, under the supervision of Dr Anthony Haffey and Dr Lily Fitzgibbon, in the School of Psychology and Clinical Language Sciences at University of Reading. The research has been approved by the School and University ethics committees. </p>\r\n\r\n<h4>What happens if I agree to take part? </h4>\r\n<p>If you agree to take part in this research, you will be asked to take part in a task where you will view matched pairs of images, whilst your eye movements are recorded. You will also be asked to complete a video-game style task, which records your decision-making. After the two tasks, you will also be asked to complete some questionnaires, including some that ask about your alcohol and gambling behaviours. At the end of the study, you will be debriefed on the tasks you have completed and given further information on the aims of the study. </p>\r\n\r\n<h4>Are there any risks associated with taking part?</h4> \r\n<p>One risk of taking part in this study is the issue of confidentiality. To ensure that information about your personal use of alcohol or gambling behaviour is known by to as few members of the research team as possible, this information will be held by Rebecca Borcsok only, until the study is complete. You will be identified by code only during the study, so you cannot be matched with information about alcohol use or gambling. After the study is complete, all identifying information will be removed, and only subject codes (and non-identifying information) would be matched to information about your alcohol use and gambling behaviour. </p>\r\n\r\n<h4>What will happen to the information I provide?</h4> \r\n<p>Your data will be kept confidential and securely stored, with only an anonymous number identifying it. Information linking that number to your name will be stored securely and separately from the data you provide us. All identifiable information collected for the project, such as the consent form, will be destroyed after a period of 60 months from the when the completion of the project has elapsed. </p>\r\n<p>An analysis of the information will form part of our report at the end of the study and may be presented to interested parties and published in scientific journals and related media.  Note that all information presented in any reports or publications will be anonymous and unidentifiable.</p>\r\n\r\n<h4>Is participation voluntary and what if I wish to later withdraw? </h4>\r\n<p>Taking part in this study is completely voluntary; you may withdraw at any time without having to give any reason. Please feel free to ask any questions that you may have about this study at any point.</p>\r\n\r\n<h4>What if I have other questions? </h4>\r\n<p>If you have further questions about this study, please do not hesitate to contact the student experimenter or supervisors listed above.</p>",
              "Instruct",
              "",
              "",
              "",
              "",
              null,
              null
            ],
            [
              "info_questions",
              "I confirm that I have read the information sheet for this study. I have had the opportunity to consider the information, ask questions and have had these answered satisfactorily.",
              "likert",
              "Agree",
              "1",
              "No",
              "yes",
              "80%"
            ],
            [
              "info_confidential",
              "I understand that all personal information will remain confidential to the Investigator and arrangements for the storage and eventual disposal of any identifiable material have been made clear to me.",
              "likert",
              "Agree",
              "1",
              "No",
              "yes",
              "80%",
              null
            ],
            [
              "info_voluntary",
              "I understand that participation in this study is voluntary and that I can withdraw at any time without having to give an explanation.",
              "likert",
              "Agree",
              "1",
              "No",
              "yes",
              "80%",
              null
            ],
            [
              "Info_Accept",
              "I am happy to proceed with my participation.",
              "likert",
              "Agree",
              "1",
              "No",
              "yes",
              "80%",
              null
            ],
            [
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null
            ]
          ],
          "info_jf1.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "optional",
              "side_by_side",
              ""
            ],
            [
              "Instructions1",
              "<div align=\"right\">School of Psychology and Clinical Language Sciences<br>\r\nWhiteknights<br>\r\nReading RG6 6AL</div>\r\n<h2>University of Reading</h2><br>\r\n<h2>Title of Study: Investigating attentional biases to neutral and pleasant images 2: An eye-tracking study</h2><br>\r\n<h2>PARTICIPANT INFORMATION SHEET </h2>\r\n\r\n<br>\r\n<table class=\"table\">\r\n  <tr>\r\n    <td><b>Investigator(s):</b></td>\r\n    <td><b>Email:</b></td>\r\n    <td><b>Telephone:</b></td>\r\n  </tr>\r\n    <tr>\r\n    <td>Anthony Haffey</td>\r\n    <td>anthony.haffey@reading.ac.uk</td>\r\n    <td>-01183788523-</td>\r\n  </tr>\r\n  <tr>\r\n    <td>Chen Zhao</td>\r\n    <td>c.zhao5@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n<tr>\r\n    <td>Nicholas Hedger</td>\r\n    <td>n.hedger@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n  <tr>\r\n    <td><b>Researcher(s):</b></td>\r\n  </tr>\r\n  <tr>\r\n    <td>Joe Forrest</td>\r\n    <td>j.forrest@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n</table>\r\n\r\nWe would be grateful if you could assist us by participating in our online study. <br>\r\n<br>\r\n<b> What is the study investigating? </b> <br>\r\nWe are investigating behaviour related to addiction. In this research you will complete questionnaires, some of which relate to depression, addiction, alcohol, social networking and difficult experiences from childhood, and an eye-tracking task when viewing pairs of images including images involving alcohol and social networking. The eye-tracking will just use the web-camera on your device and does not require wearing any device. The task tends to work much better on laptops than desktops with mounted cameras so we would recommend continuing or restarting the task on a laptop. The purpose of the study is to determine if individual differences influence attentional behaviour. Your participation in this study will require one 30-minute session.  \r\n<br><br>\r\n<b> What data be stored? </b> <br>\r\nWe will use your webcam to track where you are looking during the eye tracking task. You do not need any specialist equipment for this task - just a webcam. Furthermore, and most importantly, we will not record any videos or pictures, but only the co-ordinates of where we think you are looking. We will also store your questionnaire results.<br>\r\n<br>\r\n<b> How will my data be stored? </b> <br>\r\nYour data will be kept confidential and securely stored, with only an anonymous number identifying it. Data collected from this study will be preserved and made publicly available in anonymised form, so that data can be re-used by others. No video will be collected or stored, your webcam will only be used to estimate where you are looking on the screen.<br>\r\n<br>\r\n<b>Are there any risks associated with taking part?</b><br>Some of the questionnaires may include material of a sensitive nature. Thus, the study may include a mild risk of anxiety, sadness or other emotional reactions. <br>\r\n<br>\r\n<b> Do I have to take part? </b> <br>\r\nTaking part in this study is completely voluntary; you may withdraw at any time without having to give any reason. <br>\r\n<br>\r\n<b> Will I be compensated?</b><br>\r\n <H1>You will receive 0.5 credits through SONA.</H1><br>\r\n<br>\r\nThis application has been reviewed by the University Research Ethics Committee and has been given a favourable ethical opinion for conduct <H1>([SREC OR UREC NUMBER])</H1>.<br>\r\n<br>\r\nIf you have any questions or concerns about the research, please feel free to contact Joe Forrest or Anthony Haffey using the details above.<br>\r\n<br>\r\nThank you for your help.",
              "instruct",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "",
              ""
            ]
          ],
          "consent_jf1.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "optional",
              "side_by_side",
              "question_width",
              ""
            ],
            [
              "Instructions1",
              "<div align=\"right\">School of Psychology and Clinical Language Sciences<br>\r\nWhiteknights<br>\r\nReading RG6 6AL</div><h2>University of Reading</h2><br>\r\n<h2>Title of Study: Investigating attentional biases to neutral and pleasant images 2: An eye-tracking study </h2> <br>\r\n<h2>Consent Form</h1>\r\n<br>\r\n<table class=\"table\">\r\n  <tr>\r\n    <td><b>Investigator(s):</b></td>\r\n    <td><b>Email:</b></td>\r\n    <td><b>Telephone:</b></td>\r\n  </tr>\r\n  <tr>\r\n    <td>Anthony Haffey</td>\r\n    <td>anthony.haffey@reading.ac.uk</td>\r\n    <td>-0118 378 8850-</td>\r\n  </tr>\r\n  <tr>\r\n    <td>Chen Zhao</td>\r\n    <td>c.zhao5@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n<tr>\r\n    <td>Nicholas Hedger</td>\r\n    <td>n.hedger@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n  <tr>\r\n    <td><b>Researcher(s):</b></td>\r\n  </tr>\r\n  <tr>\r\n    <td>Joe Forrest</td>\r\n    <td>j.forrest@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n</table>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "uor_consent_1",
              "I understand that my participation in this study is voluntary and that I may withdraw any time without giving any reason.",
              "checkbox",
              "Agree",
              "1",
              "No",
              "yes",
              "70%",
              ""
            ],
            [
              "uor_consent_2",
              "I have read the information sheet about this study and the procedure of the study has been explained to me.",
              "checkbox",
              "Agree",
              "1",
              "No",
              "yes",
              "70%",
              ""
            ],
            [
              "uor_consent_3",
              "I have been given the opportunity to ask any questions that I may have about the study and these have been answered to my satisfaction.",
              "checkbox",
              "Agree",
              "1",
              "No",
              "yes",
              "70%",
              ""
            ],
            [
              "uor_consent_4",
              "I understand that the data collected from me in this study will be preserved and made available in anonymised form, so that they can be consulted and re-used by others.",
              "checkbox",
              "Agree",
              "1",
              "No",
              "yes",
              "70%",
              ""
            ],
            [
              "uor_consent_5",
              "I am happy to be contacted about future studies (optional)",
              "checkbox",
              "Agree",
              "1",
              "Yes",
              "yes",
              "70%",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ],
          "modified_childhood_experiences.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "score:adverse_ce_total",
              "optional",
              "btn_width",
              "logic",
              "checkbox_",
              "other",
              ""
            ],
            [
              "Instructions1",
              "<span style='color:#006699'><span style='font-size:20px'>Choose one response that best describes how strongly each item applies to you. <br> Prior to your 18th birthday:</span></span>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "mce_1",
              "1. Did a parent or other adult in the household often or very often…<br> Swear at you, insult you, put you down, or humiliate you? Or <br> Act in a way that made you afraid that you might be physically hurt?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "",
              "",
              "",
              ""
            ],
            [
              "mce_2",
              "2. Did a parent or other adult in the household often or very often… <br> Push, grab, slap or throw something at you? Or <br> Ever hit you so hard that you had marks or were injured?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "",
              "",
              "",
              ""
            ],
            [
              "mce_3",
              "3. Did you often or very often feel that…<br> No one in your family loved you or thought you were important or special? Or Your family didn't look out for each other, feel close to each other, or support each other?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "",
              "",
              "",
              ""
            ],
            [
              "mce_4",
              "4. Did you often or very often feel that… <br> You didn't have enough to eat, had to wear dirty clothes, and had no one to protect you? Or <br> Your parents were too drunk or high to take care of you or take you to the doctor if you needed it?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "",
              "",
              "",
              ""
            ],
            [
              "mce_5",
              "5. Was your mother or stepmother: <br> Often or very often pushed, grabbed, slapped, or had something thrown at her? Or <br> Sometimes, often, or very often kicked, bitten, hit with a fist or something hard? Or <br> Ever repeatedly hit over at least a few minutes or threatened with a gun or knife?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "",
              "",
              "",
              ""
            ],
            [
              "mce_6",
              "6. How frequently did anyone in your household drink too much alcohol?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "LOGIC REQUIRED",
              "use checkbox",
              "",
              ""
            ],
            [
              "mce_6a",
              "If yes to above, Which members of your household drank too much?",
              "checkbox",
              "Parent|Sibling|Aunt/Uncle|Grandparent",
              "Parent|Sibling|Aunt/Uncle|Grandparent",
              "",
              "Yes",
              "",
              "",
              "",
              "yes",
              ""
            ],
            [
              "mce_7",
              "7. How frequently did anyone in your household do street-drugs?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "LOGIC REQUIRED",
              "use checkbox",
              "",
              ""
            ],
            [
              "mce_7a",
              "If yes to above, Which members of your household did street drugs?",
              "checkbox",
              "Parent|Sibling|Aunt/Uncle|Grandparent",
              "Parent|Sibling|Aunt/Uncle|Grandparent",
              "",
              "Yes",
              "",
              "",
              "",
              "yes",
              ""
            ],
            [
              "mce_8",
              "8. How frequently was a household member struggling with mental health problems such as depression, anxiety or psychosis?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "",
              "",
              "",
              ""
            ],
            [
              "mce_9",
              "9. How frequently did household members have legal problems?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "",
              "",
              "",
              ""
            ],
            [
              "mce_10",
              "10. How often was a family member absent through divorce, abandonment, or other reason?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "",
              "",
              "",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ],
          "barratt-impulsiveness.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "optional",
              "score:reappraisal",
              "score:suppression",
              "btn_width",
              "side_text",
              ""
            ],
            [
              "gross_instructions",
              "We would like to ask you some questions about your emotional life, in particular, how\r\nyou control (that is, regulate and manage) your emotions. The questions below involve\r\ntwo distinct aspects of your emotional life. One is your <b><u>emotional experience</u></b>, or what\r\nyou feel like inside. The other is your <b><u>emotional expression</u></b>, or how you show your\r\nemotions in the way you talk, gesture, or behave. Although some of the following\r\nquestions may seem similar to one another, they differ in important ways.",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "Reappraisal1",
              "When I want to feel more positive emotion (such as joy or amusement), I change what I'm thinking about.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Excessive_Suppression_1",
              "I keep my emotions to myself.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "",
              "1",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_2",
              "When I want to feel less negative emotion (such as sadness or anger), I change what I'm thinking about.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Excessive_Suppression_2",
              "When I am feeling positive emotions, I am careful not to express them.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "",
              "1",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_3",
              "When I'm faced with a stressful situation, I make myself think about it in a way that helps me stay calm.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Excessive_Suppression_3",
              "I control my emotions by not expressing them.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "",
              "1",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_4",
              "When I want to feel more positive emotion, I change the way I'm thinking about the situation.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_5",
              "I control my emotions by changing the way I think about the situation I'm in.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Excessive_Suppression_4",
              "When I am feeling negative emotions, I make sure not to express them.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "",
              "1",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_6",
              "When I want to feel less negative emotion, I change the way I'm thinking about the situation.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ],
          "pathological_narcissism.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "score:grandiose_total",
              "score:vulnerable",
              "optional",
              "btn_width",
              "side_text",
              ""
            ],
            [
              "Instructions1",
              "<span style='color:#006699'><span style='font-size:20px'>For the following items, please reply from 0 (not at all like me)to 5 (very much like me) </span></span>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "pni1",
              "1. I can usually talk my way out of anything.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni2",
              "2. When people don’t notice me, I start to feel bad about myself.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni3",
              "3. I often hide my needs for fear that others will see me as needy and desperate.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni4",
              "4. I can make anyone believe anything I want them to.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni5",
              "5. I get annoyed by people who are not interested in what I say or do.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni6",
              "6. I find it easy to manipulate people.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni7",
              "7. Sometimes I avoid people because I’m concerned that they’ll disappoint me.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni8",
              "8. I typically get very angry when I’m unable to get what I want from others.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni9",
              "9. When others don’t meet my expectations, I often feel ashamed about what I wanted.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni10",
              "10. I feel important when others rely on me.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni11",
              "11. I can read people like a book.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni12",
              "12. Sacrificing for others makes me the better person.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni13",
              "13. I often fantasize about accomplishing things that are probably beyond my means.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni14",
              "14. Sometimes I avoid people because I’m afraid they won’t do what I want them to do.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni15",
              "15. It’s hard to show others the weaknesses I feel inside.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni16",
              "16. It’s hard to feel good about myself unless I know other people admire me.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni17",
              "17. I often fantasize about being rewarded for my efforts.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni18",
              "18. I am preoccupied with thoughts and concerns that most people are not interested in me.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni19",
              "19. I like to have friends who rely on me because it makes me feel important.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni20",
              "20. Sometimes I avoid people because I’m concerned they won’t acknowledge what I do for them.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni21",
              "21. It’s hard for me to feel good about myself unless I know other people like me.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni22",
              "22. It irritates me when people don’t notice how good a person I am.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni23",
              "23. I will never be satisfied until I get all that I deserve.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni24",
              "24. I try to show what a good person I am through my sacrifices.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni25",
              "25. I often fantasize about performing heroic deeds.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni26",
              "26. I often fantasize about being recognized for my accomplishments.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni27",
              "27. I can’t stand relying on other people because it makes me feel weak.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni28",
              "28. When others get a glimpse of my needs, I feel anxious and ashamed.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ],
          "audit.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "score:audit",
              "optional",
              "btn_width",
              ""
            ],
            [
              "Instructions1",
              "<span style='color:#006699'><span style='font-size:20px'><b> INSTRUCTIONS </b> <br> For question 1-8, please answer based on how much you drank <b> in the last 12 months </b> <br> For q9 and 10 please answer generally <br><br>Consider a drink to be one shot of spirit (25ml), half a pint of beer/cider (284ml) or a small glass of wine (125ml) </span></span>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "audit1",
              "1. How often did you have a drink containing alcohol?",
              "likert",
              "Never|Monthly or less|Two to four times a month|Two to three times a week|Four or more times a week",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "audit2",
              "2. How many drinks containing alcohol did you have on a typical day when you are drinking?",
              "likert",
              "1 or 2|3 or 4|5 or 6|7 to 9|10 or more",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "audit3",
              "3. How often did you have six or more drinks on one occasion?",
              "likert",
              "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "audit4",
              "4. How often did you find that you were not able to stop drinking once you had started?",
              "likert",
              "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "audit5",
              "5. How often did you fail to do what was normally expected from you because of drinking?",
              "likert",
              "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "audit6",
              "6. How often did you need a first drink in the morning to get yourself going after a heavy drinking session?",
              "likert",
              "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "audit7",
              "7. How often did you had a feeling of guilt or remorse after drinking?",
              "likert",
              "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "audit8",
              "8. How often were you unable to remember what happened the night before because you had been drinking?",
              "likert",
              "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "audit9",
              "9. Have you or someone else been injured as a result of your drinking?",
              "likert",
              "No|Yes, but not in the last year|Yes, during the last year",
              "0|2|4",
              "1",
              "No",
              "166px",
              ""
            ],
            [
              "audit10",
              "10. Has a relative, or friend, or a doctor or other health worker been concerned about your drinking or suggested you cut down?",
              "likert",
              "No|Yes, but not in the last year|Yes, during the last year",
              "0|2|4",
              "1",
              "No",
              "166px",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ],
          "social_media_disorder.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "score:social_media_disorder",
              "score:platforms",
              "score:wake_up_time",
              "optional",
              "btn_width",
              "original value",
              "other",
              ""
            ],
            [
              "Instructions1",
              "<span style='color:#006699'><span style='font-size:20px'>Please answer these questions about your social media use: </span></span><br>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "sm1",
              "Which of the following social media platforms do you regularly visit?",
              "checkbox",
              "Facebook|Instagram|Snapchat|Tiktok|Twitter|None",
              "1|2|3|4|5|6",
              "",
              "1",
              "",
              "No",
              "",
              "",
              "yes",
              ""
            ],
            [
              "sm2",
              "Which of the following social media platforms do you regularly upload content to?",
              "checkbox",
              "Facebook|Instagram|Snapchat|Tiktok|Twitter|None",
              "1|2|3|4|5|6",
              "",
              "1",
              "",
              "No",
              "",
              "",
              "yes",
              ""
            ],
            [
              "Instructions2",
              "<span style='color:#006699'><span style='font-size:20px'>During the past year, have you … </span></span>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "recoded1",
              "… regularly neglected other activities (e.g. hobbies, sport) because you wanted to use social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn24",
              "",
              ""
            ],
            [
              "recoded2",
              "… often found it difficult not to look at messages on social media when you were doing something else (e.g. school work)?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn1",
              "",
              ""
            ],
            [
              "recoded3",
              "… often used social media so you didn't have to think about unpleasant things?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn14",
              "",
              ""
            ],
            [
              "recoded4",
              "… often felt tense or restless if you weren't able to look at your messages on social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn7",
              "",
              ""
            ],
            [
              "recoded5",
              "… tried to spend less time on social media, but failed?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn11",
              "",
              ""
            ],
            [
              "recoded6",
              "… felt the need to check messages on social media more and more often?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn5",
              "",
              ""
            ],
            [
              "recoded7",
              "… tried to reduce your use of social media, but failed?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn10",
              "",
              ""
            ],
            [
              "recoded8",
              "… often sat waiting until something happens on social media again?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn3",
              "",
              ""
            ],
            [
              "recoded9",
              "… regularly lied to your parents or friends about the amount of time you spend on social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn19",
              "",
              ""
            ],
            [
              "recoded10",
              "… regularly felt angry or frustrated if you weren't able to use social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn8",
              "",
              ""
            ],
            [
              "recoded11",
              "… often used social media secretly?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn21",
              "",
              ""
            ],
            [
              "recoded12",
              "… been unable to stop using social media, even though others told you that you really should?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn12",
              "",
              ""
            ],
            [
              "recoded13",
              "… regularly had no interest in hobbies or other activities because you would rather use social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn23",
              "",
              ""
            ],
            [
              "recoded14",
              "… often felt bad when you could not use social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn9",
              "",
              ""
            ],
            [
              "recoded15",
              "… often used social media to escape from negative feelings?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn15",
              "",
              ""
            ],
            [
              "recoded16",
              "… had serious conflict with your parent(s) and sibling(s) because of your social media use?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn26",
              "",
              ""
            ],
            [
              "recoded17",
              "… had serious problems at school or at work because you were spending too much time on social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn25",
              "",
              ""
            ],
            [
              "recoded18",
              "… regularly found that you can't think of anything else but the moment that you will be able to use social media again?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn2",
              "",
              ""
            ],
            [
              "recoded19",
              "… regularly had arguments with others because of your social media use?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn18",
              "",
              ""
            ],
            [
              "recoded20",
              "…jeopardised or lost an important friendship or relationship because you were spending too much time on social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn27",
              "",
              ""
            ],
            [
              "recoded21",
              "… regularly felt dissatisfied because you wanted to spend more time on social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn6",
              "",
              ""
            ],
            [
              "recoded22",
              "… regularly used social media to take your mind off your problems?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn13",
              "",
              ""
            ],
            [
              "recoded23",
              "… regularly not had enough sleep because you were using social media too late at night?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn17",
              "",
              ""
            ],
            [
              "recoded24",
              "… regularly devoted no attention to people around you (e.g. family or friends) because you were using social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn22",
              "",
              ""
            ],
            [
              "recoded25",
              "… felt the need to use social media more and more often?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn4",
              "",
              ""
            ],
            [
              "recoded26",
              "… regularly hidden your social media use from others?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn20",
              "",
              ""
            ],
            [
              "recoded27",
              "… often not paid attention at school, while doing homework or at work because you were using social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn16",
              "",
              ""
            ],
            [
              "recoded28",
              "How long after you wake up do you check social media? Please enter an answer in MINUTES. <br> If you do NOT own any social media accounts, please enter 10000",
              "number",
              "",
              "",
              "",
              "",
              "1",
              "No",
              "",
              "sn28",
              "",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ],
          "phq9.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "score: mce_total",
              "optional",
              "btn_width",
              ""
            ],
            [
              "Instructions1",
              "<span style='color:#006699'><span style='font-size:20px'><b> INSTRUCTIONS </b> <br> Please answer the following questions </br> Over the last two weeks, how often have you been bothered by any of the following problems? </span></span>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "PHQ9_1",
              "1. Little interest or pleasure in doing things?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_2",
              "2. Feeling down, depressed, or hopeless?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_3",
              "3. Trouble falling or staying asleep, or sleeping too much?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_4",
              "4. Feeling tired or having little energy?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_5",
              "5. Poor appetite or overeating?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_6",
              "6. Feeling bad about yourself - or that you are a failure or have let yourself or your family down?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_7",
              "7. Trouble concentrating on things, such as reading the newspaper or watching the television?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_8",
              "8. Moving or speaking so slowly that other people could have noticed? <br> Or the opposite - being so fidgety or restless that you have been moving around a lot more than usual?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_9",
              "9. Thoughts that you would be better off dead, or of hurting yourself in some way?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              null
            ],
            [
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null
            ]
          ],
          "emotion_regulation.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "score: mce_total",
              "optional",
              "btn_width",
              ""
            ],
            [
              "Instructions1",
              "<span style='color:#006699'><span style='font-size:20px'><b> INSTRUCTIONS </b> <br> We would like to ask you  some questions about your emotional life, in particular, how you control (that is, regulate and manage) your emotions. The questions below involve two distinct aspects of your <b><u> emotional experience </b> </u></span></span>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "PHQ9_1",
              "1. Little interest or pleasure in doing things?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_2",
              "2. Feeling down, depressed, or hopeless?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_3",
              "3. Trouble falling or staying asleep, or sleeping too much?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_4",
              "4. Feeling tired or having little energy?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_5",
              "5. Poor appetite or overeating?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_6",
              "6. Feeling bad about yourself - or that you are a failure or have let yourself or your family down?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_7",
              "7. Trouble concentrating on things, such as reading the newspaper or watching the television?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_8",
              "8. Moving or speaking so slowly that other people could have noticed? <br> Or the opposite - being so fidgety or restless that you have been moving around a lot more than usual?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              null
            ]
          ],
          "debrief_jf1.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "optional",
              "side_by_side",
              ""
            ],
            [
              "Instructions1",
              "<div align=\"right\">School of Psychology and Clinical Language Sciences<br>\r\nWhiteknights<br>\r\nReading RG6 6AL</div>\r\n<h2>University of Reading</h2><br>\r\n<h2>Title of Study: Investigating attentional biases to neutral and pleasant images 2: An eye-tracking study</h2><br>\r\n<h2>Debrief </h2>\r\n\r\n<br>\r\n<table class=\"table\">\r\n  <tr>\r\n    <td><b>Investigator(s):</b></td>\r\n    <td><b>Email:</b></td>\r\n    <td><b>Telephone:</b></td>\r\n  </tr>\r\n    <tr>\r\n    <td>Anthony Haffey</td>\r\n    <td>anthony.haffey@reading.ac.uk</td>\r\n    <td>-01183788523-</td>\r\n  </tr>\r\n  <tr>\r\n    <td>Chen Zhao</td>\r\n    <td>c.zhao5@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n<tr>\r\n    <td>Nicholas Hedger</td>\r\n    <td>n.hedger@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n  <tr>\r\n    <td><b>Researcher(s):</b></td>\r\n  </tr>\r\n  <tr>\r\n    <td>Joe Forrest</td>\r\n    <td>j.forrest@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n</table>\r\n\r\nThank you for participating in our study. <br>\r\nWe were interested in examining how self-reported social networking, alcohol addiction and other personality traits predict which images you looked longer at.\r\nWe are interested in whether you looked longer at images associated with addictive stimuli, i.e. alcohol or social networking, compared to visually similar images.<br><br>\r\nFollowing this debrief, we would like to remind you that you are free to withdraw your data at any time without needing to provide a reason. \r\nIf you feel any adverse effects from the study in general, you can contact the principle supervisor Dr Anthony Haffey or the postgraduate researcher, \r\nJoseph Forrest, via the contact information provided on this debrief sheet.<br><br>\r\nIf you still have concerns, sources of support will also be provided on the next page.",
              "instruct",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "",
              ""
            ]
          ],
          "sources_of_support_jf1.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "optional",
              "side_by_side",
              ""
            ],
            [
              "Instructions1",
              "<div align=\"right\">School of Psychology and Clinical Language Sciences<br>\r\nWhiteknights<br>\r\nReading RG6 6AL</div>\r\n<h2>University of Reading</h2><br>\r\n<h2>Title of Study: Investigating attentional biases to neutral and pleasant images 2: An eye-tracking study</h2><br>\r\n<h2>Debrief </h2>\r\n\r\n<br>\r\n<table class=\"table\">\r\n  <tr>\r\n    <td><b>Investigator(s):</b></td>\r\n    <td><b>Email:</b></td>\r\n    <td><b>Telephone:</b></td>\r\n  </tr>\r\n    <tr>\r\n    <td>Anthony Haffey</td>\r\n    <td>anthony.haffey@reading.ac.uk</td>\r\n    <td>-01183788523-</td>\r\n  </tr>\r\n  <tr>\r\n    <td>Chen Zhao</td>\r\n    <td>c.zhao5@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n<tr>\r\n    <td>Nicholas Hedger</td>\r\n    <td>n.hedger@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n  <tr>\r\n    <td><b>Researcher(s):</b></td>\r\n  </tr>\r\n  <tr>\r\n    <td>Joe Forrest</td>\r\n    <td>j.forrest@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n</table>\r\nIf you feel affected by the issues raised in the study, and your concerns about these issues remain after you have completed the session, you can contact the researchers listed above. However, there are other external sources of support that should be able to address your concerns, as listed:\r\n<br><br>\r\n<ul style=\"list-style-type:disc\">\r\n         <li>NHS online: www.NHS.uk if you are concerned about your alcohol and/or social networking behaviours \r\n</li>\r\n         <li>Mind: www.mind.org.uk if you wish to seek mental health support on alcohol and/or social networking behaviour\r\n</li>\r\n         <li>University of Reding Counselling Services: http://www.reading.ac.uk/internal/staffportal/SASstaff/SASwellbeing  provides 24/7 online support for students. You can also use this website to book an appointment to meet with a counsellor, if you prefer. \r\n</li>\r\n<li>Your General Practitioner (GP): https://www.nhs.uk/using-the-nhs/nhs-services/gps/gp-online-services  you can book an appointment online to meet with your GP, if you wish to seek help around alcohol and/or gambling behaviour. \r\n</li>\r\n      </ul>",
              "instruct",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "",
              ""
            ]
          ],
          "erq.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "optional",
              "score:reappraisal",
              "score:suppression",
              "btn_width",
              "side_text",
              ""
            ],
            [
              "gross_instructions",
              "We would like to ask you some questions about your emotional life, in particular, how\r\nyou control (that is, regulate and manage) your emotions. The questions below involve\r\ntwo distinct aspects of your emotional life. One is your <b><u>emotional experience</u></b>, or what\r\nyou feel like inside. The other is your <b><u>emotional expression</u></b>, or how you show your\r\nemotions in the way you talk, gesture, or behave. Although some of the following\r\nquestions may seem similar to one another, they differ in important ways.",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "Reappraisal1",
              "When I want to feel more positive emotion (such as joy or amusement), I change what I'm thinking about.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Excessive_Suppression_1",
              "I keep my emotions to myself.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "",
              "1",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_2",
              "When I want to feel less negative emotion (such as sadness or anger), I change what I'm thinking about.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Excessive_Suppression_2",
              "When I am feeling positive emotions, I am careful not to express them.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "",
              "1",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_3",
              "When I'm faced with a stressful situation, I make myself think about it in a way that helps me stay calm.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Excessive_Suppression_3",
              "I control my emotions by not expressing them.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "",
              "1",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_4",
              "When I want to feel more positive emotion, I change the way I'm thinking about the situation.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_5",
              "I control my emotions by changing the way I think about the situation I'm in.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Excessive_Suppression_4",
              "When I am feeling negative emotions, I make sure not to express them.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "",
              "1",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_6",
              "When I want to feel less negative emotion, I change the way I'm thinking about the situation.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ],
          "phq_9_adjusted.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "score:phq9",
              "optional",
              "btn_width",
              ""
            ],
            [
              "Instructions1",
              "<span style='color:#006699'><span style='font-size:20px'><b> INSTRUCTIONS </b> <br> Please answer the following questions </br> Over the last two weeks, how often have you been bothered by any of the following problems? </span></span>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "PHQ9_1",
              "1. Little interest or pleasure in doing things?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_2",
              "2. Feeling down, depressed, or hopeless?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_3",
              "3. Trouble falling or staying asleep, or sleeping too much?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_4",
              "4. Feeling tired or having little energy?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_5",
              "5. Poor appetite or overeating?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_6",
              "6. Feeling bad about yourself - or that you are a failure or have let yourself or your family down?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_7",
              "7. Trouble concentrating on things, such as reading the newspaper or watching the television?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_8",
              "8. Moving or speaking so slowly that other people could have noticed? <br> Or the opposite - being so fidgety or restless that you have been moving around a lot more than usual?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ]
        },
        "trialtypes": {},
        "location": "zhao-haffey/eye-tracking-face-voice/gaze_1",
        "conditions": "name,notes,stimuli,procedure,fullscreen,welcome,participant_id,end_message,start_message,buffer,download_at_end,mobile,\r\ncondition_1,You can put more detailed notes in this field,stimuli_1.csv,procedure_1.csv,off,,on,,Please type in your SONA ID below:,5,on,no,\r\ncondition_2,this is a note,stimuli_2.csv,procedure_1_reversed.csv,off,,on,,Please type in your SONA ID below:,5,on,no,",
        "mods": {},
        "data_scripts": {
          "ocollector.org": "https://ocollector.org/StoreData9.php",
          "open-collector.org": "https://open-collector.org/StoreData.php"
        },
        "storage_scripts": {
          "ocollector.org": "https://ocollector.org/StoreData10_aodirnkcu73hsjd8.php",
          "http://nt906822.webs.act.reading.ac.uk/collector/ValidateUser.php": "https://nt906822.webs.act.reading.ac.uk/collector/StoreData_Cat_0.php"
        },
        "code": {
          "instruct": "<!--\n/*  Collector (Garcia, Kornell, Kerr, Blake & Haffey)\n    A program for running experiments on the web\n    Copyright 2012-2016 Mikey Garcia & Nate Kornell\n\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License version 3 as published by\n    the Free Software Foundation.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>\n \t\t\n\t\tKitten/Cat release (2019-2021) author: Dr. Anthony Haffey (team@someopen.solutions)\t\t\n*/\n-->\n<style>\n#instruct_text{\n  margin:auto;\n  width:500px;\n  padding:50px;\n  max-height:600px;\n  text-align: center;  \n}\n#proceed_button{\n  position:absolute;\n  right: 20px;\n}\n#trial_contents{\n  position: absolute;\n  top:0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin:auto;\n  width:600;\n  height:600;\n}\n</style>\n<div id=\"trial_contents\">\n  <div id=\"instruct_text\">{{text}}</div>\n  <div>\n    <button class=\"btn btn-primary\" id=\"proceed_button\" onclick=\"Phase.submit()\">Proceed</button>\n  </div>\n</div>",
          "webgazer": "<!--\r\n    This is based on code from OSF repository https://osf.io/jmz79/ that accompanies the publication \"Online webcam-based eye tracking in cognitive science: a first look\" by Semmelmann & Weigelt, published in Behavior Research Methods in 2017.\r\n\r\n    Updates by Anthony Haffey (a.haffey@reading.ac.uk) 2020 to make this a freeviewing task that works on Collector\r\n-->\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <link href=\"libraries/webgazer/css/jquery-ui.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <link href=\"libraries/webgazer/css/jquery.mobile-1.4.5.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <link href=\"libraries/webgazer/css/tolcam.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <script src=\"libraries/webgazer/js/jquery-1.12.3.min.js\"></script>\r\n    <script src=\"libraries/webgazer/js/jquery-ui.js\"></script>\r\n    <script src=\"libraries/webgazer/js/jquery.mobile-1.4.2.min.js\"></script>\r\n    <script src=\"libraries/webgazer/js/simpleheat.js\"></script>\r\n</head>\r\n<style>\r\n.stimuli_img{\r\n  width: {{image_width}};\r\n  object-fit: fill;\r\n  vertical-align: middle;\r\n  height: {{image_height}};\r\n  position: absolute;\r\n  transform: translate(-50%, 0);\r\n  left: 50%;\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n}\r\n#stimuli_fixation{\r\n\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  -moz-transform: translateX(-50%) translateY(-50%);\r\n  -webkit-transform: translateX(-50%) translateY(-50%);\r\n  transform: translateX(-50%) translateY(-50%);\r\n  font-size:100px;\r\n  text-align:center;\r\n  height:150px;\r\n}\r\n#stimuli_img_left{\r\n  margin-left: {{left_position}};\r\n}\r\n#stimuli_img_right{\r\n  /* left:  75%; */\r\n  margin-left: {{right_position}};\r\n}\r\n</style>\r\n<body>\r\n  <div id=\"instruction\">\r\n    <div id=\"instruction_1\" class=\"instruction_page\">\r\n      This experiment is based on code from the OSF repository <a href=\"https://osf.io/jmz79/\" target=\"_blank\">https://osf.io/jmz79/</a> which accompanies the publication \"Online webcam-based eye tracking in cognitive science: a first look\" by Semmelmann & Weigelt, published in Behavior Research Methods in 2017. Please find the abstract and information about the code, analyses, and data below. This work is intended for scientific use only.\r\nWritten by Kilian Semmelmann, tolcam@ksemmelm.de, 2017. <br><br>\r\n\r\nUpdates by Anthony Haffey (a.haffey@reading.ac.uk) 2020 to make this a task that works on Collector.\r\n    </div>\r\n\r\n    <div id=\"instruction_2\" class=\"instruction_page\">\r\n      <h1>Webcam Setup</h1>\r\n      <br />\r\n      <div id=\"setup_after\">\r\n          You can take a short break and move your head. Before continuing, please follow the instructions noted below.<br />\r\n      </div>\r\n      <br />\r\n      Please turn off your mobile phone and close all other programs and websites. Then carefully read and follow these instructions:<br />\r\n      <img src=\"libraries/webgazer/imgs/instructions_donttilt.png\" style = \"width: 100%; margin-top: 20px; margin-bottom: 20px;\"/> <br>\r\n      If possible, please adjust your position until your face matches the picture below as much as possible:<br />\r\n      <br />\r\n      <table>\r\n        <tr>\r\n          <td>\r\n            <img style=\"height:300px;width:400px; -webkit-transform: scaleX(-1); transform:scaleX(-1);\" src=\"libraries/webgazer/imgs/ideal_pose.png\"/>\r\n          </td>\r\n          <td>\r\n            <span id=\"webcam_insert\"></span>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      <br />\r\n      <div id=\"setup_first\">\r\n          This study consists of multiple five-minute parts with pauses inbetween. After you clicked \"start\", please avoid moving your head. If you move too much, the calibration can fail and you might not be able to finish the study.\r\n      </div>\r\n      <br />\r\n    </div>\r\n\r\n    <div id=\"instruction_3\" class=\"instruction_page\">\r\n      <div id=\"beforetherest\">\r\n        <h1>Proceed</h1>\r\n        <br />\r\n        Click \"Proceed\" to move onto the next trial\r\n        <button onclick=\"Phase.submit()\" class=\"btn\">Proceed</button>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"instruction_back\" class=\"instruction_navigation\">\r\n      <div id=\"instruction_back_text\">\r\n        &lt;\r\n      </div>\r\n    </div>\r\n    <div id=\"instruction_continue\" class=\"instruction_navigation\">\r\n      <div id=\"instruction_continue_text\">\r\n        &gt;\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div id=\"calibration_dot\" class=\"stimuli\">\r\n    <div id=\"calibration_cnt\">0</div>\r\n  </div>\r\n  <div id=\"stimulus\" class=\"stimuli\"><img src=\"libraries/webgazer/imgs/talking.jpg\" /></div>\r\n  <div id=\"stimuli_dot\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_bar\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_fixation\" class=\"stimuli\">+</div>\r\n  <div id=\"stimuli_prime\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_target\" class=\"stimuli\">X</div>\r\n  <img id=\"stimuli_img_left\" class=\"stimuli stimuli_img\"/>\r\n  <img id=\"stimuli_img_right\" class=\"stimuli stimuli_img\"/>\r\n  <div id=\"instruction_message\"></div>\r\n\r\n  <div id=\"message\">\r\n    no message\r\n  </div>\r\n\r\n  <!-- data quality info -->\r\n  <input type=\"hidden\" name=\"window_inner_height\" id=\"window_inner_height\"/>\r\n  <input type=\"hidden\" name=\"window_inner_width\"  id=\"window_inner_width\"/>\r\n  <input type=\"hidden\" name=\"fixation_rts\"        id=\"fixation_rts\"/>\r\n\r\n</body>\r\n</html>\r\n<script>\r\n\r\n\r\n\r\n//////////////////////\r\n// Borcsok variables\r\n//////////////////////\r\n\r\nvar all_fixation_rts = [];\r\n\r\nvar image_pair;\r\nPhase.set_timer(function(){\r\n  function refuse_height(){\r\n    bootbox.confirm(\"Your window height needs to be at least {{min_height}} before starting. Please make your window as big as possible before proceeding.\", function(result){\r\n      if(window.innerHeight < parseFloat(\"{{min_height}}\".replace(\"px\",\"\"))){\r\n        refuse_height();\r\n      } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n    });\r\n  };\r\n  function refuse_width(){\r\n    bootbox.confirm(\"Your window width needs to be at least {{min_width}} before starting. Please make your window as big as possible before proceeding.\", function(result){\r\n      if(window.innerWidth < parseFloat(\"{{min_width}}\".replace(\"px\",\"\"))){\r\n        refuse_width();\r\n      } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n    });\r\n  }\r\n  if(window.innerHeight < parseFloat(\"{{min_height}}\".replace(\"px\",\"\"))){\r\n    refuse_height();\r\n  } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n  if(window.innerWidth <  parseFloat(\"{{min_width}}\".replace(\"px\",\"\"))){\r\n    refuse_width();\r\n  } else {\r\n    $(\"#window_inner_height\").val(window.innerHeight);\r\n    $(\"#window_inner_width\").val(window.innerWidth);\r\n  }\r\n},0);\r\n\r\n\r\n//////////////////////\r\n// default settings //\r\n//////////////////////\r\n\r\nvar calibrations = \"{{calibrations}}\";\r\nvar freeview_image_file = \"{{freeview_image_file}}\".toLowerCase();\r\nvar design_type = \"{{design_type}}\";\r\nvar calibration_skip = \"{{calibration_skip}}\";\r\nvar image_height = \"{{image_height}}\";\r\nvar image_width = \"{{image_width}}\";\r\nvar left_side = \"{{left_side}}\";\r\nvar save_script = \"{{save_script}}\";\r\nvar stim_duration = \"{{stim_duration}}\";\r\nvar trials = \"{{trials}}\";\r\nvar trial_order = \"{{trial_order}}\";\r\n\r\n\r\nif(calibrations.indexOf(\"calibrations\") !== -1){\r\n  calibrations = 13;\r\n}\r\nif(calibration_skip.indexOf(\"calibration_skip\") !== -1){\r\n  calibration_skip = \"no\";\r\n}\r\nif(stim_duration.indexOf(\"stim_duration\") !== -1){\r\n  stim_duration = 2000;\r\n}\r\nif(left_side.indexOf(\"left_side\") !== -1){\r\n  left_side = \"counterbalance\";\r\n}\r\n\r\n\r\n\r\n\r\n/************************************\r\n * HELPER FUNCTIONS\r\n ************************************/\r\n/**\r\n * Shuffles array in place.\r\n * @param {Array} a items The array containing the items.\r\n * @author http://stackoverflow.com/a/2450976/4175553\r\n */\r\nfunction shuffle(array) {\r\n  var currentIndex = array.length, temporaryValue, randomIndex;\r\n\r\n  // While there remain elements to shuffle...\r\n  while (0 !== currentIndex) {\r\n\r\n    // Pick a remaining element...\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n\r\n    // And swap it with the current element.\r\n    temporaryValue = array[currentIndex];\r\n    array[currentIndex] = array[randomIndex];\r\n    array[randomIndex] = temporaryValue;\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\n/************************************\r\n * WEBCAM PARAMETERS\r\n ************************************/\r\nvar cam = {};\r\ncam.overlay = '';\r\ncam.width = 400;\r\ncam.height = 300;\r\ncam.topDist = '0px';\r\ncam.leftDist = '0px';\r\ncam.recording = 0;\r\ncam.validating = 0;\r\ncam.calibrating = 0;\r\ncam.initialized = 0;\r\n\r\n/************************************\r\n * CALIBRATION PARAMETERS\r\n ************************************/\r\nvar calibrating = 0;\r\nvar t_calibration_start;\r\nvar calibration_no = 0;\r\nvar calibration = {};\r\ncalibration.points = [];\r\ncalibration.method = \"watch\"; // click or watch\r\ncalibration.calibrations = calibrations // how many calibration dots\r\ncalibration.duration = 20; // how often does one position get sampled\r\ncalibration.instruction = 'Please look at each dot until <br /> it disappears. <br /><br />Please do not move your head,<br />only move your eyes.';\r\nif(\"{{skip_instruct}}\" == \"on\"){\r\n  calibration.instruction_duration = 0;\r\n} else {\r\n  calibration.instruction_duration = 10000;\r\n}\r\n\r\n/************************************\r\n * VALIDATION PARAMETERS\r\n ************************************/\r\nvar validating = 0;\r\nvar validation_no = 0;\r\nvar validation_current = {\"x\": 0, \"y\": 0};\r\nvar validation_attempt = 1;\r\nvar validation = {};\r\nvalidation.validations = 5;\r\nvalidation.duration = 20;\r\nvalidation.points = [];\r\nvalidation.timeout = 20000; // if no validation happens within X ms, validation will be ended and re-calibrated\r\nvalidation.attempts = 5; // how often can validation be failed PER validation\r\nvalidation.distance = 200; // offset distance in pixel to be a valid validation sample\r\n\r\n\r\n/************************************\r\n* FREEVIEW PARAMETERS\r\n*************************************/\r\nvar freeview_no = 0;\r\n\r\n\r\n/************************************\r\n * DESIGN\r\n ************************************/\r\nvar design = {};\r\nvar block_no = 0;\r\nvar trial_no = 0;\r\n\r\neyetrack_designs = {\r\n  freeview:   {'type': 'freeview', 'trials': trials, 'iti': 500, 'instruction': '{{text}}', 'instruction_duration': 10000},\r\n  simple: {'type': 'simple', 'trials': 24, 'iti': 500, 'instruction': 'Please look at the cross.<br />When the dot appears, please look at it.<br /><br /><br />Do not move your head, <br />only use your eyes.', 'instruction_duration': 5000},\r\n  pursuit: {'type': 'pursuit', 'trials': 24, 'iti': 500, 'instruction': 'A black dot will appear. Please <br />look at it. When it turns <span style=\"color: #dd494b;\">red</span>,<br /> Please follow its movement with your eyes.<br /><br />Do not move your head, <br />only use your eyes.', 'instruction_duration': 7000},\r\n\r\n}\r\n\r\nif(\"{{skip_instruct}}\" == \"on\"){\r\n  eyetrack_designs.freeview.instruction_duration = 0;\r\n}\r\n\r\n\r\ndesign.blocks = [\r\n  eyetrack_designs[[\"{{design_type}}\"]]\r\n];\r\n\r\n//design.blocks = shuffle(design.blocks);\r\ndesign.blocks_randomized = 1; // shall the blocks be shuffled?\r\ndesign.trials_randomized = 1; // same for trials\r\ndesign.calibrate = \"high\";\r\ndesign.recalibrate = 1;\r\n\r\n\r\n\r\n/************************************\r\n * DATA VARIABLES\r\n ************************************/\r\nvar data = [];\r\nvar data_current = {};\r\nvar status = '-';\r\n\r\n/**\r\ndata.design = jQuery.extend(true, {}, design);\r\n **/\r\n\r\n/************************************\r\n * SET UP WEBGAZER\r\n ************************************/\r\nfunction loadWebgazer() {\r\n  $('canvas').remove();\r\n  cam.initialized = 0;\r\n  $.getScript( \"libraries/webgazer/js/webgazer_old.js\" )\r\n    .done(function( script, textStatus ) {\r\n      initializeWebgazer();\r\n      $('#message').html('Please allow for access on your Webcam on the top part of the screen. <br /><br />Remember: We will NOT transmit your video, but only process it locally and transmit numbers to our server.').show();\r\n    })\r\n    .fail(function( jqxhr, settings, exception ) {\r\n      $( \"div.log\" ).text( \"Triggered ajaxError handler.\" );\r\n    });\r\n}\r\n\r\n\r\nfunction initializeWebgazer() {\r\n\r\n  //webgazer.clearData()\r\n  webgazer.setRegression('ridge') /* currently must set regression and tracker */\r\n    .setTracker('clmtrackr')\r\n    .setGazeListener(function(d, clock) {\r\n      //console.log(data); /* data is an object containing an x and y key which are the x and y prediction coordinates (no bounds limiting) */\r\n      //console.log(clock); /* elapsed time in milliseconds since webgazer.begin() was called */\r\n      if (d !== null) {\r\n\r\n        if (cam.calibrating == 1) {\r\n            var $cd = $('#calibration_dot');\r\n            var cx = parseInt(Math.round($cd.offset().left));\r\n            var cy = parseInt(Math.round($cd.offset().top));\r\n            var cp = d;\r\n            var dist = Math.sqrt(((cp.x - cx) * (cp.x - cx)) + ((cp.y - cy) * (cp.y - cy)));\r\n            var c = $('#calibration_cnt').html();\r\n            data_current.raw.push({'time': clock, 'x': cp.x, 'y': cp.y, 'cx': cx, 'cy': cy, 'dist': dist, 'c': c});\r\n        }\r\n\r\n\r\n        if (cam.validating == 1) {\r\n            // see whether dx and dy are within 100px radius of target\r\n            var dist = parseInt(Math.sqrt(((d.x - validation_current.x) * (d.x - validation_current.x)) + ((d.y - validation_current.y) * (d.y - validation_current.y))));\r\n            var c = parseInt($('#calibration_cnt').html());\r\n            if (dist < validation.distance) {\r\n                data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'vx': validation_current.x, 'vy': validation_current.y, 'dist': dist, 'c': c, 'valid': 1});\r\n                if (c < calibration.duration) {\r\n                    $('#calibration_cnt').html(++c);\r\n                } else {\r\n                    cam.validating = 0;\r\n                    clearTimeout(t);\r\n                    $('#calibration_dot').hide();\r\n                    validation_no++;\r\n                    saveData();\r\n                    setTimeout(\"validate();\", 500);\r\n                }\r\n            } else {\r\n                data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'vx': validation_current.x, 'vy': validation_current.y, 'dist': dist, 'c': c, 'valid': 0});\r\n            }\r\n        }\r\n\r\n        if (cam.recording == 1) {\r\n            var tx = -1;\r\n            var ty = -1;\r\n            if (data_current.task == \"simple\" || data_current.task == \"pursuit\") {\r\n                var $sd = $('#stimuli_dot');\r\n                var tx = parseInt(Math.round($sd.offset().left));\r\n                var ty = parseInt(Math.round($sd.offset().top));\r\n            }\r\n            data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'tx': tx, 'ty': ty, 'status': status});\r\n            //console.log(data.trials[trial_no].raw.length + ' ' + d.x + ' ' + d.y);\r\n        }\r\n      }\r\n    })\r\n    .begin()\r\n    .showPredictionPoints(false); /* shows a square every 100 milliseconds where current prediction is */\r\n\r\n  cl = webgazer.getTracker().clm;\r\n\r\n  checkWebgazer();\r\n}\r\n\r\n\r\nfunction checkWebgazer() {\r\n  if (webgazer.isReady()) {\r\n    console.log('webgazer is ready.');\r\n    initializeCam();\r\n  } else {\r\n    setTimeout(checkWebgazer, 100);\r\n  }\r\n}\r\n\r\n/************************************\r\n * SET UP WEBCAM\r\n ************************************/\r\nfunction initializeCam() {\r\n  var video = document.getElementById('webgazerVideoFeed');\r\n  video.style.display = 'block'; // block\r\n  video.style.position = 'relative';\r\n  video.width = cam.width;\r\n  video.height = cam.height;\r\n  video.style.margin = '0px';\r\n  $('#webgazerVideoFeed').css({\r\n    'left': '50%',\r\n    '-webkit-transform': 'scaleX(-1)',\r\n    'transform': 'scaleX(-1) translate(50%, 0)',\r\n    'margin': '20px'\r\n  }).detach().insertAfter('#webcam_insert').get(0).play();\r\n\r\n  webgazer.params.imgWidth = cam.width;\r\n  webgazer.params.imgHeight = cam.height;\r\n\r\n  cam.overlay = document.getElementById('overlay');\r\n  if (cam.overlay === null) {\r\n      cam.overlay = document.createElement('canvas');\r\n      cam.overlay.id = 'overlay';\r\n      document.body.appendChild(cam.overlay);\r\n  }\r\n  cam.overlay.style.position = 'absolute';\r\n  cam.overlay.width = cam.width;\r\n  cam.overlay.height = cam.height;\r\n  cam.overlay.style.top = cam.topDist;\r\n  cam.overlay.style.left = cam.leftDist;\r\n  cam.overlay.style.margin = '0px';\r\n\r\n  cam.initialized = 1;\r\n\r\n  $('#message').html('Webcam access successful.').delay(1000).fadeOut(1000);\r\n  $(\"#instruction_continue\").show();\r\n  parent.parent.requestFullScreen(parent.parent.document.documentElement);\r\n}\r\n\r\n/************************************\r\n * START BLOCKS\r\n ************************************/\r\nfunction prepareBlock() {\r\n  if (cam.initialized == 1) {\r\n    if (block_no < design.blocks.length) {\r\n      trial_no = 0;\r\n\r\n      webgazer.resume();\r\n      if (design.recalibrate == 1 || block_no == 0) {\r\n        $('#instruction_message').html(calibration.instruction).show();\r\n        setTimeout(\"$('#instruction_message').fadeOut(1000);\", calibration.instruction_duration);\r\n        setTimeout(\"startCalibration();\", design.blocks[block_no].instruction_duration + 2000);\r\n      } else {\r\n        $('#instruction_message').html(design.blocks[block_no].instruction).show();\r\n        setTimeout(\"$('#instruction_message').fadeOut(1000);\", design.blocks[block_no].instruction_duration);\r\n        setTimeout(\"preparePhase();\", design.blocks[block_no].instruction_duration + 2000);\r\n      }\r\n    } else {\r\n      endExperiment();\r\n    }\r\n  } else {\r\n    setTimeout(\"prepareBlock();\", 500);\r\n  }\r\n}\r\n\r\n\r\n/************************************\r\n * CALIBRATE\r\n ************************************/\r\nfunction startCalibration() {\r\n  if(calibration_skip == \"skip\" ||\r\n     calibration_skip == \"on\"  ||\r\n     calibration_skip == \"yes\" ||\r\n     calibration_skip == \"true\"){\r\n    endValidation()\r\n  } else {\r\n    $('.stimuli').hide();\r\n    $('#calibration_dot').hide();\r\n    if (block_no == 0) {\r\n        $('#calibration_dot').click(function() {\r\n            calibrateHit();\r\n        });\r\n    }\r\n    calibration_no = 0;\r\n    //webgazer.clearData();\r\n    window.localStorage.clear();\r\n    //webgazer.begin();\r\n    t_calibration_start = new Date().getTime();\r\n    calibrate();\r\n  }\r\n}\r\n\r\nvar gaze_phase = \"unknown\";\r\n\r\nfunction calibrate() {\r\n  gaze_phase = \"calibrate\";\r\n  clearTimeout(t);\r\n  if (calibration_no < calibration.calibrations) {\r\n    $('#calibration_cnt').html(calibration.duration);\r\n    $c = $('#calibration_dot');\r\n    //var c = Math.floor(Math.random() * calibration.points.length);\r\n    //var p = calibration.points.splice(c, 1)[0];\r\n    if (calibration.points.length == 0) {\r\n\r\n      /*\r\n      * allocate calibration by pixels rather than percentages\r\n      */\r\n\r\n      var min_width\t   = \"{{min_width}}\".replace(\"px\",\"\");                          // e.g. 1000px in Borcsok et al., (2020)\r\n      var min_height   = \"{{min_height}}\".replace(\"px\",\"\");                         // e.g. 400px  in Borcsok et al., (2020)\r\n      var mid_screen_x = window.innerWidth / 2;\r\n      var mid_screen_y = window.innerHeight / 2;\r\n\r\n      calibration.points = shuffle([\r\n\r\n        {\r\n          position: \"middle\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"top\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"bottom\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"left\",\r\n          x: mid_screen_x - min_width/2 * .9,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"right\",\r\n          x: mid_screen_x + min_width/2 * .9,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"outer-top-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-top-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"inner-top-left\",\r\n          x: mid_screen_x - min_width/2  * .45,\r\n          y: mid_screen_y - min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-top-right\",\r\n          x: mid_screen_x + min_width/2  * .45,\r\n          y: mid_screen_y - min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .45,\r\n          y: mid_screen_y + min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .45,\r\n          y: mid_screen_y + min_height/2 * .45\r\n        }\r\n      ]);\r\n\r\n\r\n\r\n\r\n      /*\r\n      the original code focusing on percentages\r\n\r\n      calibration.points = shuffle([\r\n          {x: \"20%\", y: \"20%\"},\r\n          {x: \"50%\", y: \"20%\"},\r\n          {x: \"80%\", y: \"20%\"},\r\n          {x: \"20%\", y: \"50%\"},\r\n          {x: \"50%\", y: \"50%\"},\r\n          {x: \"80%\", y: \"50%\"},\r\n          {x: \"20%\", y: \"80%\"},\r\n          {x: \"50%\", y: \"80%\"},\r\n          {x: \"80%\", y: \"80%\"},\r\n          {x: \"35%\", y: \"35%\"},\r\n          {x: \"65%\", y: \"35%\"},\r\n          {x: \"35%\", y: \"65%\"},\r\n          {x: \"65%\", y: \"65%\"}\r\n      ]);\r\n      */\r\n    }\r\n    var p = calibration.points.pop();\r\n    $c.css({\r\n        'left' : p.x,\r\n        'top' : p.y\r\n    });\r\n\r\n    data_current = {\r\n        'type': 'calibration',\r\n        'block': block_no,\r\n        'trial': calibration_no,\r\n        'x': p.x,\r\n        'y': p.y,\r\n        'raw': []\r\n    };\r\n\r\n    cam.calibrating = 1;\r\n    $c.show();\r\n    if (calibration.method == 'watch') {\r\n      t = setTimeout(\"autoCalibration();\", 750);\r\n    }\r\n  } else {\r\n    endCalibration();\r\n  }\r\n}\r\n\r\nfunction calibrateHit() {\r\n  var c = $('#calibration_cnt').html();\r\n  /*\r\n  if ($('#webgazerVideoFeed').css('display') == 'block') {\r\n      $('#webgazerVideoFeed').css({\r\n          top: cam.topDist,\r\n          left: cam.leftDist,\r\n          display: 'none',\r\n          transform: '0'\r\n      });\r\n  }*/\r\n  if (c > 1 && cam.calibrating == 1) {\r\n    $('#calibration_cnt').html(--c);\r\n    if (calibration.method == \"watch\") {\r\n      t = setTimeout(\"autoCalibration();\", 100);\r\n      //requestAnimationFrame(autoCalibration);\r\n    }\r\n  } else {\r\n    $('#calibration_cnt').html(9999);\r\n    clearTimeout(t);\r\n    cam.calibrating = 0;\r\n    $('#calibration_dot').hide();\r\n    calibration_no++;\r\n    saveData();\r\n    calibrate();\r\n  }\r\n  return false;\r\n}\r\n\r\nvar t;\r\nfunction autoCalibration() {\r\n  calibrateLog();\r\n  if (cam.calibrating == 1) {\r\n    calibrateHit();\r\n  }\r\n}\r\n\r\nfunction calibrateLog() {\r\n  var $cd = $('#calibration_dot');\r\n  var cx = parseInt(Math.round($cd.offset().left));\r\n  var cy = parseInt(Math.round($cd.offset().top));\r\n  webgazer.watchListener(cx, cy);\r\n}\r\n\r\n\r\nfunction endCalibration() {\r\n  clearTimeout(t);\r\n  $('#calibration_dot').unbind(\"click\");\r\n  startValidation();\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * VALIDATE\r\n ************************************/\r\nfunction startValidation() {\r\n  validation_no = 0;\r\n  validate();\r\n}\r\n\r\nfunction validate() {\r\n  gaze_phase = \"validate\";\r\n  clearTimeout(t);\r\n  if (validation_no < validation.validations) { // if we there are validations left\r\n    $('#calibration_cnt').html(0);\r\n    var $c = $('#calibration_dot');\r\n\r\n    if (validation.points.length == 0) {\r\n\r\n      /*\r\n      * allocate positions by pixels rather than percentages\r\n      */\r\n\r\n      var min_width\t   = \"{{min_width}}\".replace(\"px\",\"\");                          // e.g. 1000px in Borcsok et al., (2020)\r\n      var min_height   = \"{{min_height}}\".replace(\"px\",\"\");                         // e.g. 400px  in Borcsok et al., (2020)\r\n      var mid_screen_x = window.innerWidth / 2;\r\n      var mid_screen_y = window.innerHeight / 2;\r\n\r\n      validation.points = shuffle([\r\n        {\r\n          position: \"top-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"top-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"middle\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n      ]);\r\n\r\n\r\n\r\n      /*\r\n      original validation positions\r\n\r\n      validation.points = shuffle([\r\n          {x: \"20%\", y: \"20%\"},\r\n          {x: \"80%\", y: \"20%\"},\r\n          {x: \"50%\", y: \"50%\"},\r\n          {x: \"20%\", y: \"80%\"},\r\n          {x: \"80%\", y: \"80%\"}\r\n                                    ]);\r\n      */\r\n    }\r\n    var vp = validation.points.pop();\r\n    $c.css({\r\n        'left' : vp.x,\r\n        'top' : vp.y\r\n    });\r\n    $c.show();\r\n    validation_current.x = Math.round($c.offset().left);\r\n    validation_current.y = Math.round($c.offset().top);\r\n\r\n    data_current = {\r\n      'type': 'validation',\r\n      'block': block_no,\r\n      'trial': validation_no,\r\n      'x': validation_current.x,\r\n      'y': validation_current.y,\r\n      'raw': []\r\n    };\r\n    cam.validating = 1;\r\n    t = setTimeout(\"validateFail();\", validation.timeout);\r\n    //t = setTimeout('validation = 0;', 3000);\r\n  } else {\r\n    endValidation();\r\n  }\r\n}\r\n\r\nfunction validateFail() {\r\n  data_current.type = 'validationfail';\r\n  data_current.attempt = validation_attempt;\r\n  saveData();\r\n\r\n\r\n  cam.validating = 0;\r\n  webgazer.pause();\r\n\r\n  $('.stimuli').hide();\r\n  if (validation_attempt >= validation.attempts) {\r\n      $('#message').html('Unforuntately, the calibration failed too many times. Therefore, you can not participate in this study. Please contact <a href=\"mailto:kilian.semmelmann@rub.de\">kilian.semmelmann@rub.de</a> if you have any questions. Thanks for your interest.').show();\r\n  } else {\r\n      validation_attempt++;\r\n      $('#message').html('The calibration failed. <br />Please follow the instructions and try again (try ' + (validation_attempt) + ' of ' + validation.attempts + ').').show().delay(5000).fadeOut(1000);\r\n      $('#instruction').show();\r\n  }\r\n  // TOOD: log validation-fail\r\n}\r\n\r\nfunction endValidation() {\r\n  cam.validating = 0\r\n  validation_attempt = 1;\r\n  webgazer.pause();\r\n  $('#instruction_message').html(design.blocks[block_no].instruction).show();\r\n  setTimeout(\"$('#instruction_message').fadeOut(1000);\", design.blocks[block_no].instruction_duration);\r\n  setTimeout(\"preparePhase();\", design.blocks[block_no].instruction_duration + 2000);\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * START EXPERIMENT\r\n ************************************/\r\nvar t_trial_start;\r\nfunction preparePhase() {\r\n    status = \"prepare\";\r\n    $('.stimuli').hide();\r\n    data_current = {\r\n        'type': 'trial',\r\n        'block': block_no,\r\n        'trial': trial_no,\r\n        'raw': []\r\n    };\r\n    webgazer.resume();\r\n    startPhase();\r\n}\r\n\r\n\r\nfunction startPhase() {\r\n  t_trial_start = new Date().getTime();\r\n  $('#stimuli_fixation').show();\r\n  status = \"fixation_onset\";\r\n  // use start function of block-type name\r\n  var fn = design.blocks[block_no].type+\"Start\";\r\n  window[fn]();\r\n}\r\n\r\n\r\nvar heat;\r\nfunction endPhase() {\r\n  clearTimeout(t);\r\n  cam.recording = 0;\r\n  webgazer.pause();\r\n  status = \"end\";\r\n  $('.stimuli').hide();\r\n  trial_no++;\r\n  saveData();\r\n\r\n  if (trial_no < design.blocks[block_no].trials) {\r\n    setTimeout(\"preparePhase();\", design.blocks[block_no].iti);\r\n  } else {\r\n    block_no++;\r\n    if (block_no < design.blocks.length) {\r\n      window.localStorage.clear();\r\n      webgazer.clearData();\r\n      //loadWebgazer();\r\n      //prepareBlock();\r\n      navigation('pause');\r\n    } else {\r\n      endExperiment();\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction saveData() {\r\n\r\n\r\n  /*\r\n  * did the participant pass validation?\r\n  */\r\n  //data_current\r\n\r\n\r\n  /*\r\n  * change file name depending on whether it's calibration, validation or main trial?\r\n  * add calibration / validation / freeview number\r\n  */\r\n\r\n  var sub_trial_no = -1;\r\n  switch(gaze_phase){\r\n    case \"calibration\":\r\n      sub_trial_no = calibration_no;\r\n      break;\r\n    case \"validate\":\r\n      sub_trial_no = validation_no;\r\n\r\n      /*\r\n      * did the participant pass? (assuming this is validation)\r\n      */\r\n      var valid_rows = 0;\r\n\r\n      data_current.raw.forEach(function(row){\r\n        valid_rows += row.valid;\r\n      });\r\n\r\n      break;\r\n    case \"freeview\":\r\n      sub_trial_no = freeview_no;\r\n      break;\r\n\r\n  }\r\n\r\n\r\n\r\n  data_current.raw = data_current.raw.map(function(row){\r\n    row.x = row.x - window.innerWidth/2;\r\n    row.y = row.y - window.innerHeight/2;\r\n\r\n    if(typeof(image_pair) !== \"undefined\"){\r\n      Object.keys(image_pair).forEach(function(key){\r\n        row[key] = image_pair[key];\r\n      });\r\n    }\r\n    row.screen_width  = screen.width;\r\n    row.screen_height = screen.height;\r\n    row.window_width  = window.innerWidth;\r\n    row.window_height = window.innerHeight;\r\n    row.trial_no      = sub_trial_no;\r\n\r\n    if(valid_rows > 19){\r\n      row.valid_trial = true;\r\n    } else {\r\n      row.valid_trial = false;\r\n    }\r\n\r\n    /*\r\n\r\n    did the participant pass? (assuming this is validation)\r\n\r\n    */\r\n\r\n\r\n    //row.left_image  = image_pair.image_1;\r\n    //row.right_image = image_pair.image_2;\r\n\r\n    return row;\r\n  });\r\n\r\n  data.push(data_current);\r\n  data_current = {};\r\n  sendData();\r\n}\r\n\r\n\r\nfunction sendData() {\r\n\r\n  var sub_trial_no = -1;\r\n  switch(gaze_phase){\r\n    case \"calibration\":\r\n      sub_trial_no = calibration_no;\r\n      break;\r\n    case \"validate\":\r\n      sub_trial_no = validation_no;\r\n      break;\r\n    case \"freeview\":\r\n      sub_trial_no = freeview_no;\r\n      break;\r\n  }\r\n\r\n  switch(parent.parent.Study.get_vars.platform){\r\n    case \"preview\":\r\n      //do nothing\r\n      break;\r\n    case \"localhost\":\r\n      console.dir(\"data\");\r\n      console.dir(data);\r\n      data.forEach(function(trial,trial_no){\r\n        if (trial !== null){\r\n          parent.parent.Collector.electron.fs.write_data(\r\n            parent.parent.Study.get_vars.location,\r\n            parent.parent.$(\"#participant_code\").val() + \"-\" +\r\n              gaze_phase                               + \"-\" +\r\n              trial_no                                 + \"-\" +\r\n              sub_trial_no                             + \".csv\",\r\n            Papa.unparse(data[trial_no].raw)\r\n          );\r\n\r\n                                      /*\r\n\r\n                                      error above\r\n\r\n                                      */\r\n\r\n\r\n\r\n           parent.parent.online_save(parent.parent.Study.get_vars.location,\r\n                    parent.parent.$(\"#participant_code\").val() +\r\n                      gaze_phase +\r\n                      \"-\" +\r\n                      trial_no +\r\n                      \"-\" +\r\n                      sub_trial_no,\r\n                      \"-trial-\" +\r\n                      parent.parent.project_json.trial_no +\r\n                      \"-\" +\r\n                      trial_no,\r\n                    parent.parent.$(\"#completion_code\").val(),\r\n                    parent.parent.$(\"#prehashed_code\").val(),\r\n                    Papa.unparse(data[trial_no].raw),          //the data\r\n          save_script.split(\"|\"),\r\n          function(){\r\n            parent.parent.online_data_obj.saves_ended ++;\r\n          });\r\n          data[trial_no] = null;\r\n        }\r\n      });\r\n      break;\r\n    default:\r\n      data.forEach(function(trial,trial_no){\r\n          if (trial !== null){\r\n                     parent.parent.online_save(parent.parent.Study.get_vars.location,\r\n                      parent.parent.$(\"#participant_code\").val() +\r\n                        \"-\" + gaze_phase +\r\n                        \"-trial-\" +\r\n                        parent.parent.project_json.trial_no +\r\n                        \"-\" +\r\n                        trial_no +\r\n                        \"-\" +\r\n                        sub_trial_no,\r\n                      parent.parent.$(\"#completion_code\").val(),\r\n                      parent.parent.$(\"#prehashed_code\").val(),\r\n                      Papa.unparse(data[trial_no].raw),          //the data\r\n            save_script.split(\"|\"),\r\n            function(){\r\n              parent.parent.online_data_obj.saves_ended ++;\r\n            });\r\n            data[trial_no] = null;\r\n          }\r\n        });\r\n\r\n        break;\r\n  }\r\n}\r\n\r\n\r\nfunction endExperiment() {\r\n  Phase.submit();\r\n}\r\n\r\n\r\n/************************************\r\n * SIMPLE DOT VIEWING PARADIGM\r\n * If you want to introduce your own paradigms, follow the same structure and extend the design array above.\r\n ************************************/\r\nvar tSimple = {};\r\ntSimple.positions = [];\r\nfunction simpleStart() {\r\n    // if we don't have dot-positions any more, refill the array\r\n    if (tSimple.positions.length == 0) {\r\n        tSimple.positions = shuffle([\r\n            {x: \"20%\", y: \"20%\"},\r\n            {x: \"50%\", y: \"20%\"},\r\n            {x: \"80%\", y: \"20%\"},\r\n            {x: \"20%\", y: \"50%\"},\r\n            {x: \"80%\", y: \"50%\"},\r\n            {x: \"20%\", y: \"80%\"},\r\n            {x: \"50%\", y: \"80%\"},\r\n            {x: \"80%\", y: \"80%\"}\r\n        ]);\r\n    }\r\n    var pos = tSimple.positions.pop();\r\n    $('#stimuli_dot').css({\r\n        'top': pos.y,\r\n        'left': pos.x\r\n    });\r\n    data_current.task = 'simple';\r\n    data_current.x = pos.x;\r\n    data_current.y = pos.y;\r\n    data_current.condition = 'dot_' + pos.x + '_' + pos.y;\r\n\r\n    cam.recording = 1;\r\n    setTimeout('$(\"#stimuli_fixation\").hide(); status = \"fixation_offset\";', 1500);\r\n    setTimeout('simpleShowdot();', 2000);\r\n}\r\n\r\nfunction simpleShowdot() {\r\n    status = \"stimulus_onset\";\r\n    $(\"#stimuli_dot\").show();\r\n    setTimeout('status = \"stimulus_offset\"; endPhase();',  2000);\r\n}\r\n\r\n\r\n/************************************\r\n * POSNER VIEWING PARADIGM\r\n ************************************/\r\nfunction posnerStart() {\r\n    var p = Math.random() >= 0.5 ? '&gt;&gt;&gt;' : '&lt;&lt;&lt;';\r\n    $('#stimuli_prime').html(p);\r\n\r\n    var t = Math.random() >= 0.5 ? 'X' : 'N';\r\n    $('#stimuli_target').html(t);\r\n\r\n    var cond = Math.random() >= 0.7 ? 'incongruent' : 'congruent';\r\n\r\n    var tpos = 'left';\r\n    if ((cond == 'incongruent' && p == '&lt;&lt;&lt;') || ((cond == 'congruent' && p == '&gt;&gt;&gt;'))) {\r\n        tpos = 'right';\r\n    }\r\n\r\n    var pos = {};\r\n    if (tpos == 'left') {\r\n        pos.x = '20%';\r\n        pos.y = '30%';\r\n    } else {\r\n        pos.x = '80%';\r\n        pos.y = '30%';\r\n    }\r\n\r\n\r\n    $('#stimuli_target').css({\r\n        'top': pos.x,\r\n        'left': pos.y\r\n    });\r\n\r\n\r\n    data_current.task = 'posner';\r\n    data_current.x = pos.x;\r\n    data_current.y = pos.y;\r\n    data_current.condition = 'posner_' + pos.x + '_' + pos.y + '_' + tpos;\r\n\r\n    cam.recording = 1;\r\n    setTimeout(\"$('#stimuli_fixation').hide();\", 1000);\r\n    setTimeout('posnerShowprime();', 1500);\r\n}\r\n\r\nfunction posnerShowprime() {\r\n    $('#stimuli_prime').show();\r\n    setTimeout(\"posnerShowTarget();\", 300);\r\n}\r\n\r\nfunction posnerShowTarget() {\r\n    $('#stimuli_prime').hide();\r\n    $('#stimuli_target').show();\r\n    setTimeout(\"endPhase();\", 1500);\r\n}\r\n\r\n\r\n/************************************\r\n * SMOOTH PURSUIT PARADIGM\r\n ************************************/\r\nvar tPursuit = {};\r\nfunction pursuitStart() {\r\n    $('#stimuli_fixation').hide();\r\n    var pos_possible = shuffle([\r\n        {x: \"20%\", y: \"20%\", tx: \"80%\", ty: \"20%\"},\r\n        {x: \"20%\", y: \"20%\", tx: \"20%\", ty: \"80%\"},\r\n        {x: \"20%\", y: \"20%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n        {x: \"80%\", y: \"20%\", tx: \"20%\", ty: \"20%\"},\r\n        {x: \"80%\", y: \"20%\", tx: \"20%\", ty: \"80%\"},\r\n        {x: \"80%\", y: \"20%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n        {x: \"20%\", y: \"80%\", tx: \"20%\", ty: \"20%\"},\r\n        {x: \"20%\", y: \"80%\", tx: \"80%\", ty: \"20%\"},\r\n        {x: \"20%\", y: \"80%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n        {x: \"80%\", y: \"80%\", tx: \"20%\", ty: \"20%\"},\r\n        {x: \"80%\", y: \"80%\", tx: \"80%\", ty: \"20%\"},\r\n        {x: \"80%\", y: \"80%\", tx: \"20%\", ty: \"80%\"}\r\n    ]);\r\n    var pos = pos_possible[0];\r\n    $s = $('#stimuli_dot');\r\n    $s.css({\r\n        'top': pos.y,\r\n        'left': pos.x\r\n    });\r\n\r\n    $s.css({\r\n        'background-color': '#000'\r\n    });\r\n\r\n\r\n    data_current.task = 'pursuit';\r\n    data_current.x = pos.x;\r\n    data_current.y = pos.y;\r\n    data_current.condition = 'pursuit_' + pos.x + '_' + pos.y + '_' + pos.tx + '_' + pos.ty;\r\n\r\n    cam.recording = 1;\r\n    $s.show();\r\n    setTimeout(function() {\r\n        status = \"pursuit_start\";\r\n        $('#stimuli_dot').css({\r\n            'background-color': '#dd494b'\r\n        }).animate({ \"left\": pos.tx, \"top\": pos.ty },\r\n            2000,\r\n            'linear',\r\n        function() {\r\n            status = \"pursuit_end\";\r\n            setTimeout(\"endPhase();\", 500);\r\n        });\r\n    }, 1500);\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * FREE VIEWING PARADIGM\r\n ************************************/\r\nvar tFreeview = {};\r\n\r\n\r\ntFreeview.stimuli = [];\r\n\r\n\r\n\r\nfunction process_freeview_image_file(){\r\n  console.dir(\"tFreeview\");\r\n  console.dir(tFreeview);\r\n  if(trial_order == \"random\"){\r\n    tFreeview.stimuli = shuffle(tFreeview.stimuli);\r\n  }\r\n\r\n\r\n  if(left_side == \"random\"){\r\n    for(var i = 0; i < tFreeview.stimuli.length; i++){\r\n      [left_image,right_image] = shuffle([tFreeview.stimuli[i].image_1,\r\n                                          tFreeview.stimuli[i].image_2]);\r\n      tFreeview.stimuli[i].image_1 = left_image;\r\n      tFreeview.stimuli[i].image_2 = right_image;\r\n    }\r\n  } else if(left_side == \"equal\" | left_side == \"counterbalance\"){\r\n    // select indexes to swap left and right for half the indexes\r\n    // all indexes:\r\n    var indexes = Array.from({length:tFreeview.stimuli.length},(v,k)=>k);\r\n        indexes = shuffle(indexes);\r\n\r\n    //assign the first half left to right\r\n    for(var i = 0; i < Math.floor(tFreeview.stimuli.length / 2); i++){          //this will only loop through half of the randomised indexes\r\n      var this_index = indexes[i];\r\n      var right_image = tFreeview.stimuli[this_index].image_1;\r\n      var left_image = tFreeview.stimuli[this_index].image_2;\r\n      tFreeview.stimuli[this_index].image_1 = left_image;\r\n      tFreeview.stimuli[this_index].image_2 = right_image;\r\n    }\r\n  } else if(left_side == \"image_1\"){\r\n    // do nothing\r\n  } else if(left_side == \"image_2\"){\r\n    for(var i = 0; i < Math.floor(tFreeview.stimuli.length / 2); i++){\r\n      var right_image = tFreeview.stimuli[i].image_1;\r\n      var left_image = tFreeview.stimuli[i].image_2;\r\n      tFreeview.stimuli[i].image_1 = left_image;\r\n      tFreeview.stimuli[i].image_2 = right_image;\r\n    }\r\n  } else {\r\n    alert(\"there's a problem in the 'left_side' column - fix this before testing.\");\r\n  }\r\n};\r\n\r\n//check if the freeview file matches one of the stimuli files\r\nif(typeof(parent.parent.project_json.all_stims[freeview_image_file]) !== \"undefined\"){\r\n  var freeview_contents = parent.parent.project_json.all_stims[freeview_image_file];\r\n  var freeview_clean    = freeview_contents.map(function(row){\r\n    return row.filter(item => item !== null);\r\n  });\r\n  tFreeview.stimuli = Papa.parse(Papa.unparse(freeview_clean),{\r\n    header:true,\r\n    skipEmptyLines:true\r\n  }).data;\r\n  process_freeview_image_file();\r\n} else {\r\n  if(freeview_image_file.toLowerCase().indexOf(\"https://\") == -1){\r\n    freeview_image_file = \"../User/\" + freeview_image_file;\r\n  }\r\n  $.get(freeview_image_file,function(result){\r\n    tFreeview.stimuli = Papa.parse(result,{\r\n      header:true,\r\n      skipEmptyLines:true\r\n    }).data;\r\n    process_freeview_image_file();\r\n  });\r\n}\r\n\r\nimages_loaded = 0;\r\n\r\n\r\nfunction freeviewStart() {\r\n  gaze_phase = \"freeview\";\r\n  function freeview_loaded(left_image, right_image){\r\n    freeview_no++;\r\n    data_current.task = 'freeviewing';\r\n    data_current.x = $('#stimuli_img_left').css('left');\r\n    data_current.y = \"0%\";\r\n    data_current.condition = 'view_' + left_image + '_' + right_image;\r\n\r\n    cam.recording = 1;\r\n    setTimeout(function(){\r\n      status = 'fixation_flash';\r\n      $('#stimuli_fixation').css(\"color\",\"red\");\r\n    }, 1000);\r\n    setTimeout(function(){\r\n      $('#stimuli_fixation').css(\"color\",\"black\");\r\n    }, 1250);\r\n    setTimeout(function(){\r\n      $('#stimuli_fixation').css(\"color\",\"red\");\r\n    }, 1500);\r\n    setTimeout(function(){\r\n      $('#stimuli_fixation').css(\"color\",\"black\");\r\n    }, 1750);\r\n    setTimeout(function(){\r\n      $('#stimuli_fixation').hide();\r\n      status = 'fixation_offset';\r\n\r\n    }, 2000);\r\n    setTimeout(function(){\r\n\r\n      all_fixation_rts.push()\r\n      freeviewShow();\r\n    },2500);\r\n  }\r\n\r\n  document.body.style.cursor = 'none';\r\n\r\n\r\n  image_pair = tFreeview.stimuli.shift();\r\n\r\n  [left_image,right_image] = [image_pair.image_1,image_pair.image_2];\r\n\r\n  /*\r\n  * Some code to make this work on installed version of Collector\r\n  */\r\n  switch(parent.parent.Study.get_vars.platform){\r\n    case \"preview\":\r\n    case \"localhost\":\r\n      left_image = \"../../\" + left_image;\r\n      right_image = \"../../\" + right_image;\r\n      break;\r\n  }\r\n\r\n  var baseline_time = new Date().getTime();\r\n\r\n\r\n  // Make sure the images are loaded before going past fixation\r\n  /////////////////////////////////////////////////////////////\r\n\r\n  $(\"#stimuli_img_left\").off(\"load\");\r\n  $(\"#stimuli_img_right\").off(\"load\");\r\n  $(\"#stimuli_img_left\").attr(\"src\" , left_image);\r\n  $(\"#stimuli_img_right\").attr(\"src\" , right_image);\r\n\r\n  images_loaded = 0;\r\n\r\n  $(\"#stimuli_img_left\").on(\"load\",function(){\r\n    images_loaded = images_loaded + 1;\r\n    if(images_loaded == 2){\r\n      freeview_loaded(left_image, right_image);\r\n    }\r\n  });\r\n\r\n  $(\"#stimuli_img_right\").on(\"load\",function(){\r\n    images_loaded = images_loaded + 1;\r\n    if(images_loaded == 2){\r\n      freeview_loaded(left_image, right_image);\r\n    }\r\n  });\r\n}\r\n\r\nfunction freeviewShow() {\r\n  status = 'stimulus_onset';\r\n  $('#stimuli_img_left').show();\r\n  $('#stimuli_img_right').show();\r\n  setTimeout(\"status = 'stimulus_offset'; endPhase();\", stim_duration);\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * GENERATE AND SHOW HEATMAP\r\n ************************************/\r\nfunction heatmap() {\r\n    // preprocess data for heatmap\r\n    var bins = []; // create bins and fill them\r\n    for (var y = 0; y < window.innerHeight; y++) {\r\n        for (var x = 0; x < window.innerWidth; x++) {\r\n            bins.push([x, y, 0]);\r\n        }\r\n    }\r\n    // sort fixations into bins and get max\r\n    var max = 0;\r\n    for (var i = 0; i < data[data.length - 1].raw.length; i++) {\r\n        var d = data[data.length - 1].raw[i];\r\n        var dx = Math.round(d.x);\r\n        var dy = Math.round(d.y);\r\n        var pos = (dy * window.innerWidth) + dx;\r\n        if (pos <= bins.length && pos >= 0) {\r\n            bins[pos][2] += 1;\r\n            if (bins[pos][2] > max) {\r\n                max = bins[pos][2];\r\n            }\r\n        } else {\r\n            console.log('dropped ' + pos);\r\n        }\r\n    }\r\n\r\n    // remove empty bins\r\n    var binsc = [];\r\n    for (var i = 0; i < bins.length; i++) {\r\n        if (bins[i][2] != 0) {\r\n            binsc.push(bins[i]);\r\n        }\r\n    }\r\n\r\n    // create heatmap\r\n    $('body').append(\"<canvas id=\\\"heatmap\\\"></canvas>\");\r\n    $('#heatmap').attr('width', window.innerWidth);\r\n    $('#heatmap').attr('height', window.innerHeight);\r\n    heat = simpleheat('heatmap');\r\n    heat.resize();\r\n    heat.radius(30,50);\r\n    heat.max(max).data(binsc).draw();\r\n\r\n    $('#stimuli_img').show();\r\n}\r\n\r\n\r\n/**\r\n * navigation\r\n */\r\nvar page = 1;\r\nvar oldpage = -1;\r\nvar d_consent = undefined;\r\nfunction navigation(direction) {\r\n  $('#message').hide();\r\n\r\n  $('#instruction_continue_text').html(\"&gt;\");\r\n\r\n\r\n\r\n\tif (page == 2 && direction == 'continue') {\r\n    if (cam.initialized == 1) {\r\n      $('#instruction').fadeOut(1000);\r\n      setTimeout(\"prepareBlock();\", 2000);\r\n    }\r\n  } else if (page == 2 && direction == 'pause') {\r\n    $('#instruction_continue').html(\"continue\").css({'font-size': '1.7em'});\r\n    $('#instruction_2').find(\"h1\").html('short pause (block ' + block_no + ' of ' + design.blocks.length + \")\");\r\n    $('#setup_first').hide();\r\n    $('#setup_after').show();\r\n\r\n    $('#instruction').show(function() {\r\n      if (block_no == design.blocks.length) {\r\n        page++;\r\n      } else {\r\n        $('#instruction_2').fadeIn(300);\r\n        $('#webgazerVideoFeed').show();\r\n      }\r\n    });\r\n  } else if  (direction == 'continue') {\r\n    page++;\r\n  } else if (direction == 'back') {\r\n    page--;\r\n  }\r\n  page = page < 1 ? 1 : page;\r\n  page = page > $('.instruction_page').length ? $('.instruction_page').length : page;\r\n  page <= 1 ? $('#instruction_back').hide() : $('#instruction_back').show();\r\n  page >= $('.instruction_page').length ? $('#instruction_continue').hide() : $('#instruction_continue').show();\r\n  page >= 3 ? $('#instruction_back,#instruction_continue').hide() : \"\";\r\n  block_no > 0 ? $('#instruction_back').hide() : \"\";\r\n\r\n  if (oldpage != page) { // if we stay at the same page, we avoid unnecessary animations\r\n    $('.instruction_page').hide();\r\n    $('#instruction_'+page).fadeIn(300);\r\n  }\r\n  // start up webcam\r\n  if (page == 2 && cam.initialized == 0) {\r\n    $(\"#instruction_continue\").hide();\r\n    loadWebgazer();\r\n  }\r\n  oldpage = page;\r\n}\r\n\r\n\r\nvar cl;\r\nvar t_start = new Date().getTime();\r\n$('document').ready(function() {\r\n  $('#stimulus').hide();\r\n  $('#calibration_dot').hide();\r\n  $('#setup_after').hide();\r\n  $('#instruction_message').hide();\r\n  $('#therest').hide();\r\n\r\n\r\n  $('#start_button').click(function() {\r\n    $(this).hide();\r\n    prepareBlock();\r\n  });\r\n\r\n  $('body').keypress(function(e) {\r\n    //e.preventDefault();\r\n    switch(e.keyCode) {\r\n\r\n    }\r\n  });\r\n\r\n  $('#instruction_continue').click(function() {\r\n    navigation('continue');\r\n  });\r\n\r\n  $('#instruction_back').click(function() {\r\n    navigation('back');\r\n  });\r\n\r\n  $( \"#f_crowdflowerid\" ).tooltip({\r\n    show: {\r\n      effect: \"slideDown\",\r\n      delay: 250\r\n    }\r\n  });\r\n\r\n\r\n  /*\r\n  $('#f_birthday').datepicker({\r\n      dateFormat: 'yy/mm/dd',\r\n      changeYear: true,\r\n      changeMonth: true,\r\n      yearRange: \"-100:+0\"\r\n  });\r\n  */\r\n  var select = $('#f_birthday');\r\n  for (var i=18;i <= 100; i++){\r\n    select.append('<option value=\"'+i+'\">'+i+'</option>')\r\n  }\r\n\r\n  window.localStorage.clear();\r\n\r\n  var ss = window.location.hash.substring(1);\r\n  $('#cf_reference,#asd_reference,#rub_reference,#cf_code').hide();\r\n  if (ss == \"cf\") { // crowdflower-reference\r\n    $('#cf_reference,#cf_code').show();\r\n  } else if (ss == \"rub\") {\r\n    $('#rub_reference').show();\r\n\t} else {\r\n    $('#asd_reference').show();\r\n\t}\r\n\r\n  var is_chrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;\r\n  var is_firefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\r\n  if (is_chrome || is_firefox) {\r\n    page = 0;\r\n    navigation('start');\r\n  } else {\r\n    $('#instruction').hide();\r\n    $('#message').html('Thank you very much for your interest in our study.<br /><br />Unfortunately, your browser is not supported by our website. To participate, you need either the browser \"Google Chrome\" or \"Firefox\".<br /><br />Do download one of these securely and free of charge, please follow one of these links: <a href=\"https://www.google.com/chrome/browser/desktop/\" target=\"_blank\">Google Chrome</a> or <a href=\"https://www.mozilla.org/de/firefox/new/\" target=\"_blank\">Mozilla Firefox</a>').show();\r\n  }\r\n});\r\n\r\n\r\n\r\n/*\r\n\r\n function drawLoop() {\r\n    requestAnimFrame(drawLoop);\r\n    var p = webgazer.getCurrentPrediction();\r\n    if (p !== null) {\r\n        console.log(p);\r\n        $('body').append('<span class=\"p\" style=\"top: '+p.y+'px; left: '+p.x+'px\"></span>');\r\n        measurements++;\r\n    }\r\n    t = (new Date().getTime() - start)/1000;\r\n    cam.overlay.getContext('2d').clearRect(0,0,cam.width,cam.height);\r\n    if (cl.getCurrentPosition()) {\r\n        //console.log(cl.getCurrentPosition()[0]);\r\n        //cl.draw(overlay);\r\n    }\r\n}\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\nwindow.onbeforeunload = function() {\r\n  //webgazer.end(); //Uncomment if you want to save the data even if you reload the page.\r\n}\r\n</script>\r\n",
          "survey": "<!--\r\n  Author: Dr. Anthony Haffey\r\n\r\n  Collector: Cat/Kitten/Cat release\r\n  A program for running experiments on the web\r\n  Copyright 2012-2018 Mikey Garcia & Nate Kornell\r\n\r\n  This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License version 3 as published by the Free Software Foundation.\r\n\r\n  This program is distributed in the hope that it will be useful,\r\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n  GNU General Public License for more details.\r\n\r\n  You should have received a copy of the GNU General Public License\r\n  along with this program.  If not, see <http://www.gnu.org/licenses/>\r\n\r\n  Kitten/Cat release (2019-2021) author: Dr. Anthony Haffey\r\n\r\n  (team@someopen.solutions)\r\n-->\r\n<style>\r\nbody{\r\n  background-color:#5F9EA0;\r\n  width:100%;\r\n  height:100%;\r\n}\r\ntd{\r\n  padding:10px;\r\n  vertical-align: top;\r\n}\r\n\r\n/*\r\n*\telements by id\r\n*/\r\n\r\n#content{\r\n  width:95%;\r\n}\r\n#proceed_button{\r\n  display:none;\r\n  float:right;\r\n}\r\n#survey_outline{\r\n\tposition: \t\t\t\t\tfixed;\r\n  top: \t\t\t\t\t\t\t\t50%;\r\n  left: \t\t\t\t\t\t\t50%;\r\n\theight: \t\t\t\t\t\t90%;\r\n\toverflow: \t\t\t\t\tauto;\r\n\t-webkit-transform: \ttranslate(-50%, -50%);\r\n  transform: \t\t\t\t\ttranslate(-50%, -50%);\r\n  background-color: \twhite;\r\n\tmin-width:        \t900px;\r\n\tmax-width:        \t9000px;\r\n\tborder-radius:    \t20px;\r\n  border-color:     \t#006688;\r\n  border-style:     \tsolid;\r\n  border-width:     \t5px;\r\n\tpadding:            10px;\r\n  box-shadow:         12px 12px 12px rgba(0, 0, 0, 0.5);\r\n}\r\n#survey_tabs{\r\n  padding:            20px;\r\n}\r\n#this_survey_id{\r\n  padding:            20px;\r\n  display:            none;\r\n}\r\n\r\n/*\r\n*\telements by class\r\n*/\r\n.feedback_span_multiple{\r\n  display: none;\r\n  margin:  10px;\r\n}\r\n.feedback_span_single{\r\n  display: none;\r\n  padding: 10px;\r\n}\r\n.likert_table td{\r\n  padding:    1px;\r\n  text-align: center;\r\n}\r\n.likert_table td:hover{\r\n  color: blue;\r\n}\r\n.score_total{\r\n  display: none;\r\n}\r\n.show_tab{\r\n  margin: 5px;\r\n}\r\n.survey_btn{\r\n\twhite-space: normal;\r\n\tword-wrap: \t initial;\r\n}\r\n.table_break{\r\n\twidth:    100%;\r\n\theight:   300px;\r\n\toverflow: auto;\r\n}\r\n\r\n\r\n/*\r\n* by Bora Alp Arat at https://stackoverflow.com/questions/21684101/css-vertical-scrollbar-padding-left-right-in-ul-possible\r\n*/\r\n::-webkit-scrollbar {\r\n  width: 14px;\r\n  height: 18px;\r\n}\r\n::-webkit-scrollbar-thumb {\r\n  height: 6px;\r\n  border: 4px solid rgba(0, 0, 0, 0);\r\n  background-clip: padding-box;\r\n\t-webkit-border-radius: 7px;\r\n  background-color: rgba(0, 102, 153, 0.5);\r\n  -webkit-box-shadow: inset -1px -1px 0px rgba(0, 0, 0, 0.05), inset 1px 1px 0px rgba(0, 0, 0, 0.05);\r\n}\r\n::-webkit-scrollbar-button {\r\n  width: 0;\r\n  height: 0;\r\n  display: none;\r\n}\r\n::-webkit-scrollbar-corner {\r\n  background-color: transparent;\r\n}\r\n</style>\r\n<div id=\"everything\">\r\n\t<div id=\"survey_outline\"></div>\r\n</div>\r\n<span id=\"scales_span\"></span>\r\n<script>\r\n/*\r\n* Retrieving settings\r\n*/\r\n\r\nif(typeof(settings) !== \"undefined\"){\r\n  settings = [settings];\r\n} else {\r\n  settings = {};\r\n}\r\n\r\n/*\r\n* vertical vs. horizontal tabs\r\n*/\r\n\r\nif(typeof(settings.tab_hor_vert) == \"undefined\" || settings.tab_hor_vert.toLowerCase() == \"horizontal\"){\r\n  settings.tab_hor_vert = \"horizontal\";\r\n  var please_wait = $(\"<div>\");\r\n  var this_survey = $(\"<div>\");\r\n  var survey_tabs = $(\"<div>\");\r\n  var proceed_btn = $(\"<input>\");\r\n  please_wait.attr(\"id\", \"please_wait_div\")\r\n             .html(\"Loading... Please wait\");\r\n  this_survey.addClass(\"needs-validation\")\r\n             .attr(\"id\", \"this_survey_id\")\r\n             .attr(\"novalidate\", true);\r\n  survey_tabs.attr(\"id\", \"survey_tabs\")\r\n             .addClass(\"border-top\")\r\n             .addClass(\"border-primary\")\r\n             .css(\"text-align\", \"right\")\r\n  proceed_btn.addClass(\"btn\")\r\n             .addClass(\"btn-primary\")\r\n             .attr(\"id\", \"proceed_button\")\r\n             .attr(\"type\", \"submit\")\r\n             .attr(\"value\", \"Proceed\")\r\n  $(\"#survey_outline\").append(please_wait)\r\n                      .append(this_survey)\r\n                      .append(survey_tabs)\r\n                      .append(proceed_btn);\r\n\r\n} else if (settings.tab_hor_vert.toLowerCase() == \"vertical\"){\r\n  $(\"#survey_outline\").html(\r\n    '<table>' +\r\n      '<tr>' +\r\n        '<td valign=\"top\" class=\"border-right border-primary\">'+\r\n          '<div id=\"survey_tabs\"></div>' +\r\n        '</td>' +\r\n        '<td>'+\r\n          '<div id=\"please_wait_div\">Please wait while survey is downloading</div>'+\r\n          '<div id=\"this_survey_id\" class=\"needs-validation\" novalidate></div>' +\r\n          '<input type=\"button\" value=\"Proceed\" class=\"btn btn-primary\" id=\"proceed_button\">'+\r\n        '</td>'+\r\n      '</tr>'+\r\n    '</table>'\r\n  );\r\n} else if(settings.tab_hor_vert.toLowerCase() == \"none\"){\r\n  $(\"#survey_outline\").html(\r\n    '<div id=\"survey_tabs\" style=\"display:none\"></div>' +\r\n    '<div id=\"please_wait_div\">Please wait while survey is downloading</div>'+\r\n    '<div id=\"this_survey_id\" class=\"needs-validation\" novalidate></div>'\r\n  );\r\n} else {\r\n  bootbox.alert(\"If you are the researcher, please check the 'settings for this survey. The input for 'tab_hor_vert' appears to be invalid. Please change it to 'horizontal' or 'vertical' or 'none' or remove 'tab_hot_vert' altogether from the settings, which will make the tabs invisible\");\r\n}\r\n\r\n/*\r\n* Defining objects\r\n*/\r\n\r\npage_break_management = {\r\n  breaks_remaining : 0,\r\n  breaks_index     : 0\r\n}\r\n\r\nproceed_object = {\r\n  type:[],\r\n  name:[],\r\n  break_no:[]\r\n};\r\n\r\nscoring_object={\r\n  scales:[],\r\n  scale_scores:[],\r\n  update_scales:function(this_survey){\r\n    headers = Object.keys(this_survey[0]);\r\n    this.scales = headers.filter(elm => elm.includes(\"score:\"));\r\n    var scales_html = '';\r\n    this.scales.forEach(function(element){\r\n      element = element.replace(\": \",\":\");\r\n      scales_html += \"<input name='\"+element.replace(/ |:/g,\"_\")+\"' class='score_total \"+element.replace(/ |:/g,\"_\")+\"' disabled>\";\r\n    });\r\n    $(\"#scales_span\").html(scales_html);\r\n  }\r\n}\r\n\r\nsurvey_obj = {};\r\n\r\n/*\r\n* Element actions\r\n*/\r\n\r\n/*\r\n$(function() {\r\n  $( \".datepicker\" ).datepicker({\r\n    dateFormat : 'mm/dd/yy',\r\n    changeMonth : true,\r\n    changeYear : true,\r\n    yearRange: '-100y:c+nn',\r\n    maxDate: '-1d'\r\n  });\r\n});\r\n*/\r\n\r\n\r\n$('#ExperimentContainer').css('transform','scale(1,1)');\r\n\r\n$(\"#proceed_button\").on(\"click\",function(){\r\n  var proceed = true;\r\n  var tabs    = document.getElementsByClassName('show_tab active');\r\n  if(tabs.length > 0){\r\n    var current_tab       = document.getElementsByClassName(\r\n      'show_tab active')[0]\r\n        .id\r\n        .replace(\"_button\", \"\")\r\n        .replace(\"tab_\",    \"\");\r\n    var response_elements = $('#table_'+current_tab).find('.response_element');\r\n\r\n  } else {\r\n    response_elements = $(\".table_break:visible\").find(\".response_element\");\r\n  }\r\n  for(var i = 0; i < response_elements.length; i++){\r\n    [row_no,item_name] = retrieve_row_no_item_name(response_elements[i]);\r\n    if(typeof(survey_obj.data[row_no].optional) !== \"undefined\"){\r\n      var this_optional = survey_obj.data[row_no].optional.toLowerCase();\r\n\r\n      if(this_optional.indexOf(\"no\") !== -1){\r\n        this_optional = this_optional.split(\"-\");       // find out whether there's a minimal number of responses\r\n        if(this_optional.length == 1){                  // default is that length needs to be at least 1\r\n          var min_resp_length = 1;\r\n        } else if(this_optional.length == 2) {\r\n          var min_resp_length = this_optional[1];\r\n        } else {\r\n          bootbox.alert(\"Error - you appear to have too many '-' characters in the 'optional' column\");\r\n          return false;\r\n        }\r\n      } else {\r\n        min_resp_length = 0;\r\n      }\r\n\r\n      var quest_resp = isJSON($(\"#\"+response_elements[i].id).val());\r\n      if (quest_resp.length < min_resp_length){\r\n        proceed = false;\r\n  \t\t\t$(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-dark\");\r\n        $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-success\");\r\n        $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).addClass(\"text-danger\");\r\n      } else {\r\n  \t\t\t$(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-dark\");\r\n        $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-danger\");\r\n        $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).addClass(\"text-success\");\r\n      }\r\n    }\r\n  }\r\n\r\n  if(current_tab == survey_obj.tabs && proceed){\r\n    if(typeof(sql_surveys) == \"undefined\"){\r\n      //$(\".table_break\");\r\n      var next_table_no = parseFloat($(\".table_break:visible\")[0].id.replace(\"table\",\"\")) + 1;\r\n\r\n      if($(\".table_break#table\"+next_table_no).length == 0){\r\n        if(typeof(Phase) !== \"undefined\"){\r\n          Phase.submit();\r\n        } else {\r\n          bootbox.alert(\"You've finished! Click on the preview button to restart.\")\r\n        }\r\n      } else {\r\n        $(\".table_break\").hide();\r\n        $(\".table_break#table\" + next_table_no).show();\r\n      }\r\n    } else {\r\n      $(\"#survey_outline\").html(\"<h1> You have finished the preview of this survey.</h1>\");\r\n    }\r\n  } else if(current_tab < survey_obj.tabs && proceed) {\r\n    current_tab ++;\r\n    $(\"#tab_\"+current_tab+\"_button\").removeClass(\"btn-secondary\");\r\n    $(\"#tab_\"+current_tab+\"_button\").removeClass(\"disabled\");\r\n    $(\"#tab_\"+current_tab+\"_button\").addClass(\"btn-outline-dark\");\r\n    $(\"#tab_\"+current_tab+\"_button\").click();\r\n  } else if(proceed == false){\r\n    bootbox.alert(\"You're missing some responses. Please fill in all the answers for the questions in red above.\");\r\n  } else if(current_tab > survey_obj.tabs){\r\n    bootbox.alert(\"Error - please contact Scientific Open Solutions about this problem, error 'Survey_001'.\");\r\n  }\r\n});\r\n\r\n//by qwerty at https://stackoverflow.com/questions/2116558/fastest-method-to-replace-all-instances-of-a-character-in-a-string\r\nString.prototype.replaceAll = function(str1, str2, ignore){\r\n  return this.replace(new RegExp(str1.replace(/([\\/\\,\\!\\\\\\^\\$\\{\\}\\[\\]\\(\\)\\.\\*\\+\\?\\|\\<\\>\\-\\&])/g,\"\\\\$&\"),(ignore?\"gi\":\"g\")),(typeof(str2)==\"string\")?str2.replace(/\\$/g,\"$$$$\"):str2);\r\n}\r\n\r\n\r\n/*\r\n* Functions\r\n*/\r\n\r\nfunction clean_item(this_item){\r\n  if(this_item.indexOf(\"'\") !== -1 |\r\n     this_item.indexOf('\"') !== -1){\r\n    bootbox.alert(\"Please avoid apostraphes or quote marks in the responses the participant can give. These cause problems with smooth running of surveys. This occurs when you wrote:<br><br>\" + this_item);\r\n  }\r\n  return(this_item);\r\n}\r\n\r\nfunction generate_feedback_string(feedback_array, this_index, feedback_color, row){\r\n  if(feedback_array){                 //i.e. if it's not null\r\n    if(feedback_array.length > 1){\r\n      return \"<div class='feedback_span_multiple \"+row[\"item_name\"].toLowerCase()+\"_feedback' style='color:\"+feedback_color[this_index]+\"'>\"+feedback_array[this_index]+\"</div>\";\r\n    } else {\r\n      return \"<div class='feedback_span_single \" +\r\n      row[\"item_name\"].toLowerCase() + \"_feedback' style='color:\" +\r\n      feedback_color[this_index] +\r\n      \"'>\" +\r\n      feedback_array[this_index] +\r\n      \"</div>\";\r\n    }\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nfunction get_feedback(row){\r\n  if(typeof(row[\"feedback\"]) !== \"undefined\" && row[\"feedback\"] !== \"\"){\r\n    feedback_array = row[\"feedback\"].split(\"|\");\r\n    if(typeof(row[\"feedback_color\"]) == \"undefined\"){\r\n      bootbox.alert(\"The color for the feedback options has not been set. If you created this questionnaire, please add a column 'feedback_color' to your survey and separate the colors by a pipe (|) character.\");\r\n    }\r\n    feedback_color = row[\"feedback_color\"].split(\"|\");\r\n  } else {\r\n    feedback_array = null;\r\n    feedback_color = '';\r\n  }\r\n  return [feedback_array,feedback_color];\r\n}\r\n\r\nfunction isJSON(str) {\r\n  try {\r\n    return JSON.parse(str);\r\n  } catch (e) {\r\n    return str;\r\n  }\r\n}\r\n\r\nfunction likert_update(this_element){\r\n\r\n  [row_no,item_name] = retrieve_row_no_item_name(this_element);\r\n\r\n  $(\".row_\"+row_no).removeClass(\"active\");\r\n  $(\".row_\"+row_no).removeClass(\"btn-primary\");\r\n  $(\".row_\"+row_no).addClass(\"btn-outline-primary\");\r\n  $(this_element).removeClass(\"btn-outline-primary\");\r\n  $(this_element).addClass(\"btn-primary\");\r\n  $(\"#survey_\"+item_name+\"_response\").val(this_element.value);\r\n  response_check(this_element);\r\n}\r\n\r\nfunction load_survey(survey){\r\n  /*\r\n  * are we in preview?\r\n  */\r\n  if(typeof(parent.collector_survey_preview) !== \"undefined\"){\r\n    survey_content = survey;\r\n  } else if(typeof(parent.master) !== \"undefined\" && parent.master.surveys.preview){\r\n    survey_content = survey;\r\n    survey_obj.mods = parent.master.mods;\r\n  } else {\r\n    survey = survey.toLowerCase().replace(\".csv\",\"\") + \".csv\";\r\n\r\n    if(typeof(parent.parent.project_json.surveys) !== \"undefined\" &&\r\n       typeof(parent.parent.project_json.surveys[survey]) !== \"undefined\"){\r\n      survey_content = parent.parent.project_json.surveys[survey];\r\n      survey_obj.mods = parent.parent.project_json.mods;\r\n\r\n    } else if(\r\n      typeof(parent.parent.project_json.surveys) !== \"undefined\" &&\r\n      typeof(parent.parent.project_json.surveys[\r\n        survey.replace(\".csv\",\"\")\r\n      ])\r\n    ){\r\n\t\t\tsurvey_content = parent.parent.project_json.surveys[survey.replace(\".csv\",\"\")];\r\n      survey_obj.mods = parent.parent.project_json.mods;\r\n\t\t}\telse {\r\n      bootbox.alert(\"Survey \" + survey  + \" doesn't appear to exist\");\r\n    }\r\n  }\r\n  process_returned_questionnaire(survey_content);\r\n}\r\n\r\nfunction process_question(row, row_no){\r\n  //row.values = row.values == \"\" ? row.answers : row.values;\r\n  if(row_check(\"page_break\", row)){\r\n    page_break_management.breaks_remaining++;\r\n    question_td = \"</tr></table><table id='table\" +\r\n      page_break_management.breaks_remaining +\r\n      \"' style='display:none' class='table_break'></tr>\";\r\n  } else {\r\n    if(\r\n      typeof(row[\"values\"]) !== \"undefined\" & typeof(row[\"values\"]) !== \"function\"\r\n    ){ //to address microsoft edge issue.\r\n      value_array = row[\"values\"].split(\"|\");\r\n    } else {\r\n      value_array='';\r\n    }\r\n\r\n    if(row[\"item_name\"].indexOf(\" \") !== -1){\r\n      bootbox.alert(\"Please note that the 'item name' '\" +\r\n        row['item_name'] +\r\n        \"' is invalid because it has at least one space. Please use underscores instead of spaces. If you're not the creator of this task, please contact the person who created it.\"\r\n      );\r\n    }\r\n\r\n    /*\r\n    * class for scoring\r\n    */\r\n\r\n    var this_class = \"\";\r\n    for(var i=0;i<scoring_object.scales.length;i++){\r\n      if(row[scoring_object.scales[i].toLowerCase()]==\"1\"){\r\n        this_class += scoring_object.scales[i].toLowerCase().replace(\r\n          \"score: \",\"\"\r\n        ).replace(/ |-/,\"\") + \" \";\r\n      }\r\n      if(row[scoring_object.scales[i].toLowerCase()]==\"r1\"){\r\n        this_class += scoring_object.scales[i].toLowerCase().replace(\"score: \",\"\").replace(\" \",\"_\")+\"-r1 \";\r\n      }\r\n    }\r\n\r\n    /*\r\n    * adding to row to help with \"write\" function\r\n    */\r\n    var row_x = JSON.parse(\r\n      JSON.stringify(row)\r\n    );\r\n    row_x[\"row_no\"] = row_no;\r\n    row_x[\"this_class\"] = this_class;\r\n\r\n    [feedback_array,feedback_color] = get_feedback(row);\r\n\r\n\r\n    question_td = '<input type=\"hidden\" class=\"response_element row_' + row_no + '\" id=\"survey_' +\r\n      row[\"item_name\"].toLowerCase() +\r\n      '_response\" name=\"survey_' +\r\n      row[\"item_name\"].toLowerCase() +\r\n      '_response\" value=\"\">';\r\n\r\n    /*\r\n    * Survey settings\r\n    */\r\n    [row_ques_perc,row_resp_perc] = row_perc(row[\"question_width\"]);\r\n\r\n    if(typeof(settings.feedback_before_response) == \"undefined\"){\r\n      settings.feedback_before_response = true;\r\n    }\r\n\r\n    if(typeof(settings.lock_after_feedback) == \"undefined\"){\r\n      settings.lock_after_feedback = false;\r\n    }\r\n\r\n    if(typeof(row[\"type\"]) == \"undefined\"){\r\n      return false;\r\n    }\r\n\r\n    if(\r\n      typeof(survey_obj.mods) !== \"undefined\" &&\r\n\t\t\ttypeof(survey_obj.mods[row.type]) !== \"undefined\"\r\n    ){\r\n      var mod_html = survey_obj.mods[row.type].contents;\r\n\r\n      Object.keys(row).forEach(function(attribute){\r\n        mod_html = mod_html.replaceAll(\"{{\"+attribute+\"}}\",row[attribute]);\r\n      });\r\n      question_td += mod_html;\r\n    } else {\r\n      switch(row[\"type\"].toLowerCase()){\r\n        case \"page_start\":\r\n          var tabs_html = $(\"#survey_tabs\").html();\r\n          if(settings.tab_hor_vert == \"horizontal\"){\r\n            span_div = \"span\";\r\n          } else if(settings.tab_hor_vert == \"vertical\"){\r\n            span_div = \"div\";\r\n          }\r\n          if(typeof(survey_obj.tabs) == \"undefined\"){\r\n            survey_obj.tabs = 0;\r\n          } else {\r\n            survey_obj.tabs++;\r\n          }\r\n          if(survey_obj.tabs == 0){ //i.e. is the first tab\r\n            active_button = \"btn-outline-primary active\";\r\n          } else {\r\n            active_button = \"btn-secondary disabled\";\r\n          }\r\n          if(settings.tab_hor_vert == \"vertical\"){\r\n            var vert_btn_block = \"btn-block\";\r\n          } else {\r\n            var vert_btn_block = \"\";\r\n          }\r\n\r\n          tabs_html +=  '<'+span_div+' class=\"btn-group-toggle\" data-toggle=\"buttons\">'+\r\n            '<label id=\"tab_' + survey_obj.tabs + '_button\" class=\"btn show_tab '+active_button+' '+vert_btn_block+'\">'+\r\n              '<input type=\"checkbox\" checked autocomplete=\"off\">'+ row['text'] +\r\n            '</label>'+\r\n          '</'+span_div+'>';\r\n\r\n          $(\"#survey_tabs\").html(tabs_html);\r\n\r\n          page_break_indexes = [];\r\n          survey_obj.data.forEach(function(row,this_index){\r\n            if(typeof(row.type) !== \"undefined\" && row.type.toLowerCase() == \"page_start\"){\r\n              page_break_indexes.push(this_index);\r\n            }\r\n          });\r\n\r\n          if(survey_obj.tabs > 0){\r\n            question_td += \"</td><td></td></tr></table></div><div class='survey_page' id='tab_\" + survey_obj.tabs + \"' style='display:none'><table id='table_\" + survey_obj.tabs + \"' class='table_break'><tr>\";\r\n          } else {\r\n            question_td += \"</td><td></td></tr></table><div class='survey_page' id='tab_\"+survey_obj.tabs+\"' ><table id='table_\"+survey_obj.tabs+\"' class='table_break'><tr>\";\r\n          }\r\n          break;\r\n        case \"checkbox\":\r\n        case \"checkbox_vertical\":\r\n          question_td += write(\"checkbox_vertical\",row_x);\r\n          break;\r\n        case \"checkbox_horizontal\":\r\n          question_td += write(\"checkbox_horizontal\",row_x);\r\n          break;\r\n        case \"checkbox_single\":\r\n          question_td += write(\"checkbox_single\", row_x);\r\n          break;\r\n        case \"date\":\r\n          question_td += write(\"date\",row_x);\r\n        break;\r\n        case \"dropdown\":\r\n\t\t\t\tcase \"select\":\r\n          question_td += write(\"dropdown\",row_x);\r\n        break;\r\n        case \"email\":\r\n          question_td += write(\"email\", row_x);\r\n        break;\r\n        case \"google_slide\":\r\n        case \"jumbled\":\r\n        case \"instruct\":\r\n          // these are defined elsewhere to take the whole row\r\n          break;\r\n        case \"likert\":\r\n          question_td += write(\"likert\", row_x);\r\n        break;\r\n        case \"number\":\r\n          question_td += write(\"number\", row_x);\r\n          break;\r\n        case \"para\":\r\n          question_td += write(\"para\", row_x);\r\n          break;\r\n        case \"radio\":\r\n        case \"radio_vertical\":\r\n          question_td += write(\"radio_vertical\", row_x);\r\n          break;\r\n        case \"radio_horizontal\":\r\n          question_td += write(\"radio_horizontal\", row_x);\r\n        break;\r\n\r\n        case \"report_score\":\r\n            question_td += \"<input disabled class='form-control score_\" + row[\"item_name\"] + \" \"+row[\"item_name\"]+\"_item row_\"+row_no+\"' type='text' name='survey_\"+row['item_name'].toLowerCase()+\"'>\";\r\n        break;\r\n\r\n        case \"text\":\r\n          question_td += write(\"text\", row_x);\r\n        break;\r\n      }\r\n    }\r\n    if(feedback_array){\r\n        question_td += \"<button class='btn btn-outline-info feedback_btn \"+row[\"item_name\"]+\"_item row_\"+row_no+\"' id='reveal_\"+row[\"item_name\"].toLowerCase()+\"_feedback' onclick='reveal_answers(this)'>Show</button>\";\r\n    }\r\n  }\r\n  if(typeof(row[\"type\"])== \"undefined\"){\r\n      return '';\r\n  } else {\r\n    if(row[\"type\"].toLowerCase() == \"instruct\"){\r\n      row_html  = write(\"instruct\",row);\r\n    } else if(row[\"type\"].toLowerCase() == \"jumbled\"){\r\n      //row_html  = question_td + write(\"jumbled\",row); <-- this is better, but being paused for placement work Anthony is doing\r\n      row_html  = write(\"jumbled\",row);\r\n\t\t} else if(row[\"type\"].toLowerCase() == \"likert\"){\r\n\r\n\t\t\tif(typeof(row[\"side_by_side\"]) !== \"undefined\" &&\r\n\t\t\t\t row[\"side_by_side\"].toLowerCase() == \"yes\"){\r\n\r\n\t\t\t\tvar row_html=\"<td class='text-primary' id='survey_\"+row[\"item_name\"].toLowerCase().replace(\" \",\"_\")+\"_question' style='width:\"+row_ques_perc+\"; text-align:right'>\"+row[\"text\"]+\"</td><td>\"+question_td+\"</label></td>\";\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar row_html = \"<tr>\" +\r\n\t\t\t\t\t\t\"<td colspan='2'>\" +\r\n\t\t\t\t\t\t\trow[\"text\"] +\r\n\t\t\t\t\t\t\"</td>\" +\r\n\t\t\t\t\t\"</tr>\" +\r\n\t\t\t\t\t\"<tr>\" +\r\n\t\t\t\t\t\t\"<td colspan='2' align='center'>\" +\r\n\t\t\t\t\t\t\tquestion_td +\r\n\t\t\t\t\t\t\"</td>\" +\r\n\t\t\t\t\t\"</tr>\";\r\n\t\t\t}\r\n\r\n\r\n    } else if(row[\"type\"].toLowerCase()==\"google_slide\") {\r\n      var row_html=\"<td colspan='2'>\"+row[\"text\"]+\"</label></td>\";\r\n    } else if(typeof(row[\"no_text\"]) !== \"undefined\" && row[\"no_text\"] == \"on\"){\r\n      var row_html=\"<td colspan='2'>\"+question_td+\"</td>\";\r\n    } else {\r\n      if(row['text'].toLowerCase() == \"page_start\" | row['type'].toLowerCase() == \"page_start\"){\r\n        row_html = question_td;\r\n      } else {\r\n        var row_html=\"<td class='text-primary' id='survey_\"+row[\"item_name\"].toLowerCase().replace(\" \",\"_\")+\"_question' style='width:\"+row_ques_perc+\"; text-align:right'>\"+row[\"text\"]+\"</td><td>\"+question_td+\"</label></td>\";\r\n      }\r\n    }\r\n    if(typeof(row[\"optional\"]) !== \"undefined\"){\r\n      if(row[\"optional\"].toLowerCase() == \"no\"){\r\n        proceed_object.name.push(row[\"item_name\"]);\r\n        proceed_object.type.push(row[\"type\"]);\r\n        proceed_object.break_no.push(page_break_management.breaks_remaining);\r\n      }\r\n    }\r\n    if(typeof(row[\"shuffle_question\"]) == \"undefined\" || row[\"shuffle_question\"].toLowerCase() == \"off\"){\r\n      this_shuffle='none';\r\n    } else {\r\n      this_shuffle=row[\"shuffle_question\"];\r\n    }\r\n    return [row_html,this_shuffle];\r\n  }\r\n}\r\n\r\nfunction process_score(row_no, values_col, this_response, item, values_reverse ){\r\n  item_values = survey_obj.data[row_no][values_col].split(\"|\");\r\n  if(typeof(values_reverse) !== \"undefined\" && values_reverse == \"r\"){\r\n    item_values.reverse();\r\n  }\r\n  item_answers      = survey_obj.data[row_no][\"values\"].split(\"|\");\r\n  var this_value    = item_values[item_answers.indexOf(this_response)];\r\n  $(\"#survey_\" + item + \"_score\").val(this_value);\r\n  if(typeof(this_value) !== \"undefined\"){\r\n    return parseFloat(this_value);\r\n  }\r\n}\r\n\r\nfunction process_returned_questionnaire(data){\r\n  /*\r\n  * trim the data if it has a blank final row\r\n  */\r\n  if(data[data.length - 1].length < data[0].length){\r\n    data.pop();\r\n  }\r\n\r\n  survey_obj.data = data;\r\n  survey_obj.data = Papa.unparse(survey_obj.data);\r\n  survey_obj.data = parent.parent.Collector.PapaParsed(survey_obj.data);\r\n\r\n  survey_obj.scales = {};\r\n  var col_headers = Object.keys(survey_obj.data[0]);\r\n  col_headers.forEach(function(header){\r\n    if(header.indexOf(\"score:\")==0){\r\n      var original_header = header;\r\n      header = header.replace(\"score: \",\"\");\r\n      header = header.replace(\"score:\",\"\");\r\n      survey_obj.scales[header] = {};\r\n      survey_obj.scales[header].questions = {};\r\n\r\n      for(var i = 1; i < survey_obj.data.length; i++){\r\n        row = survey_obj.data[i];\r\n        if(row[original_header] !== \"\" && typeof(row[original_header]) !== \"undefined\"){\r\n          survey_obj.scales[header].questions[i] = row[original_header];\r\n        }\r\n      }\r\n    }\r\n  });\r\n  write_survey(survey_obj.data,\"this_survey_id\");\r\n  $(\"#please_wait_div\").hide();\r\n  $(\"#proceed_button\").show();\r\n  $('html, body').animate({\r\n    scrollTop: $(\"#survey_outline\").offset().top\r\n  }, 1000);\r\n}\r\n\r\nfunction row_perc(this_rat){\r\n\tif(typeof(this_rat) == \"undefined\"){\r\n    row_resp_perc = \"50%\";\r\n    row_ques_perc = \"50%\";\r\n  } else {\r\n    row_resp_perc = parseFloat(100-this_rat.replace(\"%\",\"\"))+\"%\";\r\n    row_ques_perc = parseFloat(this_rat.replace(\"%\",\"\"))+\"%\";\r\n  }\r\n  return [row_ques_perc,row_resp_perc];\r\n}\r\n\r\nfunction response_check(submitted_element){\r\n  switch(submitted_element.type){\r\n    case \"checkbox\":\r\n\r\n\r\n\r\n\r\n      var checked_responses = $(\"[name='\"+submitted_element.name+\"']:checked\");\r\n      if(checked_responses.length){ //i.e. more than 0\r\n        var values = [];\r\n        for(var i = 0; i < checked_responses.length; i++){\r\n          values.push(checked_responses[i].value);\r\n        }\r\n        $(\"#\"+submitted_element.name+\"_response\").val(JSON.stringify(values));\r\n      } else {\r\n        $(\"#\"+submitted_element.name+\"_response\").val(\"\");\r\n      }\r\n\r\n      break;\r\n\r\n      case \"button\":\r\n        $(\"#\" + submitted_element.name + \"_response\").val(\r\n          submitted_element.value\r\n        );\r\n      break;\r\n\r\n      case \"number\":\r\n      case \"radio\":\r\n      case \"select-one\":\r\n      case \"text\":\r\n      case \"textarea\":\r\n        $(\"#\" + submitted_element.name + \"_response\").val(\r\n          submitted_element.value\r\n        );\r\n      break;\r\n    }\r\n    update_score();\r\n}\r\n\r\nfunction retrieve_row_no_item_name(this_element){\r\n  var these_classes = this_element.className.split(\" \");\r\n  var row_no;\r\n  var item_name;\r\n  these_classes.forEach(function(this_class){\r\n    if (this_class.indexOf('row_') > -1) {\r\n      row_no = this_class.replace(\"row_\",\"\");\r\n    }\r\n    if (this_class.indexOf('_item') > -1) {\r\n      item_name = this_class.replace(\"_item\",\"\").toLowerCase();\r\n    }\r\n  });\r\n  return [row_no,item_name];\r\n}\r\n\r\nfunction reveal_answers(this_element){\r\n  var this_response = $(\"#\"+this_element.id.replace(\"reveal_\",\"survey_\").replace(\"_feedback\",\"_response\")).val();\r\n  response_present = this_response == \"\" ? false : true;\r\n\r\n  if(settings.feedback_before_response == false && response_present == false){\r\n    bootbox.alert(\"Please respond before trying reveal the feedback.\")\r\n  } else {\r\n    if($(\"#\"+this_element.id).hasClass(\"btn-outline-info\")){\r\n      $(\".\"+this_element.id.replace(\"reveal_\",\"\")).show(500);\r\n      if(settings.lock_after_feedback){\r\n        var item_class = this_element.id.replace(\"_feedback\",\"_item\").replace(\"reveal_\",\"\");\r\n        $(\".\"+item_class).prop(\"disabled\",true);\r\n        document.getElementsByClassName(item_class).title = \"The person creating this content has set it so that your answers are locked in once you have chosen to see the feedback\";\r\n        $(\"#\"+this_element.id).addClass(\"btn-info\");\r\n        $(\"#\"+this_element.id).removeClass(\"btn-outline-info\");\r\n        $(\"#\"+this_element.id).html(\"Locked\");\r\n        document.getElementById(this_element.id).title = 'The person creating this content has set it so that your answers are locked in once you have chosen to see the feedback';\r\n        $(\"#\"+this_element.id).addClass(\"disabled\");\r\n      } else {\r\n        $(\"#\"+this_element.id).html(\"Hide\");\r\n        $(\"#\"+this_element.id).removeClass(\"btn-outline-info\");\r\n        $(\"#\"+this_element.id).addClass(\"btn-info\");\r\n      }\r\n    } else {\r\n      $(\"#\"+this_element.id).html(\"Show\");\r\n      $(\".\"+this_element.id.replace(\"reveal_\",\"\")).hide(500);\r\n      $(\"#\"+this_element.id).addClass(\"btn-outline-info\");\r\n      $(\"#\"+this_element.id).removeClass(\"btn-info\");\r\n    }\r\n  }\r\n}\r\n\r\nfunction row_check(type, row){\r\n  if(type = \"page_break\"){\r\n    return (\r\n      typeof(row[\"text\"]) !== \"undefined\" &&\r\n\t\t  typeof(row[\"type\"]) !== \"undefined\" &&\r\n\t\t  row['text'].toLowerCase() == \"page_break\" |\r\n      row['type'].toLowerCase() == \"page_break\"\r\n    )\r\n\r\n  } else if(type=\"\"){\r\n\r\n  }\r\n}\r\n\r\n// http://stackoverflow.com/questions/962802#962890\r\nfunction shuffle(array) {\r\n  var tmp, current, top = array.length;\r\n  if(top) while(--top) {\r\n    current = Math.floor(Math.random() * (top + 1));\r\n    tmp = array[current];\r\n    array[current] = array[top];\r\n    array[top] = tmp;\r\n  }\r\n  return array;\r\n}\r\n\r\nfunction shuffle_answers(row){\r\n  if(\r\n    typeof(row[\"shuffle_answers\"]) !== \"undefined\" &&\r\n    row[\"shuffle_answers\"].toLowerCase() == \"yes\"\r\n  ){\r\n    var answers = row[\"answers\"].split(\"|\");\r\n    order = shuffle([...Array(answers.length).keys()]);\r\n\r\n    var ordered_answers = order.map(function(position){\r\n      return answers[position];\r\n    });\r\n    row[\"answers\"] = ordered_answers.join(\"|\");\r\n\r\n    if(row[\"values\"].indexOf(\"|\") !== -1){\r\n      var values = row[\"values\"].split(\"|\");\r\n      var ordered_values = order.map(function(position){\r\n        return values[position];\r\n      });\r\n      row[\"values\"] = ordered_values.join(\"|\");\r\n    }\r\n  }\r\n  return row;\r\n}\r\n\r\nfunction update_score(){\r\n  var scales = Object.keys(survey_obj.scales);\r\n  scales.forEach(function(scale){\r\n    this_scale = survey_obj.scales[scale];\r\n    var questions = Object.keys(this_scale.questions);\r\n    var this_score = 0;\r\n    complete_score = true;\r\n\r\n    questions.forEach(function(row_no){\r\n      var item = survey_obj.data[row_no].item_name.toLowerCase();\r\n      var this_response = $(\"#survey_\" + item + \"_response\").val();\r\n      var normal_reverse = this_scale.questions[row_no];\r\n\r\n\r\n      if(normal_reverse.indexOf(\"-\") == -1){\r\n        var multiplier = parseFloat(normal_reverse.replace(\"r\",\"\"));\r\n        if(normal_reverse.indexOf(\"r\") == 0){ //reverse the values\r\n\r\n          this_value = process_score(\r\n            row_no,\r\n            \"values\",\r\n            this_response,\r\n            item,\r\n            \"r\"\r\n          );\r\n        } else {\r\n          this_value = process_score(\r\n            row_no,\r\n            \"values\",\r\n            this_response,\r\n            item\r\n          );\r\n        }\r\n      } else {\r\n        values_reverse = normal_reverse.split(\"-\");\r\n        values_col     = values_reverse[0].toLowerCase();\r\n        normal_reverse = values_reverse[1];\r\n        var multiplier = parseFloat(normal_reverse.replace(\"r\",\"\"));\r\n\r\n        if(normal_reverse.indexOf(\"r\") == 0){ //reverse the values\r\n          this_value = process_score(row_no,values_col,this_response,item,\"r\");\r\n        } else {\r\n          this_value = process_score(row_no,values_col,this_response,item);\r\n        }\r\n      }\r\n      if(typeof(this_value) !== \"undefined\"){\r\n        this_score += multiplier * this_value;\r\n      } else {\r\n        complete_score = false;\r\n      }\r\n    });\r\n    if(complete_score){\r\n      $(\".score_\"+scale).addClass(\"bg-success\");\r\n      $(\".score_\"+scale).removeClass(\"bg-danger\");\r\n      $(\".score_\"+scale).addClass(\"text-light\");\r\n      document.getElementsByClassName(\"score_\"+scale).title = 'All relevant questions have been answered';\r\n    } else {\r\n      $(\".score_\"+scale).removeClass(\"text-success\");\r\n      $(\".score_\"+scale).addClass(\"bg-danger\");\r\n      $(\".score_\"+scale).addClass(\"text-light\");\r\n      document.getElementsByClassName(\"score_\"+scale).title = 'At least one relevant questions has NOT been answered';\r\n    }\r\n    $(\".score_\"+scale).val(this_score);\r\n  });\r\n}\r\n\r\nfunction write(type, row){\r\n  var this_html = \"\";\r\n  [feedback_array, feedback_color] = get_feedback(row);\r\n  row = shuffle_answers(row);\r\n  row[\"item_name\"] = row[\"item_name\"].toLowerCase();\r\n\r\n\r\n  if(type == \"checkbox_horizontal\"){\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var this_table = $(\"<table>\");\r\n        this_row = this_table[0].insertRow()\r\n    for(var i=0; i<options.length;i++){\r\n      var this_cell = this_row.insertCell();\r\n      var this_div = $(\"<div>\");\r\n          this_div.addClass(\"custom-control\");\r\n          this_div.addClass(\"custom-checkbox\");\r\n      var this_input = $(\"<input>\");\r\n          this_input[0].type = \"checkbox\";\r\n          this_input[0].id = row[\"item_name\"] + i;\r\n          this_input[0].name = 'survey_' + row[\"item_name\"];\r\n          this_input.addClass(\"custom-control-input\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(row[\"custom-control\"])\r\n            .addClass(row[\"custom-checkbox\"])\r\n            .addClass(row[\"item_name\"] +'_item')\r\n            .addClass('row_' + row[\"row_no\"]);\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"] + i;\r\n          this_label[0].innerText = options[i];\r\n          this_label.addClass(\"custom-control-label\");\r\n      this_div.append(this_input)\r\n              .append(this_label);\r\n      this_cell.innerHTML = this_div[0].outerHTML;\r\n    }\r\n\r\n    this_html += this_table[0].outerHTML;\r\n\r\n  } else if(type == \"checkbox_single\"){\r\n\r\n    var this_div = $(\"<div>\");\r\n        this_div.attr(\"data-toggle\", \"buttons\");\r\n        this_div.addClass(\"btn-group-toggle\");\r\n    var this_label = $(\"<label>\");\r\n        this_label.addClass(\"btn\");\r\n        this_label.addClass(\"btn-outline-primary\");\r\n        this_label.html(row[\"answers\"]);\r\n    var this_checkbox = $(\"<input>\");\r\n        this_checkbox[0].id = row[\"item_name\"];\r\n        this_checkbox[0].name = \"survey_\" +\r\n          row[\"item_name\"].toLowerCase();\r\n        this_checkbox[0].type = \"checkbox\";\r\n        this_checkbox.attr(\"checked\",true);\r\n        this_checkbox\r\n          .addClass(\"response\")\r\n          .addClass(\r\n            row[\"item_name\"] +\r\n            '_item row_' +\r\n            row[\"row_no\"]\r\n          );\r\n    this_div.append(this_label);\r\n    this_label.append(this_checkbox)\r\n    this_html += this_div[0].outerHTML;\r\n\r\n  } else if(type == \"checkbox_vertical\"){\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var values  = row[\"values\"].split(\"|\");\r\n    for(var i = 0; i < options.length; i++){\r\n      feedback_string = generate_feedback_string(\r\n        feedback_array, i, feedback_color, row\r\n      );\r\n      var this_div = $(\"<div>\");\r\n          this_div\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-checkbox\");\r\n      var this_checkbox = $(\"<input>\");\r\n          this_checkbox[0].id= row[\"item_name\"]+ i;\r\n          this_checkbox[0].value = options[i];\r\n          this_checkbox[0].type = \"checkbox\";\r\n          this_checkbox[0].name = 'survey_'+\r\n            row[\"item_name\"].toLowerCase();\r\n          this_checkbox\r\n            .addClass(\"custom-control-input\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-checkbox\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"item_name\"] + \"_item_row\");\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"] + i;\r\n          this_label[0].innerHTML = options[i];\r\n          this_label.addClass(\"custom-control-label\");\r\n      this_div.append(this_checkbox)\r\n              .append(this_label);\r\n\r\n      this_html += this_div[0].outerHTML;\r\n    }\r\n    if(typeof(row[\"other\"]) !== \"undefined\" && row[\"other\"].toLowerCase() == \"yes\"){\r\n      var this_div = $(\"<div>\");\r\n          this_div\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-checkbox\");\r\n      var this_checkbox = $(\"<input>\");\r\n          this_checkbox[0].id= row[\"item_name\"]+ \"_other\";\r\n          this_checkbox[0].value = \"Other\";\r\n          this_checkbox[0].type = \"checkbox\";\r\n          this_checkbox[0].name = 'survey_'+\r\n            row[\"item_name\"].toLowerCase();\r\n          this_checkbox\r\n            .addClass(\"custom-control-input\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-checkbox\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"item_name\"] + \"_item_row\");\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"] + \"_other\";\r\n          this_label[0].innerHTML = \"Other\";\r\n          this_label.addClass(\"custom-control-label\");\r\n      this_div.append(this_checkbox)\r\n              .append(this_label);\r\n\r\n      this_html += this_div[0].outerHTML;\r\n\r\n      var text_input = $(\"<input>\");\r\n          text_input.addClass(\"form-control\");\r\n          text_input.attr(\"placeholder\", \"(Please specify if you selected 'Other')\");\r\n          text_input[0].name = 'survey_'+\r\n            row[\"item_name\"].toLowerCase() +\r\n            \"_other\";\r\n      this_html += text_input[0].outerHTML;\r\n    }\r\n\r\n  } else if(type == \"date\"){\r\n    var input = $(\"<input>\");\r\n        input.addClass(\"response\")\r\n             .addClass(\"custom-control\")\r\n             .addClass(\"datepicker\")\r\n             .addClass(\"date\")\r\n             .addClass(row[\"item_name\"] + \"_item\")\r\n             .addClass(\"row_\" + row[\"row_no\"])\r\n             .attr(\"name\", \"survey_\" + row['item_name'])\r\n             .attr(\"type\", \"text\");\r\n\r\n  } else if(type == \"dropdown\"){\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var this_dropdown = $(\"<select>\");\r\n        this_dropdown\r\n          .addClass(\"form-select\")\r\n          .addClass(\"response\")\r\n          .addClass(\"txt-primary\")\r\n          .addClass(row[\"item_name\"] + \"_item\")\r\n          .addClass(\"row_\" + row[\"row_no\"])\r\n          .addClass(\"collector_button\")\r\n          .attr(\"name\", \"survey_\" + row[\"item_name\"])\r\n          .css(\"margin\", \"0px\")\r\n          .css(\"width\", \"auto\");\r\n\r\n    /* this will be necessary to tidy up jumbled sentences\r\n    if(typeof(row[\"item_name_old\"]) !== \"undefined\"){\r\n      this_dropdown.addClass(row[\"item_name_old\"] + \"_item\");\r\n    }\r\n    */\r\n\r\n    this_dropdown.append(\"<option selected disabled hidden>-- no option selected --</option>\");\r\n    options.forEach(function(this_option){\r\n      this_dropdown.append(\r\n        \"<option>\" + this_option + \"</option>\"\r\n      );\r\n    });\r\n    var this_html = this_dropdown[0].outerHTML;\r\n\r\n  } else if(type == \"email\"){\r\n    var this_input = $(\"<input>\");\r\n        this_input\r\n          .addClass(\"form-control\")\r\n          .addClass(\"response\")\r\n          .addClass(row[\"item_name\"] + \"_item row_\" + row[\"row_no\"])\r\n          .attr(\"type\", \"email\")\r\n          .attr(\"name\", 'survey_' + row['item_name']);\r\n\r\n  } else if(type == \"instruct\"){\r\n    this_html += \"<td colspan='2'>\" + row[\"text\"] + \"</td>\";\r\n  } else if(type == \"jumbled\"){\r\n    var this_td = $(\"<td>\");\r\n        this_td.attr(\"colspan\",2) ;\r\n\r\n    var this_div = $(\"<div>\");\r\n        this_div.addClass(\"form-inline\")\r\n                .addClass(\"bg-secondary\")\r\n                .addClass(\"text-white\")\r\n                .css(\"width\", \"100%\")\r\n                .css(\"padding\", \"20px\")\r\n                .css(\"margin\", \"20px\")\r\n                .css(\"border-radius\", \"5px\");\r\n\r\n    var question = row[\"text\"].split(\"|\");\r\n    questions_html = question.map(function(text,index){\r\n      if(index == question.length - 1){\r\n        return text;\r\n      } else {\r\n        var row_x = row;\r\n        row_x[\"item_name_old\"] = row_x[\"item_name\"];\r\n        row_x[\"item_name\"]     = row_x[\"item_name\"] + \"_\" + index;\r\n        var row_html = text + write(\"dropdown\", row_x)\r\n          .replace(\"margin: 0px\",\"margin: 5px\");\r\n        row_x[\"item_name\"] = row_x[\"item_name_old\"];\r\n        return row_html;\r\n      }\r\n    }).join(\"\");\r\n\r\n    this_td.append(this_div);\r\n    this_div.append(questions_html);\r\n\r\n    this_html = this_td[0].outerHTML;\r\n\r\n  } else if(type == \"likert\"){\r\n    // set styles\r\n    if(typeof(row[\"btn_width\"]) == \"undefined\"){\r\n      row[\"btn_width\"] = \"auto\"\r\n    }\r\n    if(typeof(row[\"side_width\"]) == \"undefined\"){\r\n      var side_width = \"auto\";\r\n    }\r\n\r\n    // create and build these elements\r\n    var this_div = $(\"<div>\");\r\n    if(typeof(row[\"side_text\"]) !== \"undefined\" &&\r\n      row[\"side_text\"] !== \"\"\r\n    ){\r\n      side_text = row[\"side_text\"].split(\"|\");\r\n      side_text = side_text.map(function(this_side){\r\n        var this_span = $(\"<span>\");\r\n            this_span.css(\"width\", side_width)\r\n                     .css(\"padding\", \"20px\")\r\n                     .addClass(\"text-primary\")\r\n                     .html(\"<b>\" + this_side + \"</b>\");\r\n        return this_span[0].outerHTML;\r\n      });\r\n    } else {\r\n      side_text = [\"\",\"\"];\r\n    }\r\n\r\n    this_div\r\n      .addClass(\"btn-group\")\r\n      .addClass(\"btn-group-toggle\")\r\n      .append(side_text[0])\r\n      .attr(\"data-togle\",\"buttons\");\r\n\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var values  = row[\"values\"].split(\"|\");\r\n    for(var i=0; i<options.length;i++){\r\n      var this_button = $(\"<button>\");\r\n          this_button\r\n            .attr(\"autocomplete\", \"off\")\r\n            .attr(\"id\", 'likert_' + row[\"row_no\"] + '_' + i)\r\n            .attr(\"onclick\",'likert_update(this)')\r\n            .attr(\"value\", values[i])\r\n            .addClass(\"btn\")\r\n            .addClass(\"btn-outline-primary\")\r\n            .addClass(\"survey_btn\")\r\n            .addClass(\r\n              row[\"item_name\"] + '_item row_' + row[\"row_no\"]\r\n            )\r\n            .css(\"width\", row[\"btn_width\"])\r\n            .html(clean_item(options[i]));\r\n      this_div.append(this_button);\r\n    }\r\n    this_div.append(side_text[1]);\r\n    this_html += this_div[0].outerHTML;\r\n\r\n  } else if(type == \"number\"){\r\n    var this_input = $(\"<input>\");\r\n        this_input[0].type = \"number\";\r\n        this_input[0].name = 'survey_' + row['item_name'];\r\n        this_input\r\n          .addClass(\"response\")\r\n          .addClass(\"form-control\")\r\n          .addClass(row[\"item_name\"] + \"_item row_\" + row[\"row_no\"]);\r\n    this_html += this_input[0].outerHTML;\r\n\r\n  } else if(type == \"para\"){\r\n    var this_textarea = $(\"<textarea>\");\r\n        this_textarea[0].name = \"survey_\" + row['item_name'];\r\n        this_textarea\r\n          .addClass(row[\"item_name\"] + \"_item row_\" + row[\"row_no\"])\r\n          .addClass(\"response\");\r\n        this_textarea.css(\"width\", \"100%\")\r\n                     .css(\"height\", \"200px\");\r\n    this_html += this_textarea[0].outerHTML;\r\n\r\n  } else if(type == \"radio_horizontal\"){\r\n\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var this_table = $(\"<table>\");\r\n        this_row = this_table[0].insertRow()\r\n    for(var i=0; i<options.length;i++){\r\n      var this_cell = this_row.insertCell();\r\n      var this_div = $(\"<div>\");\r\n          this_div.addClass(\"custom-control\");\r\n          this_div.addClass(\"custom-radio\");\r\n      var this_input = $(\"<input>\");\r\n          this_input[0].type = \"radio\";\r\n          this_input[0].id = row[\"item_name\"] + i;\r\n          this_input[0].name = 'survey_' + row[\"item_name\"];\r\n          this_input.addClass(\"custom-control-input\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(row[\"custom-control\"])\r\n            .addClass(row[\"custom-radio\"])\r\n            .addClass(row[\"item_name\"] +'_item')\r\n            .addClass('row_' + row[\"row_no\"]);\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"] + i;\r\n          this_label[0].innerText = options[i];\r\n          this_label.addClass(\"custom-control-label\");\r\n      this_div.append(this_input)\r\n              .append(this_label);\r\n      this_cell.innerHTML = this_div[0].outerHTML;\r\n    }\r\n    this_html += this_table[0].outerHTML;\r\n\r\n  } else if(type == \"radio_vertical\"){\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var values  = row[\"values\"].split(\"|\");\r\n    for(var i=0; i<options.length; i++){\r\n      feedback_string = generate_feedback_string(\r\n        feedback_array, i, feedback_color,row\r\n      );\r\n      var this_div = $(\"<div>\");\r\n          this_div\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-radio\");\r\n      var this_input = $(\"<input>\");\r\n          this_input[0].type  = \"radio\";\r\n          this_input[0].id    = row[\"item_name\"] + i;\r\n          this_input[0].value = options[i];\r\n          this_input[0].name  = 'survey_' + row[\"item_name\"];\r\n          this_input\r\n            .addClass(\"custom-control-input\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-radio\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"item_name\"] + \"_item_row_\" + row[\"row_no\"]);\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"]+i;\r\n          this_label.addClass(\"custom-control-label\");\r\n          this_label.html(options[i]);\r\n      this_div\r\n        .append(this_input)\r\n        .append(this_label)\r\n        .append(feedback_string);\r\n      this_html += this_div[0].outerHTML;\r\n    }\r\n\r\n  } else if(type == \"text\"){\r\n    var this_input = $(\"<input>\");\r\n        this_input[0].type=\"text\";\r\n        this_input[0].name=\"survey_\" + row['item_name'];\r\n        this_input\r\n          .addClass(\"form-control\")\r\n          .addClass(row[\"item_name\"] + \"_item row_\" + row[\"row_no\"])\r\n          .addClass(\"response\")\r\n    this_html += this_input[0].outerHTML;\r\n  }\r\n\r\n  switch(type){\r\n    case \"checkbox_vertical\":\r\n    case \"radio_vertical\":\r\n      // do nothing\r\n      break;\r\n    default:\r\n      this_html += generate_feedback_string(\r\n        feedback_array,\r\n        0,\r\n        feedback_color,\r\n        row\r\n      );\r\n      break;\r\n  }\r\n\r\n  return (this_html);\r\n}\r\n\r\nfunction write_survey(this_survey, this_id){\r\n  scoring_object.update_scales(this_survey);\r\n  survey_html = \"<table class='table_break' id='table0'>\";\r\n  this_survey_object={\r\n    content:[],\r\n    shuffle_question:[],\r\n    content_new_order:[],\r\n    shuffled_content:[],\r\n    shuffled_arrays:{},\r\n  }\r\n\r\n  survey_html += \"<tr>\";\r\n  for(i = 0; i < this_survey.length; i++){\r\n    row = this_survey[i];\r\n    row_html = process_question(row,i);\r\n\t\tthis_survey_object.content.push(row_html[0]);\r\n    this_survey_object.shuffle_question.push(row_html[1]);\r\n\t}\r\n\r\n\tunique_shuffles = this_survey_object.shuffle_question.filter((v,i,a)=>a.indexOf(v)==i); //by Camilo Martin on https://stackoverflow.com/questions/1960473/unique-values-in-an-array\r\n\r\n\tfor(var i=0;i<unique_shuffles.length;i++){\r\n    if(typeof(unique_shuffles[i]) !== \"undefined\" &&\r\n      unique_shuffles[i] !== \"none\" &&\r\n      unique_shuffles[i] !== \"\"){\r\n        shuffled_content = this_survey_object.shuffle_question.map(function(element,index){\r\n    \t   if(typeof(element)!== \"undefined\" && element.toLowerCase() !== \"none\" && element.toLowerCase() == unique_shuffles[i]){\r\n  \t       return this_survey_object.content[index];\r\n    \t   }\r\n    \t}).filter(elm => typeof(elm) !== \"undefined\");\r\n    \tnew_order = shuffle(shuffled_content);\r\n    \tthis_survey_object.shuffled_arrays[unique_shuffles[i]]=new_order; // add new array with dynamic name\r\n    }\r\n\t}\r\n\r\n\tfor(var i=0;i<this_survey_object.content.length;i++){\r\n    var this_index = Object.keys(this_survey_object.shuffled_arrays).indexOf(this_survey_object.shuffle_question[i]);\r\n    if(this_index !== -1){\r\n      //take first item off relevant list and delete item\r\n      var this_item = this_survey_object.shuffled_arrays[Object.keys(this_survey_object.shuffled_arrays)[this_index]].shift();\r\n      this_survey_object.content_new_order[i]=this_item;\r\n    } else {\r\n      this_survey_object.content_new_order[i]=this_survey_object.content[i];\r\n    }\r\n\t}\r\n\r\n\tqs_in_order = this_survey_object.content_new_order.join(\"</tr><tr>\");\r\n\tqs_in_order += \"</tr>\";\r\n\r\n\tsurvey_html += qs_in_order;\r\n\tsurvey_html += \"</table>\";\r\n\r\n\t$(\"#\" + this_id).html(survey_html);\r\n\r\n  $(\".response\").on(\"change\", function(){\r\n    response_check(this);\r\n  })\r\n\r\n  $(\"#\" + this_id).show(1000); //scroll to top\r\n\r\n\t$(\".show_tab\").on(\"click\",function(){\r\n    if(this.className.indexOf(\"disabled\") == -1){\r\n      $(\".show_tab\").removeClass(\"active\");\r\n      $(\".survey_page\").hide();\r\n      $(\"#\"+this.id.replace(\"_button\",\"\")).show();\r\n    } else {\r\n      bootbox.alert(\"You have not yet unlocked this tab - maybe try clicking on <b>Proceed</b>?\");\r\n    }\r\n\t});\r\n}\r\n\r\n/*\r\n* Load survey\r\n*/\r\ncurrent_survey = \"{{survey}}\";\r\nif(typeof(Phase) !== \"undefined\"){\r\n  Phase.set_timer(function(){\r\n    load_survey(current_survey);\r\n  },100);\r\n} else {\r\n  load_survey(current_survey);\r\n}\r\n</script>\r\n",
          "webgazer_3": "<!--\r\n    This is based on code from the OSF repository <a href=\"https://osf.io/jmz79/\" target=\"_blank\">https://osf.io/jmz79/</a> which accompanies the publication \"Online webcam-based eye tracking in cognitive science: a first look\" by Semmelmann & Weigelt, published in Behavior Research Methods in 2017. Please find the abstract and information about the code, analyses, and data below. This work is intended for scientific use only.\r\nWritten by Kilian Semmelmann, tolcam@ksemmelm.de, 2017. <br><br>\r\n\r\nUpdates by Anthony Haffey (a.haffey@reading.ac.uk) 2020-21 to make this a task that works on Collector.\r\n-->\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <link href=\"libraries/webgazer/css/jquery-ui.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <link href=\"libraries/webgazer/css/jquery.mobile-1.4.5.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <link href=\"libraries/webgazer/css/tolcam.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <script src=\"libraries/webgazer/js/jquery-1.12.3.min.js\"></script>\r\n    <script src=\"libraries/webgazer/js/jquery-ui.js\"></script>\r\n    <script src=\"libraries/webgazer/js/jquery.mobile-1.4.2.min.js\"></script>\r\n    <script src=\"libraries/webgazer/js/simpleheat.js\"></script>\r\n</head>\r\n<style>\r\n.stimuli_img, .stimuli_video{\r\n  object-fit: fill;\r\n  margin:auto;\r\n  top:0;\r\n  bottom:0;\r\n  vertical-align: middle;\r\n  position: absolute;\r\n  transform: translate(-50%, 0);\r\n  left: 50%;\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n}\r\n\r\n#stimuli_fixation{\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  -moz-transform: translateX(-50%) translateY(-50%);\r\n  -webkit-transform: translateX(-50%) translateY(-50%);\r\n  transform: translateX(-50%) translateY(-50%);\r\n  font-size:100px;\r\n  text-align:center;\r\n  height:150px;\r\n}\r\n</style>\r\n<body>\r\n  <div id=\"instruction\">\r\n    <div id=\"instruction_1\" class=\"instruction_page\">\r\n      Thank you for participating in this project. You will need to use your camera for eye-tracking to work in this experiment.\r\n    </div>\r\n\r\n    <div id=\"instruction_2\" class=\"instruction_page\">\r\n      <h1>Webcam Setup</h1>\r\n      <br />\r\n      <div id=\"setup_after\">\r\n          You can take a short break and move your head. Before continuing, please follow the instructions noted below.<br />\r\n      </div>\r\n      <br />\r\n      Please turn off your mobile phone and close all other programs and websites. Then carefully read and follow these instructions:<br />\r\n      <img src=\"libraries/webgazer/imgs/instructions_donttilt.png\" style = \"width: 100%; margin-top: 20px; margin-bottom: 20px;\"/> <br>\r\n      If possible, please adjust your position until your face matches the picture below as much as possible:<br />\r\n      <br />\r\n      <table>\r\n        <tr>\r\n          <td>\r\n            <img style=\"height:300px;width:400px; -webkit-transform: scaleX(-1); transform:scaleX(-1);\" src=\"libraries/webgazer/imgs/ideal_pose.png\"/>\r\n          </td>\r\n          <td>\r\n            <span id=\"webcam_insert\"></span>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      <br />\r\n      <div id=\"setup_first\">\r\n          This study consists of multiple five-minute parts with pauses inbetween. After you clicked \"start\", please avoid moving your head. If you move too much, the calibration can fail and you might not be able to finish the Project.\r\n      </div>\r\n      <br />\r\n    </div>\r\n\r\n    <div id=\"instruction_3\" class=\"instruction_page\">\r\n      <div id=\"beforetherest\">\r\n        <h1>Proceed</h1>\r\n        <br />\r\n        Click \"Proceed\" to move onto the next trial\r\n        <button onclick=\"Phase.submit()\" class=\"btn\">Proceed</button>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"instruction_back\" class=\"instruction_navigation\">\r\n      <div id=\"instruction_back_text\">\r\n        &lt;\r\n      </div>\r\n    </div>\r\n    <div id=\"instruction_continue\" class=\"instruction_navigation\">\r\n      <div id=\"instruction_continue_text\">\r\n        &gt;\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div id=\"calibration_dot\" class=\"stimuli\">\r\n    <div id=\"calibration_cnt\">0</div>\r\n  </div>\r\n  <div id=\"stimulus\" class=\"stimuli\">\r\n    <img src=\"libraries/webgazer/imgs/talking.jpg\" />\r\n  </div>\r\n  <div id=\"stimuli_div\"></div> \r\n  <div id=\"stimuli_dot\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_bar\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_fixation\" class=\"stimuli\">+</div>\r\n  <div id=\"stimuli_prime\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_target\" class=\"stimuli\">X</div>\r\n  <div id=\"instruction_message\"></div>\r\n\r\n  <div id=\"message\">\r\n    no message\r\n  </div>\r\n \r\n  <!-- data quality info -->\r\n  <input type=\"hidden\" name=\"window_inner_height\" id=\"window_inner_height\"/>\r\n  <input type=\"hidden\" name=\"window_inner_width\"  id=\"window_inner_width\"/>\r\n  <input type=\"hidden\" name=\"fixation_rts\"        id=\"fixation_rts\"/>\r\n \r\n</body>\r\n</html>\r\n<script>\r\n\r\n/*\r\n* Haffey variables\r\n*/\r\n\r\nvar all_fixation_rts = [];\r\n\r\nvar image_pair;\r\nPhase.set_timer(function(){\r\n  function refuse_height(){\r\n    bootbox.confirm(\"Your window height needs to be at least {{min_height}} before starting. Please make your window as big as possible before proceeding.\", function(result){\r\n      if(window.innerHeight < parseFloat(\"{{min_height}}\".replace(\"px\",\"\"))){\r\n        refuse_height();\r\n      } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n    });\r\n  };\r\n  function refuse_width(){\r\n    bootbox.confirm(\"Your window width needs to be at least {{min_width}} before starting. Please make your window as big as possible before proceeding.\", function(result){\r\n      if(window.innerWidth < parseFloat(\"{{min_width}}\".replace(\"px\",\"\"))){\r\n        refuse_width();\r\n      } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n    });\r\n  }\r\n  if(window.innerHeight < parseFloat(\"{{min_height}}\".replace(\"px\",\"\"))){\r\n    refuse_height();\r\n  } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n  if(window.innerWidth <  parseFloat(\"{{min_width}}\".replace(\"px\",\"\"))){\r\n    refuse_width();\r\n  } else {\r\n    $(\"#window_inner_height\").val(window.innerHeight);\r\n    $(\"#window_inner_width\").val(window.innerWidth);\r\n  }\r\n},0);\r\n\r\n\r\n/*\r\n* default settings\r\n*/\r\n\r\nvar calibrations     = \"{{calibrations}}\";\r\nvar image_file       = \"{{image_file}}\"; \r\nvar design_type      = \"{{design_type}}\"; \r\nvar calibration_skip = \"{{calibration_skip}}\";\r\nvar image_height     = \"{{image_height}}\";\r\nvar image_width      = \"{{image_width}}\";\r\nvar left_side        = \"{{left_side}}\";\r\nvar stim_duration    = \"{{stim_duration}}\";\r\nvar trials           = \"{{trials}}\";\r\nvar trial_order      = \"{{trial_order}}\";\r\n\r\nvar save_scripts = Object.keys(parent.parent.project_json.storage_scripts).map(function(server){\r\n  return parent.parent.project_json.storage_scripts[server];\r\n});\r\n\r\n\r\n/*\r\n* work out the location of the images\r\n*/\r\n\r\nif(calibrations.indexOf(\"calibrations\") !== -1){\r\n  calibrations = 13;\r\n}\r\nif(calibration_skip.indexOf(\"calibration_skip\") !== -1){\r\n  calibration_skip = \"no\";\r\n}\r\nconsole.log(stim_duration);\r\nif(stim_duration < 1){\r\n  stim_duration = 2000;\r\n}\r\nif(left_side.indexOf(\"left_side\") !== -1){\r\n  left_side = \"counterbalance\";  \r\n}\r\n\r\n\r\n\r\n\r\n/************************************\r\n * HELPER FUNCTIONS\r\n ************************************/\r\n/**\r\n * Shuffles array in place.\r\n * @param {Array} a items The array containing the items.\r\n * @author http://stackoverflow.com/a/2450976/4175553\r\n */\r\nfunction shuffle(array) {\r\n  var currentIndex = array.length, temporaryValue, randomIndex;\r\n\r\n  // While there remain elements to shuffle...\r\n  while (0 !== currentIndex) {\r\n\r\n    // Pick a remaining element...\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n\r\n    // And swap it with the current element.\r\n    temporaryValue = array[currentIndex];\r\n    array[currentIndex] = array[randomIndex];\r\n    array[randomIndex] = temporaryValue;\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\n/************************************\r\n * WEBCAM PARAMETERS\r\n ************************************/\r\nvar cam = {};\r\ncam.overlay = '';\r\ncam.width = 400;\r\ncam.height = 300;\r\ncam.topDist = '0px';\r\ncam.leftDist = '0px';\r\ncam.recording = 0;\r\ncam.validating = 0;\r\ncam.calibrating = 0;\r\ncam.initialized = 0;\r\n\r\n/************************************\r\n * CALIBRATION PARAMETERS\r\n ************************************/\r\nvar calibrating = 0;\r\nvar t_calibration_start;\r\nvar calibration_no = 0;\r\nvar calibration = {};\r\ncalibration.points = [];\r\ncalibration.method = \"watch\"; // click or watch\r\ncalibration.calibrations = calibrations // how many calibration dots\r\ncalibration.duration = 20; // how often does one position get sampled\r\ncalibration.instruction = 'Please look at each dot until <br /> it disappears. <br /><br />Please do not move your head,<br />only move your eyes.';\r\nif(\"{{skip_instruct}}\" == \"on\"){\r\n  calibration.instruction_duration = 0;\r\n} else {\r\n  calibration.instruction_duration = 10000;\r\n}\r\n\r\n/************************************\r\n * VALIDATION PARAMETERS\r\n ************************************/\r\nvar validating = 0;\r\nvar validation_no = 0;\r\nvar validation_current = {\"x\": 0, \"y\": 0};\r\nvar validation_attempt = 1;\r\nvar validation = {};\r\nvalidation.validations = 5;\r\nvalidation.duration = 20;\r\nvalidation.points = [];\r\nvalidation.timeout = 20000; // if no validation happens within X ms, validation will be ended and re-calibrated\r\nvalidation.attempts = 5; // how often can validation be failed PER validation\r\nvalidation.distance = 200; // offset distance in pixel to be a valid validation sample\r\n\r\n\r\n/************************************\r\n* STARTING PARAMETERS\r\n*************************************/\r\nvar stimuli_no = 0;\r\n\r\n/************************************\r\n * DESIGN\r\n ************************************/\r\nvar design = {};\r\nvar block_no = 0;\r\nvar trial_no = 0;\r\n\r\neyetrack_designs = {\r\n  stimuli: {\r\n    'type': 'stimuli',\r\n    'trials': trials,\r\n    'iti': 500,\r\n    'instruction': '{{text}}',\r\n    'instruction_duration': 10000\r\n  },\r\n  simple: {\r\n    'type': 'simple',\r\n    'trials': 24,\r\n    'iti': 500,\r\n    'instruction': 'Please look at the cross.<br />When the dot appears, please look at it.<br /><br /><br />Do not move your head, <br />only use your eyes.',\r\n    'instruction_duration': 5000\r\n  },\r\n  pursuit: {\r\n    'type': 'pursuit', \r\n    'trials': 24,\r\n    'iti': 500,\r\n    'instruction': 'A black dot will appear. Please <br />look at it. When it turns <span style=\"color: #dd494b;\">red</span>,<br /> Please follow its movement with your eyes.<br /><br />Do not move your head, <br />only use your eyes.',\r\n    'instruction_duration': 7000\r\n  }\r\n}\r\n\r\nif(\"{{skip_instruct}}\" == \"on\"){\r\n  eyetrack_designs.stimuli.instruction_duration = 0;\r\n}\r\n\r\n\r\ndesign.blocks = [\r\n  eyetrack_designs[[\"{{design_type}}\"]]\r\n];\r\n\r\n//design.blocks = shuffle(design.blocks);\r\ndesign.blocks_randomized = 1; // shall the blocks be shuffled?\r\ndesign.trials_randomized = 1; // same for trials\r\ndesign.calibrate = \"high\";\r\ndesign.recalibrate = 1;\r\n\r\n\r\n\r\n/************************************\r\n * DATA VARIABLES\r\n ************************************/\r\nvar data = [];\r\nvar data_current = {};\r\nvar status = '-';\r\n\r\n/**\r\ndata.design = jQuery.extend(true, {}, design);\r\n **/\r\n\r\n/************************************\r\n * SET UP WEBGAZER\r\n ************************************/\r\nfunction loadWebgazer() {\r\n  $('canvas').remove();\r\n  cam.initialized = 0;\r\n  $.getScript( \"libraries/webgazer/js/webgazer_old.js\" )\r\n    .done(function( script, textStatus ) {\r\n      initializeWebgazer();\r\n      $('#message').html('Please allow for access on your Webcam on the top part of the screen. <br /><br />Remember: We will NOT transmit your video, but only process it locally and transmit numbers to our server.').show();\r\n    })\r\n    .fail(function( jqxhr, settings, exception ) {\r\n      $( \"div.log\" ).text( \"Triggered ajaxError handler.\" );\r\n    });\r\n}\r\n\r\n\r\nfunction initializeWebgazer() {\r\n \r\n  //webgazer.clearData()\r\n  webgazer.setRegression('ridge') /* currently must set regression and tracker */\r\n    .setTracker('clmtrackr')\r\n    .setGazeListener(function(d, clock) {\r\n      //console.log(data); /* data is an object containing an x and y key which are the x and y prediction coordinates (no bounds limiting) */\r\n      //console.log(clock); /* elapsed time in milliseconds since webgazer.begin() was called */\r\n      if (d !== null) {\r\n\r\n        if (cam.calibrating == 1) {\r\n            var $cd = $('#calibration_dot');\r\n            var cx = parseInt(Math.round($cd.offset().left));\r\n            var cy = parseInt(Math.round($cd.offset().top));\r\n            var cp = d;\r\n            var dist = Math.sqrt(((cp.x - cx) * (cp.x - cx)) + ((cp.y - cy) * (cp.y - cy)));\r\n            var c = $('#calibration_cnt').html();\r\n            data_current.raw.push({'time': clock, 'x': cp.x, 'y': cp.y, 'cx': cx, 'cy': cy, 'dist': dist, 'c': c});\r\n        }\r\n\r\n\r\n        if (cam.validating == 1) {\r\n            // see whether dx and dy are within 100px radius of target\r\n            var dist = parseInt(Math.sqrt(((d.x - validation_current.x) * (d.x - validation_current.x)) + ((d.y - validation_current.y) * (d.y - validation_current.y))));\r\n            var c = parseInt($('#calibration_cnt').html());\r\n            if (dist < validation.distance) {\r\n                data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'vx': validation_current.x, 'vy': validation_current.y, 'dist': dist, 'c': c, 'valid': 1});\r\n                if (c < calibration.duration) {\r\n                    $('#calibration_cnt').html(++c);\r\n                } else {\r\n                    cam.validating = 0;\r\n                    clearTimeout(t);\r\n                    $('#calibration_dot').hide();\r\n                    validation_no++;\r\n                    saveData();\r\n                    setTimeout(\"validate();\", 500);\r\n                }\r\n            } else {\r\n                data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'vx': validation_current.x, 'vy': validation_current.y, 'dist': dist, 'c': c, 'valid': 0});\r\n            }\r\n        }\r\n\r\n        if (cam.recording == 1) {\r\n            var tx = -1;\r\n            var ty = -1;\r\n            if (data_current.task == \"simple\" || data_current.task == \"pursuit\") {\r\n                var $sd = $('#stimuli_dot');\r\n                var tx = parseInt(Math.round($sd.offset().left));\r\n                var ty = parseInt(Math.round($sd.offset().top));\r\n            }\r\n            data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'tx': tx, 'ty': ty, 'status': status});\r\n            //console.log(data.trials[trial_no].raw.length + ' ' + d.x + ' ' + d.y);\r\n        }\r\n      }\r\n    })\r\n    .begin()\r\n    .showPredictionPoints(false); /* shows a square every 100 milliseconds where current prediction is */\r\n\r\n  cl = webgazer.getTracker().clm;\r\n\r\n  checkWebgazer();\r\n}\r\n\r\n\r\nfunction checkWebgazer() {\r\n  if (webgazer.isReady()) {\r\n    console.log('webgazer is ready.');\r\n    initializeCam();\r\n  } else {\r\n    setTimeout(checkWebgazer, 100);\r\n  }\r\n}\r\n\r\n/************************************\r\n * SET UP WEBCAM\r\n ************************************/\r\nfunction initializeCam() {\r\n  var video = document.getElementById('webgazerVideoFeed');\r\n  video.style.display = 'block'; // block\r\n  video.style.position = 'relative';\r\n  video.width = cam.width;\r\n  video.height = cam.height;\r\n  video.style.margin = '0px';\r\n  $('#webgazerVideoFeed').css({\r\n    'left': '50%',\r\n    '-webkit-transform': 'scaleX(-1)',\r\n    'transform': 'scaleX(-1) translate(50%, 0)',\r\n    'margin': '20px'\r\n  }).detach().insertAfter('#webcam_insert').get(0).play();\r\n \r\n  webgazer.params.imgWidth = cam.width;\r\n  webgazer.params.imgHeight = cam.height;\r\n\r\n  cam.overlay = document.getElementById('overlay');\r\n  if (cam.overlay === null) {\r\n      cam.overlay = document.createElement('canvas');\r\n      cam.overlay.id = 'overlay';\r\n      document.body.appendChild(cam.overlay);\r\n  }\r\n  cam.overlay.style.position = 'absolute';\r\n  cam.overlay.width = cam.width;\r\n  cam.overlay.height = cam.height;\r\n  cam.overlay.style.top = cam.topDist;\r\n  cam.overlay.style.left = cam.leftDist;\r\n  cam.overlay.style.margin = '0px';\r\n\r\n  cam.initialized = 1;\r\n\r\n  $('#message').html('Webcam access successful.').delay(1000).fadeOut(1000);\r\n  $(\"#instruction_continue\").show();\r\n  parent.parent.requestFullScreen(parent.parent.document.documentElement);\r\n}\r\n\r\n/************************************\r\n * START BLOCKS\r\n ************************************/\r\nfunction prepareBlock() {\r\n  if (cam.initialized == 1) {\r\n    if (block_no < design.blocks.length) {\r\n      trial_no = 0;\r\n\r\n      webgazer.resume();\r\n      if (design.recalibrate == 1 || block_no == 0) {\r\n        $('#instruction_message').html(calibration.instruction).show();\r\n        setTimeout(\"$('#instruction_message').fadeOut(1000);\", calibration.instruction_duration);\r\n        setTimeout(\"startCalibration();\", design.blocks[block_no].instruction_duration + 2000);\r\n      } else {\r\n        $('#instruction_message').html(design.blocks[block_no].instruction).show();\r\n        setTimeout(\"$('#instruction_message').fadeOut(1000);\", design.blocks[block_no].instruction_duration);\r\n        setTimeout(\"prepareTrial();\", design.blocks[block_no].instruction_duration + 2000);\r\n      }\r\n    } else {\r\n      endExperiment();\r\n    }\r\n  } else {\r\n    setTimeout(\"prepareBlock();\", 500);\r\n  }\r\n}\r\n\r\n\r\n/************************************\r\n * CALIBRATE\r\n ************************************/\r\nfunction startCalibration() {\r\n  if(calibration_skip == \"skip\" ||\r\n     calibration_skip == \"on\"  ||\r\n     calibration_skip == \"yes\" ||\r\n     calibration_skip == \"true\"){\r\n    endValidation()\r\n  } else {\r\n    $('.stimuli').hide();\r\n    $('#calibration_dot').hide();\r\n    if (block_no == 0) {\r\n        $('#calibration_dot').click(function() {\r\n            calibrateHit();\r\n        });\r\n    }\r\n    calibration_no = 0;\r\n    //webgazer.clearData();\r\n    window.localStorage.clear();\r\n    //webgazer.begin();\r\n    t_calibration_start = new Date().getTime();\r\n    calibrate();\r\n  }\r\n}\r\n\r\nvar gaze_phase = \"unknown\";\r\n\r\nfunction calibrate() {\r\n  gaze_phase = \"calibrate\";\r\n  clearTimeout(t);\r\n  if (calibration_no < calibration.calibrations) {\r\n    $('#calibration_cnt').html(calibration.duration);\r\n    $c = $('#calibration_dot');\r\n    //var c = Math.floor(Math.random() * calibration.points.length);\r\n    //var p = calibration.points.splice(c, 1)[0];\r\n    if (calibration.points.length == 0) {\r\n     \r\n      /*\r\n      * allocate calibration by pixels rather than percentages\r\n      */\r\n     \r\n      var min_width   = \"{{min_width}}\".replace(\"px\",\"\");                          // e.g. 1000px in Borcsok et al., (2020)\r\n      var min_height   = \"{{min_height}}\".replace(\"px\",\"\");                         // e.g. 400px  in Borcsok et al., (2020)\r\n      var mid_screen_x = window.innerWidth / 2;\r\n      var mid_screen_y = window.innerHeight / 2;\r\n     \r\n      calibration.points = shuffle([\r\n       \r\n        {\r\n          position: \"middle\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"top\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"bottom\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"left\",\r\n          x: mid_screen_x - min_width/2 * .9,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"right\",\r\n          x: mid_screen_x + min_width/2 * .9,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"outer-top-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-top-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"inner-top-left\",\r\n          x: mid_screen_x - min_width/2  * .45,\r\n          y: mid_screen_y - min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-top-right\",\r\n          x: mid_screen_x + min_width/2  * .45,\r\n          y: mid_screen_y - min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .45,\r\n          y: mid_screen_y + min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .45,\r\n          y: mid_screen_y + min_height/2 * .45\r\n        }\r\n      ]);\r\n     \r\n    }\r\n    var p = calibration.points.pop();\r\n    $c.css({\r\n        'left' : p.x,\r\n        'top' : p.y\r\n    });\r\n\r\n    data_current = {\r\n        'type': 'calibration',\r\n        'block': block_no,\r\n        'trial': calibration_no,\r\n        'x': p.x,\r\n        'y': p.y,\r\n        'raw': []\r\n    };\r\n\r\n    cam.calibrating = 1;\r\n    $c.show();\r\n    if (calibration.method == 'watch') {\r\n      t = setTimeout(\"autoCalibration();\", 750);\r\n    }\r\n  } else {\r\n    endCalibration();\r\n  }\r\n}\r\n\r\nfunction calibrateHit() {\r\n  var c = $('#calibration_cnt').html();\r\n  /*\r\n  if ($('#webgazerVideoFeed').css('display') == 'block') {\r\n      $('#webgazerVideoFeed').css({\r\n          top: cam.topDist,\r\n          left: cam.leftDist,\r\n          display: 'none',\r\n          transform: '0'\r\n      });\r\n  }*/\r\n  if (c > 1 && cam.calibrating == 1) {\r\n    $('#calibration_cnt').html(--c);\r\n    if (calibration.method == \"watch\") {\r\n      t = setTimeout(\"autoCalibration();\", 100);\r\n      //requestAnimationFrame(autoCalibration);\r\n    }\r\n  } else {\r\n    $('#calibration_cnt').html(9999);\r\n    clearTimeout(t);\r\n    cam.calibrating = 0;\r\n    $('#calibration_dot').hide();\r\n    calibration_no++;\r\n    saveData();\r\n    calibrate();\r\n  }\r\n  return false;\r\n}\r\n\r\nvar t;\r\nfunction autoCalibration() {\r\n  calibrateLog();\r\n  if (cam.calibrating == 1) {\r\n    calibrateHit();\r\n  }\r\n}\r\n\r\nfunction calibrateLog() {\r\n  var $cd = $('#calibration_dot');\r\n  var cx = parseInt(Math.round($cd.offset().left));\r\n  var cy = parseInt(Math.round($cd.offset().top));\r\n  webgazer.watchListener(cx, cy);\r\n}\r\n\r\n\r\nfunction endCalibration() {\r\n  clearTimeout(t);\r\n  $('#calibration_dot').unbind(\"click\");\r\n  startValidation();\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * VALIDATE\r\n ************************************/\r\nfunction startValidation() {\r\n  validation_no = 0;\r\n  validate();\r\n}\r\n\r\nfunction validate() {\r\n  gaze_phase = \"validate\";\r\n  clearTimeout(t);\r\n  if (validation_no < validation.validations) { // if we there are validations left\r\n    $('#calibration_cnt').html(0);\r\n    var $c = $('#calibration_dot');\r\n   \r\n    if (validation.points.length == 0) {\r\n   \r\n      /*\r\n      * allocate positions by pixels rather than percentages\r\n      */\r\n     \r\n      var min_width   = \"{{min_width}}\".replace(\"px\",\"\");                          // e.g. 1000px in Borcsok et al., (2020)\r\n      var min_height   = \"{{min_height}}\".replace(\"px\",\"\");                         // e.g. 400px  in Borcsok et al., (2020)\r\n      var mid_screen_x = window.innerWidth / 2;\r\n      var mid_screen_y = window.innerHeight / 2;\r\n     \r\n      validation.points = shuffle([\r\n        {\r\n          position: \"top-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"top-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"middle\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n      ]);\r\n    }\r\n    var vp = validation.points.pop();\r\n    $c.css({\r\n        'left' : vp.x,\r\n        'top' : vp.y\r\n    });\r\n    $c.show();\r\n    validation_current.x = Math.round($c.offset().left);\r\n    validation_current.y = Math.round($c.offset().top);\r\n\r\n    data_current = {\r\n      'type': 'validation',\r\n      'block': block_no,\r\n      'trial': validation_no,\r\n      'x': validation_current.x,\r\n      'y': validation_current.y,\r\n      'raw': []\r\n    };\r\n    cam.validating = 1;\r\n    t = setTimeout(\"validateFail();\", validation.timeout);\r\n    //t = setTimeout('validation = 0;', 3000);\r\n  } else {\r\n    endValidation();\r\n  }\r\n}\r\n\r\nfunction validateFail() {\r\n  data_current.type = 'validationfail';\r\n  data_current.attempt = validation_attempt;\r\n  saveData();\r\n\r\n\r\n  cam.validating = 0;\r\n  webgazer.pause();\r\n\r\n  $('.stimuli').hide();\r\n  if (validation_attempt >= validation.attempts) {\r\n      $('#message').html('Unforuntately, the calibration failed too many times. Therefore, you can not participate in this Project. Please contact <a href=\"mailto:kilian.semmelmann@rub.de\">kilian.semmelmann@rub.de</a> if you have any questions. Thanks for your interest.').show();\r\n  } else {\r\n      validation_attempt++;\r\n      $('#message').html('The calibration failed. <br />Please follow the instructions and try again (try ' + (validation_attempt) + ' of ' + validation.attempts + ').').show().delay(5000).fadeOut(1000);\r\n      $('#instruction').show();\r\n  }\r\n  // TOOD: log validation-fail\r\n}\r\n\r\nfunction endValidation() {\r\n  cam.validating = 0\r\n  validation_attempt = 1;\r\n  webgazer.pause();\r\n  $('#instruction_message').html(design.blocks[block_no].instruction).show();\r\n  setTimeout(\"$('#instruction_message').fadeOut(1000);\", design.blocks[block_no].instruction_duration);\r\n  setTimeout(\"prepareTrial();\", design.blocks[block_no].instruction_duration + 2000);\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * START EXPERIMENT\r\n ************************************/\r\nvar t_trial_start;\r\nfunction prepareTrial() {\r\n  status = \"prepare\";\r\n  $('.stimuli').hide();\r\n  data_current = {\r\n      'type': 'trial',\r\n      'block': block_no,\r\n      'trial': trial_no,\r\n      'raw': []\r\n  };\r\n  webgazer.resume();\r\n  startTrial();\r\n}\r\n\r\n\r\nfunction startTrial() {\r\n  t_trial_start = new Date().getTime();\r\n  $('#stimuli_fixation').show();\r\n  status = \"fixation_onset\";\r\n  // use start function of block-type name\r\n  var fn = design.blocks[block_no].type+\"Start\";\r\n  window[fn]();\r\n}\r\n\r\n\r\nvar heat;\r\nfunction endTrial() {\r\n  $(\"#stimuli_div\").html(\"\");\r\n  clearTimeout(t);\r\n  cam.recording = 0;\r\n  webgazer.pause();\r\n  status = \"end\";\r\n  $('.stimuli').hide();\r\n  trial_no++;\r\n  saveData();\r\n\r\n  if (trial_no < design.blocks[block_no].trials) {\r\n    setTimeout(\"prepareTrial();\", design.blocks[block_no].iti);\r\n  } else {\r\n    block_no++;\r\n    if (block_no < design.blocks.length) {\r\n      window.localStorage.clear();\r\n      webgazer.clearData();\r\n      //loadWebgazer();\r\n      //prepareBlock();\r\n      navigation('pause');\r\n    } else {\r\n      endExperiment();\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction saveData() {\r\n \r\n \r\n  /*\r\n  * did the participant pass validation?\r\n  */\r\n  //data_current\r\n \r\n\r\n  /*\r\n  * change file name depending on whether it's calibration, validation or main trial?\r\n  * add calibration / validation / freeview number\r\n  */\r\n\r\n  var sub_trial_no = -1;\r\n  switch(gaze_phase){\r\n    case \"calibration\":\r\n      sub_trial_no = calibration_no;\r\n      break;\r\n    case \"validate\":\r\n      sub_trial_no = validation_no;\r\n     \r\n      /*\r\n      * did the participant pass? (assuming this is validation)\r\n      */\r\n      var valid_rows = 0;\r\n     \r\n      data_current.raw.forEach(function(row){\r\n        valid_rows += row.valid;\r\n      });\r\n     \r\n      break;\r\n    case \"freeview\":\r\n      sub_trial_no = stimuli_no;\r\n      break;\r\n     \r\n  }\r\n \r\n \r\n \r\n  data_current.raw = data_current.raw.map(function(row){\r\n    row.x = row.x - window.innerWidth/2;\r\n    row.y = row.y - window.innerHeight/2;\r\n   \r\n    if(typeof(image_pair) !== \"undefined\"){\r\n      Object.keys(image_pair).forEach(function(key){\r\n        row[key] = image_pair[key];\r\n      });\r\n    }\r\n    row.screen_width  = screen.width;\r\n    row.screen_height = screen.height;\r\n    row.window_width  = window.innerWidth;\r\n    row.window_height = window.innerHeight;\r\n    row.participant   = parent.parent.$(\"#participant_code\").val(),\r\n    row.trial_no      = sub_trial_no;\r\n   \r\n    if(valid_rows > 19){\r\n      row.valid_trial = true;\r\n    } else {\r\n      row.valid_trial = false;\r\n    }\r\n    return row;\r\n  });\r\n \r\n  data.push(data_current);\r\n  data_current = {};\r\n  sendData();\r\n}\r\n\r\n\r\nfunction sendData() {\r\n\r\n  var sub_trial_no = -1;\r\n  switch(gaze_phase){\r\n    case \"calibration\":\r\n      sub_trial_no = calibration_no;\r\n      break;\r\n    case \"validate\":\r\n      sub_trial_no = validation_no;\r\n      break;\r\n    case \"freeview\":\r\n      sub_trial_no = stimuli_no;\r\n      break;\r\n  }\r\n \r\n  switch(parent.parent.Project.get_vars.platform){\r\n    case \"preview\":\r\n      //do nothing\r\n      break;\r\n    case \"localhost\":\r\n      data.forEach(function(trial,trial_no){\r\n        if (trial !== null){\r\n          parent.parent.Collector.electron.fs.write_data(\r\n            parent.parent.Project.get_vars.location,\r\n            parent.parent.$(\"#participant_code\").val() + \"-\" +\r\n              parent.parent.project_json.trial_no      + \"-\" +\r\n              gaze_phase                               + \"-\" +\r\n              trial_no                                 + \"-\" +\r\n              sub_trial_no                             + \".csv\",\r\n            Papa.unparse(data[trial_no].raw)\r\n          );\r\n                                     \r\n                                     \r\n          parent.parent.online_save(parent.parent.Project.get_vars.location,\r\n                    parent.parent.$(\"#participant_code\").val() +\r\n                      gaze_phase +\r\n                      \"-\" +\r\n                      trial_no +\r\n                      \"-\" +\r\n                      sub_trial_no,\r\n                      \"-trial-\" +\r\n                      parent.parent.project_json.trial_no +\r\n                      \"-\" +\r\n                      trial_no,\r\n                    parent.parent.$(\"#completion_code\").val(),\r\n                    parent.parent.$(\"#prehashed_code\").val(),  \r\n                    Papa.unparse(data[trial_no].raw),          //the data\r\n          save_scripts,\r\n          function(){\r\n            parent.parent.online_data_obj.saves_ended ++;\r\n          });\r\n          data[trial_no] = null;\r\n        }\r\n      });\r\n      break;\r\n    default:\r\n      data.forEach(function(trial,trial_no){\r\n        if (trial !== null){\r\n         parent.parent.online_save(parent.parent.Project.get_vars.location,\r\n          parent.parent.$(\"#participant_code\").val() +\r\n            \"-\" + gaze_phase +\r\n            \"-trial-\" +\r\n            parent.parent.project_json.trial_no +\r\n            \"-\" +\r\n            trial_no +\r\n            \"-\" +\r\n            sub_trial_no,\r\n          parent.parent.$(\"#completion_code\").val(),\r\n          parent.parent.$(\"#prehashed_code\").val(),\r\n          \r\n          /*\r\n          * encrypt the data here\r\n          */\r\n          parent.parent.encrypt(\r\n            parent.parent.project_json.public_key,\r\n            Papa.unparse(data[trial_no].raw)          //the data  \r\n          ),\r\n          save_scripts,\r\n          function(){\r\n            parent.parent.online_data_obj.saves_ended ++;\r\n          });\r\n          data[trial_no] = null;\r\n        }\r\n      });\r\n       \r\n        break;\r\n  }\r\n}\r\n\r\n\r\nfunction endExperiment() {\r\n  Phase.submit();\r\n}\r\n\r\n\r\n/************************************\r\n * SIMPLE DOT VIEWING PARADIGM\r\n * If you want to introduce your own paradigms, follow the same structure and extend the design array above.\r\n ************************************/\r\nvar tSimple = {};\r\ntSimple.positions = [];\r\nfunction simpleStart() {\r\n    // if we don't have dot-positions any more, refill the array\r\n    if (tSimple.positions.length == 0) {\r\n        tSimple.positions = shuffle([\r\n            {x: \"20%\", y: \"20%\"},\r\n            {x: \"50%\", y: \"20%\"},\r\n            {x: \"80%\", y: \"20%\"},\r\n            {x: \"20%\", y: \"50%\"},\r\n            {x: \"80%\", y: \"50%\"},\r\n            {x: \"20%\", y: \"80%\"},\r\n            {x: \"50%\", y: \"80%\"},\r\n            {x: \"80%\", y: \"80%\"}\r\n        ]);\r\n    }\r\n    var pos = tSimple.positions.pop();\r\n    $('#stimuli_dot').css({\r\n        'top': pos.y,\r\n        'left': pos.x\r\n    });\r\n    data_current.task = 'simple';\r\n    data_current.x = pos.x;\r\n    data_current.y = pos.y;\r\n    data_current.condition = 'dot_' + pos.x + '_' + pos.y;\r\n\r\n    cam.recording = 1;\r\n    setTimeout('$(\"#stimuli_fixation\").hide(); status = \"fixation_offset\";', 1500);\r\n    setTimeout('simpleShowdot();', 2000);\r\n}\r\n\r\nfunction simpleShowdot() {\r\n    status = \"stimulus_onset\";\r\n    $(\"#stimuli_dot\").show();\r\n    setTimeout('status = \"stimulus_offset\"; endTrial();',  2000);\r\n}\r\n\r\n\r\n/************************************\r\n * POSNER VIEWING PARADIGM\r\n ************************************/\r\nfunction posnerStart() {\r\n    var p = Math.random() >= 0.5 ? '&gt;&gt;&gt;' : '&lt;&lt;&lt;';\r\n    $('#stimuli_prime').html(p);\r\n\r\n    var t = Math.random() >= 0.5 ? 'X' : 'N';\r\n    $('#stimuli_target').html(t);\r\n\r\n    var cond = Math.random() >= 0.7 ? 'incongruent' : 'congruent';\r\n\r\n    var tpos = 'left';\r\n    if ((cond == 'incongruent' && p == '&lt;&lt;&lt;') || ((cond == 'congruent' && p == '&gt;&gt;&gt;'))) {\r\n        tpos = 'right';\r\n    }\r\n\r\n    var pos = {};\r\n    if (tpos == 'left') {\r\n        pos.x = '20%';\r\n        pos.y = '30%';\r\n    } else {\r\n        pos.x = '80%';\r\n        pos.y = '30%';\r\n    }\r\n\r\n\r\n    $('#stimuli_target').css({\r\n        'top': pos.x,\r\n        'left': pos.y\r\n    });\r\n\r\n\r\n    data_current.task = 'posner';\r\n    data_current.x = pos.x;\r\n    data_current.y = pos.y;\r\n    data_current.condition = 'posner_' + pos.x + '_' + pos.y + '_' + tpos;\r\n\r\n    cam.recording = 1;\r\n    setTimeout(\"$('#stimuli_fixation').hide();\", 1000);\r\n    setTimeout('posnerShowprime();', 1500);\r\n}\r\n\r\nfunction posnerShowprime() {\r\n    $('#stimuli_prime').show();\r\n    setTimeout(\"posnerShowTarget();\", 300);\r\n}\r\n\r\nfunction posnerShowTarget() {\r\n    $('#stimuli_prime').hide();\r\n    $('#stimuli_target').show();\r\n    setTimeout(\"endTrial();\", 1500);\r\n}\r\n\r\n\r\n/************************************\r\n * SMOOTH PURSUIT PARADIGM\r\n ************************************/\r\nvar tPursuit = {};\r\nfunction pursuitStart() {\r\n  $('#stimuli_fixation').hide();\r\n  var pos_possible = shuffle([\r\n      {x: \"20%\", y: \"20%\", tx: \"80%\", ty: \"20%\"},\r\n      {x: \"20%\", y: \"20%\", tx: \"20%\", ty: \"80%\"},\r\n      {x: \"20%\", y: \"20%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n      {x: \"80%\", y: \"20%\", tx: \"20%\", ty: \"20%\"},\r\n      {x: \"80%\", y: \"20%\", tx: \"20%\", ty: \"80%\"},\r\n      {x: \"80%\", y: \"20%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n      {x: \"20%\", y: \"80%\", tx: \"20%\", ty: \"20%\"},\r\n      {x: \"20%\", y: \"80%\", tx: \"80%\", ty: \"20%\"},\r\n      {x: \"20%\", y: \"80%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n      {x: \"80%\", y: \"80%\", tx: \"20%\", ty: \"20%\"},\r\n      {x: \"80%\", y: \"80%\", tx: \"80%\", ty: \"20%\"},\r\n      {x: \"80%\", y: \"80%\", tx: \"20%\", ty: \"80%\"}\r\n  ]);\r\n  var pos = pos_possible[0];\r\n  $s = $('#stimuli_dot');\r\n  $s.css({\r\n    'top': pos.y,\r\n    'left': pos.x\r\n  });\r\n\r\n  $s.css({\r\n    'background-color': '#000'\r\n  });\r\n\r\n\r\n  data_current.task = 'pursuit';\r\n  data_current.x = pos.x;\r\n  data_current.y = pos.y;\r\n  data_current.condition = 'pursuit_' + pos.x + '_' + pos.y + '_' + pos.tx + '_' + pos.ty;\r\n\r\n  cam.recording = 1;\r\n  $s.show();\r\n  setTimeout(function() {\r\n    status = \"pursuit_start\";\r\n    $('#stimuli_dot').css({\r\n      'background-color': '#dd494b'\r\n    }).animate({ \"left\": pos.tx, \"top\": pos.ty },\r\n      2000,\r\n      'linear',\r\n    function() {\r\n      status = \"pursuit_end\";\r\n      setTimeout(\"endTrial();\", 500);\r\n    });\r\n  }, 1500);\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * STIMULI PARADIGM\r\n ************************************/\r\nvar tStimuli = {};\r\n\r\n\r\ntStimuli.stimuli = [];\r\n\r\n\r\n\r\nfunction process_stimuli(){\r\n  if(trial_order == \"random\"){\r\n    tStimuli.stimuli = shuffle(tStimuli.stimuli);\r\n  }\r\n \r\n \r\n  if(left_side == \"random\"){\r\n    for(var i = 0; i < tStimuli.stimuli.length; i++){\r\n      [left_image,right_image] = shuffle([tStimuli.stimuli[i].image_1,\r\n                                          tStimuli.stimuli[i].image_2]);\r\n      tStimuli.stimuli[i].image_1 = left_image;\r\n      tStimuli.stimuli[i].image_2 = right_image;\r\n    }\r\n  } else if(left_side == \"equal\" | left_side == \"counterbalance\"){\r\n    // select indexes to swap left and right for half the indexes\r\n    // all indexes:\r\n    var indexes = Array.from({length:tStimuli.stimuli.length},(v,k)=>k);\r\n        indexes = shuffle(indexes);\r\n   \r\n    //assign the first half left to right\r\n    for(var i = 0; i < Math.floor(tStimuli.stimuli.length / 2); i++){          //this will only loop through half of the randomised indexes\r\n      var this_index = indexes[i];\r\n      var right_image = tStimuli.stimuli[this_index].image_1;\r\n      var left_image = tStimuli.stimuli[this_index].image_2;\r\n      tStimuli.stimuli[this_index].image_1 = left_image;\r\n      tStimuli.stimuli[this_index].image_2 = right_image;\r\n    }\r\n  } else if(left_side == \"image_1\"){\r\n    // do nothing\r\n  } else if(left_side == \"image_2\"){\r\n    for(var i = 0; i < Math.floor(tStimuli.stimuli.length / 2); i++){\r\n      var right_image = tStimuli.stimuli[i].image_1;\r\n      var left_image = tStimuli.stimuli[i].image_2;\r\n      tStimuli.stimuli[i].image_1 = left_image;\r\n      tStimuli.stimuli[i].image_2 = right_image;\r\n    }\r\n  } else {\r\n    alert(\"there's a problem in the 'left_side' column - fix this before testing.\");\r\n  }\r\n};\r\n\r\n//check if the freeview file matches one of the stimuli files\r\nif(typeof(parent.parent.project_json.all_stims[image_file]) !== \"undefined\"){\r\n  var trial_contents = Papa.parse(parent.parent.project_json.all_stims[image_file]).data;\r\n  var trial_clean    = trial_contents.map(function(row){\r\n    return row.filter(item => item !== null);\r\n  });\r\n  tStimuli.stimuli = Papa.parse(Papa.unparse(trial_clean),{\r\n    header:true,\r\n    skipEmptyLines:true\r\n  }).data;\r\n  process_stimuli();\r\n} else {\r\n  if(image_file.toLowerCase().indexOf(\"https://\") == -1){                //i.e. isn't stored on dropbox or some other remote location\r\n    image_file = \"../User/\" + image_file;\r\n  }\r\n  $.get(image_file,function(result){\r\n    tStimuli.stimuli = Papa.parse(result,{\r\n      header:true,\r\n      skipEmptyLines:true\r\n    }).data;\r\n    process_stimuli();\r\n  });\r\n}\r\n\r\n\r\nstimuli_src_loaded = 0;\r\nvar stimuli_src_length;\r\n\r\n/*\r\n* Some code to make this work on installed version of Collector\r\n*/\r\nswitch(parent.parent.Project.get_vars.platform){\r\n  case \"preview\":\r\n  case \"localhost\":\r\n    org_repo = parent.parent.project_json.location.split(\"/\");\r\n    home_dir = parent.parent.Collector.electron.git.locate_repo({\r\n      org: org_repo[0],\r\n      repo: org_repo[1]\r\n    });\r\n    break;\r\n}\r\n\r\nfunction stimuli_loaded(){\r\n  stimuli_no++;\r\n  \r\n  data_current.task = 'stimuli';\r\n  \r\n  cam.recording = 1;\r\n  status = 'fixation_flash_first_half';\r\n  $('#stimuli_fixation').css(\"color\",\"red\");\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"black\");\r\n  }, 250);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"red\");\r\n  }, 500);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"black\");\r\n  }, 750);\r\n  setTimeout(function(){\r\n    status = 'fixation_flash_second_half';\r\n    $('#stimuli_fixation').css(\"color\",\"red\");\r\n  }, 1000);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"black\");\r\n  }, 1250);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"red\");\r\n  }, 1500);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"black\");\r\n  }, 1750);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').hide();\r\n    status = 'fixation_offset';\r\n  }, 2000);\r\n  \r\n  \r\n  /*\r\n  * set timers here\r\n  */\r\n  console.log(\"stimuli_set\");\r\n  console.log(stimuli_set);\r\n  \r\n  var these_elements = stimuli_set.elements.split(\",\");\r\n  \r\n  \r\n  these_elements.forEach(function(this_element){\r\n    var element_json = JSON.parse(stimuli_set[this_element]);\r\n    \r\n    /*\r\n    * add other properties from other relevant columns\r\n    */\r\n    var other_properties = Object.keys(stimuli_set).filter(item => item.indexOf(this_element + \".\") == 0);\r\n    \r\n    other_properties.forEach(function(item){\r\n      element_json[item.split(\".\")[1]] = stimuli_set[item];\r\n    });\r\n    \r\n    if(element_json.type == \"keys\"){\r\n      \r\n    }\r\n\r\n\r\n    /*\r\n    * deal with elements that are triggered by the end of audio or videos\r\n    */\r\n    if(typeof(element_json.onset) !== \"number\" && element_json.onset.indexOf(\".ended\") !== -1){\r\n      trigger_element = element_json.onset.split(\".\")[0];\r\n      //alert(\"trigger_element = \" + trigger_element);\r\n      $(\"#\" + trigger_element).on(\"ended\", function(){\r\n        //alert(\"this_element \" + this_element);\r\n        $(\"#\" + this_element).show();\r\n        $(\"#\" + this_element).trigger(\"play\");\r\n      });\r\n    } else {\r\n      setTimeout(function(){\r\n        $(\"#\" + this_element).show();\r\n        $(\"#\" + this_element).trigger(\"play\");\r\n        \r\n      }, 2000 + element_json.onset);\r\n    }\r\n\r\n    if(element_json.duration == \"end\"){\r\n      $(\"#\" + this_element).on('ended', function(){\r\n        $(\"#\" + this_element).hide()\r\n      });\r\n    } else {\r\n      setTimeout(function(){\r\n        $(\"#\" + this_element).hide();\r\n      }, 2000 + element_json.onset + element_json.duration);\r\n\r\n    }\r\n    \r\n    \r\n    \r\n  });\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  /*\r\n  setTimeout(function(){\r\n    \r\n    //all_fixation_rts.push;\r\n    \r\n    $(\".stimuli_img\").show();\r\n    $(\".stimuli_video\").show();\r\n    $(\"video\").trigger(\"play\");\r\n    $(\"audio\").trigger(\"play\");\r\n    setTimeout(function(){\r\n      status = 'stimulus_offset'; \r\n      endTrial();\r\n    },stim_duration);\r\n    \r\n  },2500);\r\n  */\r\n}\r\n\r\nvar stimuli_set;\r\n\r\nfunction stimuliStart() {\r\n  gaze_phase = \"stimuli\";\r\n  \r\n  document.body.style.cursor = 'none';\r\n  stimuli_set = tStimuli.stimuli.shift();\r\n  \r\n  stimuli_src_loaded = 0;\r\n\r\n  \r\n  [audio_set, image_set, video_set, text_set] = Array(4).fill([]);\r\n  var these_elements = stimuli_set.elements.split(\",\");\r\n  these_elements.forEach(function(this_element){\r\n    var element_json = JSON.parse(stimuli_set[this_element]);\r\n    \r\n    /*\r\n    * add other properties from other relevant columns\r\n    */\r\n    var other_properties = Object.keys(stimuli_set).filter(item => item.indexOf(this_element + \".\") == 0);\r\n    \r\n    other_properties.forEach(function(item){\r\n      element_json[item.split(\".\")[1]] = stimuli_set[item];\r\n    });\r\n    \r\n    \r\n    switch(element_json.type){\r\n      \r\n      case \"audio\":\r\n        var this_item = $(\"<audio>\");\r\n        this_item.prop(\"src\", home_dir + element_json.src.replace(\"../User\",\"/User\"))\r\n          .prop(\"id\", this_element);\r\n        $(\"#stimuli_div\").append(this_item);\r\n        $(\"#\" + this_element).on(\"canplay canplaythrough\",function(){\r\n          stimuli_src_loaded = stimuli_src_loaded + 1;\r\n          \r\n          if(these_elements.length == stimuli_src_loaded){\r\n            stimuli_loaded();\r\n          }\r\n        });\r\n        break;\r\n      case \"image\":\r\n        var this_item = $(\"<img>\");\r\n        this_item.prop(\"src\", home_dir + element_json.src.replace(\"../User\",\"/User\"))\r\n          .addClass(\"stimuli\")\r\n          .addClass(\"stimuli_img\")\r\n          .css(\"margin-left\",   element_json.x)\r\n          .css(\"top\",    element_json.y)\r\n          .css(\"width\",  element_json.width)\r\n          .css(\"height\", element_json.height)\r\n          .css(\"display\", \"none\")\r\n          .prop(\"id\", this_element);\r\n        $(\"#stimuli_div\").append(this_item);\r\n        $(\"#\" + this_element).on(\"load\",function(){\r\n          \r\n          stimuli_src_loaded = stimuli_src_loaded + 1;\r\n          if(these_elements.length == stimuli_src_length){\r\n            stimuli_loaded();\r\n          }\r\n        });\r\n        break;\r\n      case \"keys\":\r\n        stimuli_src_loaded = stimuli_src_loaded + 1;\r\n        if(these_elements.length == stimuli_src_loaded){\r\n          stimuli_loaded();\r\n        }\r\n        break;\r\n      case \"text\":\r\n        //alert(\"hi\");\r\n        this_item = $(\"<div>\");\r\n        this_item.html(element_json.text)\r\n          .addClass(\"stimuli\")\r\n          .css(\"margin-left\",   element_json.x)\r\n          .css(\"top\",    window.innerHeight/2 + element_json.y)\r\n          .css(\"width\",  element_json.width)\r\n          .css(\"height\", element_json.height)\r\n          .css(\"display\", \"none\")\r\n          .prop(\"id\", this_element);\r\n        $(\"#stimuli_div\").append(this_item);\r\n        stimuli_src_loaded = stimuli_src_loaded + 1;\r\n        \r\n        if(these_elements.length == stimuli_src_loaded){\r\n          stimuli_loaded();\r\n        }\r\n        break;\r\n      case \"video\":\r\n        var this_item = $(\"<video>\");\r\n        var this_source = $(\"<source>\");\r\n            this_source.prop(\"src\", home_dir + element_json.src.replace(\"../User\",\"/User\"));\r\n        \r\n            this_item.prop(\"src\", home_dir + element_json.src.replace(\"../User\",\"/User\"))\r\n              .addClass(\"stimuli\")\r\n              .addClass(\"stimuli_video\")\r\n              .css(\"margin-left\",   element_json.x)\r\n              .css(\"top\",    element_json.y)\r\n              .css(\"width\",  element_json.width)\r\n              .css(\"height\", element_json.height)\r\n              .css(\"display\", \"none\")\r\n              .prop(\"id\", this_element);\r\n        this_item.append(this_source);\r\n        $(\"#stimuli_div\").append(this_item);\r\n        $(\"#\" + this_element).on(\"loadstart\",function(){\r\n          stimuli_src_loaded = stimuli_src_loaded + 1;\r\n          \r\n          if(these_elements.length == stimuli_src_loaded){\r\n            stimuli_loaded();\r\n          }\r\n        });\r\n        \r\n        break;\r\n    }\r\n    \r\n    //if(typeof(stimuli_set[this_element + \".\"])\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\n/************************************\r\n * GENERATE AND SHOW HEATMAP\r\n ************************************/\r\nfunction heatmap() {\r\n    // preprocess data for heatmap\r\n    var bins = []; // create bins and fill them\r\n    for (var y = 0; y < window.innerHeight; y++) {\r\n        for (var x = 0; x < window.innerWidth; x++) {\r\n            bins.push([x, y, 0]);\r\n        }\r\n    }\r\n    // sort fixations into bins and get max\r\n    var max = 0;\r\n    for (var i = 0; i < data[data.length - 1].raw.length; i++) {\r\n        var d = data[data.length - 1].raw[i];\r\n        var dx = Math.round(d.x);\r\n        var dy = Math.round(d.y);\r\n        var pos = (dy * window.innerWidth) + dx;\r\n        if (pos <= bins.length && pos >= 0) {\r\n            bins[pos][2] += 1;\r\n            if (bins[pos][2] > max) {\r\n                max = bins[pos][2];\r\n            }\r\n        } else {\r\n            console.log('dropped ' + pos);\r\n        }\r\n    }\r\n\r\n    // remove empty bins\r\n    var binsc = [];\r\n    for (var i = 0; i < bins.length; i++) {\r\n        if (bins[i][2] != 0) {\r\n            binsc.push(bins[i]);\r\n        }\r\n    }\r\n\r\n    // create heatmap\r\n    $('body').append(\"<canvas id=\\\"heatmap\\\"></canvas>\");\r\n    $('#heatmap').attr('width', window.innerWidth);\r\n    $('#heatmap').attr('height', window.innerHeight);\r\n    heat = simpleheat('heatmap');\r\n    heat.resize();\r\n    heat.radius(30,50);\r\n    heat.max(max).data(binsc).draw();\r\n\r\n    $('#stimuli_img').show();\r\n}\r\n\r\n\r\n/**\r\n * navigation\r\n */\r\nvar page = 1;\r\nvar oldpage = -1;\r\nvar d_consent = undefined;\r\nfunction navigation(direction) {\r\n  $('#message').hide();\r\n\r\n  $('#instruction_continue_text').html(\"&gt;\");\r\n\r\n\r\n \r\nif (page == 2 && direction == 'continue') {\r\n    if (cam.initialized == 1) {\r\n      $('#instruction').fadeOut(1000);\r\n      setTimeout(\"prepareBlock();\", 2000);\r\n    }\r\n  } else if (page == 2 && direction == 'pause') {\r\n    $('#instruction_continue').html(\"continue\").css({'font-size': '1.7em'});\r\n    $('#instruction_2').find(\"h1\").html('short pause (block ' + block_no + ' of ' + design.blocks.length + \")\");\r\n    $('#setup_first').hide();\r\n    $('#setup_after').show();\r\n\r\n    $('#instruction').show(function() {\r\n      if (block_no == design.blocks.length) {\r\n        page++;\r\n      } else {\r\n        $('#instruction_2').fadeIn(300);\r\n        $('#webgazerVideoFeed').show();\r\n      }\r\n    });\r\n  } else if  (direction == 'continue') {\r\n    page++;\r\n  } else if (direction == 'back') {\r\n    page--;\r\n  }\r\n  page = page < 1 ? 1 : page;\r\n  page = page > $('.instruction_page').length ? $('.instruction_page').length : page;\r\n  page <= 1 ? $('#instruction_back').hide() : $('#instruction_back').show();\r\n  page >= $('.instruction_page').length ? $('#instruction_continue').hide() : $('#instruction_continue').show();\r\n  page >= 3 ? $('#instruction_back,#instruction_continue').hide() : \"\";\r\n  block_no > 0 ? $('#instruction_back').hide() : \"\";\r\n\r\n  if (oldpage != page) { // if we stay at the same page, we avoid unnecessary animations\r\n    $('.instruction_page').hide();\r\n    $('#instruction_'+page).fadeIn(300);\r\n  }\r\n  // start up webcam\r\n  if (page == 2 && cam.initialized == 0) {\r\n    $(\"#instruction_continue\").hide();\r\n    loadWebgazer();\r\n  }\r\n  oldpage = page;\r\n}\r\n\r\n\r\nvar cl;\r\nvar t_start = new Date().getTime();\r\n$('document').ready(function() {\r\n  $('#stimulus').hide();\r\n  $('#calibration_dot').hide();\r\n  $('#setup_after').hide();\r\n  $('#instruction_message').hide();\r\n  $('#therest').hide();\r\n\r\n\r\n  $('#start_button').click(function() {\r\n    $(this).hide();\r\n    prepareBlock();\r\n  });\r\n\r\n  $('body').keypress(function(e) {\r\n    //e.preventDefault();\r\n    switch(e.keyCode) {\r\n\r\n    }\r\n  });\r\n\r\n  $('#instruction_continue').click(function() {\r\n    navigation('continue');\r\n  });\r\n\r\n  $('#instruction_back').click(function() {\r\n    navigation('back');\r\n  });\r\n\r\n  $( \"#f_crowdflowerid\" ).tooltip({\r\n    show: {\r\n      effect: \"slideDown\",\r\n      delay: 250\r\n    }\r\n  });\r\n\r\n\r\n  /*\r\n  $('#f_birthday').datepicker({\r\n      dateFormat: 'yy/mm/dd',\r\n      changeYear: true,\r\n      changeMonth: true,\r\n      yearRange: \"-100:+0\"\r\n  });\r\n  */\r\n  var select = $('#f_birthday');\r\n  for (var i=18;i <= 100; i++){\r\n    select.append('<option value=\"'+i+'\">'+i+'</option>')\r\n  }\r\n\r\n  window.localStorage.clear();\r\n   \r\n  var ss = window.location.hash.substring(1);\r\n  $('#cf_reference,#asd_reference,#rub_reference,#cf_code').hide();\r\n  if (ss == \"cf\") { // crowdflower-reference\r\n    $('#cf_reference,#cf_code').show();\r\n  } else if (ss == \"rub\") {\r\n    $('#rub_reference').show();\r\n} else {\r\n    $('#asd_reference').show();\r\n}\r\n\r\n  var is_chrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;\r\n  var is_firefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\r\n  if (is_chrome || is_firefox) {\r\n    page = 0;\r\n    navigation('start');\r\n  } else {\r\n    $('#instruction').hide();\r\n    $('#message').html('Thank you very much for your interest in our Project.<br /><br />Unfortunately, your browser is not supported by our website. To participate, you need either the browser \"Google Chrome\" or \"Firefox\".<br /><br />Do download one of these securely and free of charge, please follow one of these links: <a href=\"https://www.google.com/chrome/browser/desktop/\" target=\"_blank\">Google Chrome</a> or <a href=\"https://www.mozilla.org/de/firefox/new/\" target=\"_blank\">Mozilla Firefox</a>').show();\r\n  }\r\n});\r\n\r\n\r\n/**\r\n function drawLoop() {\r\n    requestAnimFrame(drawLoop);\r\n    var p = webgazer.getCurrentPrediction();\r\n    if (p !== null) {\r\n        console.log(p);\r\n        $('body').append('<span class=\"p\" style=\"top: '+p.y+'px; left: '+p.x+'px\"></span>');\r\n        measurements++;\r\n    }\r\n    t = (new Date().getTime() - start)/1000;\r\n    cam.overlay.getContext('2d').clearRect(0,0,cam.width,cam.height);\r\n    if (cl.getCurrentPosition()) {\r\n        //console.log(cl.getCurrentPosition()[0]);\r\n        //cl.draw(overlay);\r\n    }\r\n}\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\nwindow.onbeforeunload = function() {\r\n  //webgazer.end(); //Uncomment if you want to save the data even if you reload the page.\r\n}\r\n</script>"
        },
        "procs_csv": {},
        "stims_csv": {}
      },
      "gaze_preview": {
        "all_procs": {
          "procedure_1.csv": "item,survey,max time,text,shuffle 1,code,calibrations,calibration_skip,design_type,image_file,trials,min_width,min_height,skip_instruct,left_side,\r\n0,,user,\"Please look at the cross.<br />A video will follow MORE INSTRUCTIONS HERE, look at the code column in the procedure sheet to make these instructions.<br /><br />Do not move your head, <br />only use your eyes.\",off,webgazer_3,13,yes,stimuli,gaze_practice.csv,8,1100px,400px,off,image_1,\r\n0,,user,\"<style>\r\n#instructions{\r\n  margin:auto;\r\n  width:500px;\r\n  padding:50px;\r\n  height:600px;\r\n  text-align: center;    \r\n}\r\n</style>\r\n\r\n<div id=\"\"instructions\"\">Your instructions here</div>\r\ncenter the instrcutions on the screen\r\n<button onclick=\"\"Phase.submit()\"\">Proceed</button>\",,text,,,,,,,,,,",
          "procedure_1_reversed.csv": "item,survey,name,max time,text,shuffle 1,weight,freeview_image_file,code,calibration_skip,calibrations,design_type,calibration_skip*,image_height,image_width,save_script,stim_duration,trials,left_position,right_position,min_width,min_height,skip_instruct,backup_script_location,left_side,\r\n0,,DRINKERS ONLY,,\"This study asks questions about your alcoholic drinking habits. Please ONLY press \"\"proceed\"\" if you drink alcohol\",,,,instruct,,,,,,,,,,,,,,,,,\r\n0,info_jf1.csv,information,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,consent_jf1.csv,consent,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,,instruct,user,\"<span style='font-size:20px'>Thank you for participating - you are about to start an eye-tracking task. <br><br>\r\n In this task we will ask you to look at some dots to train the camera to know where your eyes are looking. <br><br>\r\n After this we will present you with pairs of images. You can look wherever you like on the screen.\r\n </span>\",off,1,,instruct,,,,,,,,,,,,,,,,,\r\n0,,webgazer,user,\"Please look at the cross.<br />A pair of images will follow. You are free <br />to look at either image.<br /><br />Do not move your head, <br />only use your eyes.\",off,1,gaze_pairs_a_sn_r1.csv,webgazer_3,no,13,freeview,no,300px,400px,,5000,40,-300px,300px,1100px,400px,off,,image_1,\r\n0,,instruct,user,Please take a break before starting the second half of the eyetracking task.,off,1,,instruct,,,,,,,,,,,,,,,,,\r\n0,,webgazer,user,\"Please look at the cross.<br />A pair of images will follow. You are free <br />to look at either image.<br /><br />Do not move your head, <br />only use your eyes.\",off,1,gaze_pairs_a_sn_r2.csv,webgazer_3,no,13,freeview,no,300px,400px,,5000,40,-300px,300px,1100px,400px,off,,image_1,\r\n0,modified_childhood_experiences.csv,childhood_experiences,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,barratt-impulsiveness.csv,impulsiveness,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,pathological_narcissism.csv,narcissism,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,audit.csv,alcohol,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,social_media_disorder.csv,social_networking,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,phq_9_adjusted.csv,depression,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,erq.csv,emotions,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,debrief_jf1.csv,debrief,user,,off,1,,survey,,,,,,,,,,,,,,,,,\r\n0,sources_of_support_jf1.csv,support,user,,off,1,,survey,,,,,,,,,,,,,,,,,",
          "procedure_actual_list1.csv": "item,survey,max time,text,shuffle 1,code,calibrations,calibration_skip,design_type,image_file,trials,min_width,min_height,skip_instruct,stim_duration,left_side,\r\n0,,user,\"<h2>Debrief </h2>\r\n<span style='font-size:23'>Thank you for taking part in the CAASD lab eye-tracking emotion study. Your participation is extremely valued, and will help us to better understand how we process emotional voices and facial expressions.<br>\r\nThis study consists of two parts. In the first part, you will hear some emotional voices and facial expressions, you will have to make the judgement of what emotion you perceive. We will use the webcam to track your attention, your video will not be saved, the location where you look will be saved anonymously. The second part, we will ask you for some basic demographic details and to rate some statements that best describe you and how you feel.</span>\r\n<br><br>\r\n<br>\r\n<br>\r\nThis study, conducted by Dr Fang Liu, Dr Chen Zhao, and Dr Anthony Haffey, Kiera Stevens School of Psychology & Clinical Language Sciences, University of Reading, has been reviewed by the University Research Ethics Committee and has been given a favourable ethical opinion for conduct. <br>\r\nIf you have any questions or wish to withdraw from the study, please contact us at: caasd@reading.ac.uk\r\n\r\n\",,instruct,,,,,,,,,,,\r\n0,,user,\"<span style='font-size:20'>Please choose a quiet and well-lit place to take part in the study so you can concentrate, as the quality of the data is very important to us. <br /><br>\r\n\r\nPlease<b> use your headphones</b> once you are ready to start. Here is a sound example, please adjust the volume to a comfortable level and <b>keep the same volume throughout the study</b>.<br /><br></span>\r\n<audio controls>\r\n  <source src=\"\"horse.ogg\"\" type=\"\"audio/ogg\"\">\r\n  <source src=\"\"../User/Stimuli/A_W14_H_So_D_-5.wav\"\" type=\"\"audio/wav\"\">\r\n  Your browser does not support the audio tag.\r\n</audio><br>\r\n<br>\r\n\r\n<span style='font-size:20'>Please note that you will be given opportunities to have breaks (about every 10 min), please only take breaks when the instruction shows on the screen, as any interruption of the study will require calibration for attention tracking.  \r\n<br>\r\n</span>\r\n\r\n\",off,instruct,,,,,,,,,,,\r\n0,,user,\"Please look at the cross.<br />A video will follow MORE INSTRUCTIONS HERE, look at the code column in the procedure sheet to make these instructions.<br /><br />Do not move your head, <br />only use your eyes.\",off,webgazer_3,13,yes,stimuli,gaze_practice.csv,8,1100px,400px,off,5000,image_1,\r\n0,,user,\"Please look at the cross.<br />A video will follow MORE INSTRUCTIONS HERE, look at the code column in the procedure sheet to make these instructions.<br /><br />Do not move your head, <br />only use your eyes.\",off,webgazer_3,13,yes,stimuli,gaze_actual_list1a.csv,80,1100px,400px,off,5000,image_1,\r\n0,,user,\"Please look at the cross.<br />A video will follow MORE INSTRUCTIONS HERE, look at the code column in the procedure sheet to make these instructions.<br /><br />Do not move your head, <br />only use your eyes.\",off,webgazer_3,13,yes,stimuli,gaze_actual_list1b.csv,80,1100px,400px,off,5000,image_1,",
          "procedure_actual_list2.csv": "item,survey,max time,text,shuffle 1,code,calibrations,calibration_skip,design_type,image_file,trials,min_width,min_height,skip_instruct,stim_duration,left_side,\r\n0,,user,\"Please look at the cross.<br />A video will follow MORE INSTRUCTIONS HERE, look at the code column in the procedure sheet to make these instructions.<br /><br />Do not move your head, <br />only use your eyes.\",off,webgazer_3,13,yes,stimuli,gaze_practice.csv,8,1100px,400px,off,5000,image_1,\r\n0,,user,\"Please look at the cross.<br />A video will follow MORE INSTRUCTIONS HERE, look at the code column in the procedure sheet to make these instructions.<br /><br />Do not move your head, <br />only use your eyes.\",off,webgazer_3,13,yes,stimuli,gaze_actual_list2a.csv,80,1100px,400px,off,5000,image_1,\r\n0,,user,\"Please look at the cross.<br />A video will follow MORE INSTRUCTIONS HERE, look at the code column in the procedure sheet to make these instructions.<br /><br />Do not move your head, <br />only use your eyes.\",off,webgazer_3,13,yes,stimuli,gaze_actual_list2b.csv,80,1100px,400px,off,5000,image_1,",
          "procedure_actual_list3.csv": "item,survey,max time,text,shuffle 1,code,calibrations,calibration_skip,design_type,image_file,trials,min_width,min_height,skip_instruct,stim_duration,left_side,\r\n0,,user,\"Please look at the cross.<br />A video will follow MORE INSTRUCTIONS HERE, look at the code column in the procedure sheet to make these instructions.<br /><br />Do not move your head, <br />only use your eyes.\",off,webgazer_3,13,yes,stimuli,gaze_practice.csv,8,1100px,400px,off,5000,image_1,\r\n0,,user,\"Please look at the cross.<br />A video will follow MORE INSTRUCTIONS HERE, look at the code column in the procedure sheet to make these instructions.<br /><br />Do not move your head, <br />only use your eyes.\",off,webgazer_3,13,yes,stimuli,gaze_actual_list3a.csv,80,1100px,400px,off,5000,image_1,\r\n0,,user,\"Please look at the cross.<br />A video will follow MORE INSTRUCTIONS HERE, look at the code column in the procedure sheet to make these instructions.<br /><br />Do not move your head, <br />only use your eyes.\",off,webgazer_3,13,yes,stimuli,gaze_actual_list3b.csv,80,1100px,400px,off,5000,image_1,",
          "procedure_actual_list4.csv": "item,survey,max time,text,shuffle 1,code,calibrations,calibration_skip,design_type,image_file,trials,min_width,min_height,skip_instruct,stim_duration,left_side,\r\n0,,user,\"Please look at the cross.<br />A video will follow MORE INSTRUCTIONS HERE, look at the code column in the procedure sheet to make these instructions.<br /><br />Do not move your head, <br />only use your eyes.\",off,webgazer_3,13,yes,stimuli,gaze_practice.csv,8,1100px,400px,off,5000,image_1,\r\n0,,user,\"Please look at the cross.<br />A video will follow MORE INSTRUCTIONS HERE, look at the code column in the procedure sheet to make these instructions.<br /><br />Do not move your head, <br />only use your eyes.\",off,webgazer_3,13,yes,stimuli,gaze_actual_list4a.csv,80,1100px,400px,off,5000,image_1,\r\n0,,user,\"Please look at the cross.<br />A video will follow MORE INSTRUCTIONS HERE, look at the code column in the procedure sheet to make these instructions.<br /><br />Do not move your head, <br />only use your eyes.\",off,webgazer_3,13,yes,stimuli,gaze_actual_list4b.csv,80,1100px,400px,off,5000,image_1,"
        },
        "all_stims": {
          "stimuli_1.csv": "cue,answer,\r\na,ant,\r\nb,bug,\r\n,,",
          "gaze_pairs_a_sn.csv": "Name_1,Name_2,video_1,audio_1,video_1_height,video_1_width,duration,video_1_x,video_1_y,\r\nUnopened_1_Target_A.png,Unopened_1_Control_A.png,../User/Stimuli/V_M21_A_Sp_D_N1.mp4,../User/Stimuli/A_M21_A_Sp_D.wav,300,400,5000,0,0,\r\nUnopened_1_Target_A.png,Unopened_1_Control_A.png,../User/Stimuli/V_M21_A_Sp_D_N1.mp4,../User/Stimuli/A_M21_A_Sp_D.wav,300,400,5000,0,0,\r\n,,,,,,,,,",
          "gaze_practice.csv": "trial,actor,emotion,channel,sentence,auditory_noise_level,video_1,audio_1,text_1,keys_1,video_1.src,audio_1.src,elements,\r\n1,M21,Angry,Speech,Dog,High,\"{\n  \"\"type\"\": \"\"video\"\",\n  \"\"height\"\": 590,\n  \"\"width\"\": 885,\n  \"\"onset\"\": 0,\n  \"\"duration\"\": \"\"end\"\",\n  \"\"x\"\" : 0,\n  \"\"y\"\" : 0\n}\",\"{\n  \"\"type\"\": \"\"audio\"\",\n  \"\"onset\"\": 0,\n  \"\"duration\"\": \"\"end\"\"\n}\",\"{\n  \"\"type\"\": \"\"text\"\",\n  \"\"text\"\": \"\"<h5>Please only use your free hand to select the emotions as follows:</h5><h5>C = angry | V = fear | B = happy | N = neutral</h5>\"\",\n  \"\"onset\"\": \"\"video_1.ended\"\",\n  \"\"x\"\": 0,\n  \"\"y\"\": 0,\n  \"\"duration\"\": \"\"keys_1.response\"\",\n  \"\"width\"\": \"\"500px\"\"\n}\",\"{\n  \"\"type\"\": \"\"keys\"\",\n  \"\"onset\"\": \"\"video_1.ended\"\",\n  \"\"keys\"\": \"\"cvbn\"\",\n  \"\"duration\"\": 2000,\n  \"\"end_trial\"\": \"\"yes\"\"\n}\",../User/Stimuli/V_M21_A_Sp_D_N1.mp4,../User/Stimuli/A_M21_A_Sp_D_-5.wav,\"video_1,audio_1,text_1,keys_1\",\r\n2,M21,Happy,Speech,Kid,No,\"{\n  \"\"type\"\": \"\"video\"\",\n  \"\"height\"\": 590,\n  \"\"width\"\": 885,\n  \"\"onset\"\": 0,\n  \"\"duration\"\": \"\"end\"\",\n  \"\"x\"\" : 0,\n  \"\"y\"\" : 0\n}\",\"{\n  \"\"type\"\": \"\"audio\"\",\n  \"\"onset\"\": 0,\n  \"\"duration\"\": \"\"end\"\"\n}\",\"{\n  \"\"text\"\": \"\"<h5>Please only use your free hand to select the emotions as follows:</h5><h5>C = angry | V = fear | B = happy | N = neutral</h5>\"\",\n  \"\"onset\"\": \"\"video_1.ended\"\",\n  \"\"x\"\": 0,\n  \"\"y\"\": 0,\n  \"\"duration\"\": \"\"keys_1.response\"\"\n}\",\"{\n  \"\"type\"\": \"\"keys\"\",\n  \"\"onset\"\": \"\"video_1.ended\"\",\n  \"\"text\"\": \"\"cvbn\"\",\n  \"\"duration\"\": 2000,\n  \"\"end_trial\"\": \"\"yes\"\"\n}\",../User/Stimuli/V_W14_A_So_K_N1.mp4,../User/Stimuli/A_W14_A_So_K.wav,\"video_1,audio_1,text_1,keys_1\",\r\n3,F14,Fearful,Speech,Kid,High,\"{\n  \"\"type\"\": \"\"video\"\",\n  \"\"height\"\": 590,\n  \"\"width\"\": 885,\n  \"\"onset\"\": 0,\n  \"\"duration\"\": \"\"end\"\",\n  \"\"x\"\" : 0,\n  \"\"y\"\" : 0\n}\",\"{\n  \"\"type\"\": \"\"audio\"\",\n  \"\"onset\"\": 0,\n  \"\"duration\"\": \"\"end\"\"\n}\",\"{\n  \"\"text\"\": \"\"<h5>Please only use your free hand to select the emotions as follows:</h5><h5>C = angry | V = fear | B = happy | N = neutral</h5>\"\",\n  \"\"onset\"\": \"\"video_1.ended\"\",\n  \"\"x\"\": 0,\n  \"\"y\"\": 0,\n  \"\"duration\"\": \"\"keys_1.response\"\"\n}\",\"{\n  \"\"type\"\": \"\"keys\"\",\n  \"\"onset\"\": \"\"video_1.ended\"\",\n  \"\"text\"\": \"\"cvbn\"\",\n  \"\"duration\"\": 2000,\n  \"\"end_trial\"\": \"\"yes\"\"\n}\",../User/Stimuli/V_M21_F_So_D_N1.mp4,../User/Stimuli/A_M21_F_So_D.wav,\"video_1,audio_1,text_1,keys_1\",\r\n4,M21,Fearful,Song,Dog,No,\"{\n  \"\"type\"\": \"\"video\"\",\n  \"\"height\"\": 590,\n  \"\"width\"\": 885,\n  \"\"onset\"\": 0,\n  \"\"duration\"\": \"\"end\"\",\n  \"\"x\"\" : 0,\n  \"\"y\"\" : 0\n}\",\"{\n  \"\"type\"\": \"\"audio\"\",\n  \"\"onset\"\": 0,\n  \"\"duration\"\": \"\"end\"\"\n}\",\"{\n  \"\"text\"\": \"\"<h5>Please only use your free hand to select the emotions as follows:</h5><h5>C = angry | V = fear | B = happy | N = neutral</h5>\"\",\n  \"\"onset\"\": \"\"video_1.ended\"\",\n  \"\"x\"\": 0,\n  \"\"y\"\": 0,\n  \"\"duration\"\": \"\"keys_1.response\"\"\n}\",\"{\n  \"\"type\"\": \"\"keys\"\",\n  \"\"onset\"\": \"\"video_1.ended\"\",\n  \"\"text\"\": \"\"cvbn\"\",\n  \"\"duration\"\": 2000,\n  \"\"end_trial\"\": \"\"yes\"\"\n}\",../User/Stimuli/V_W14_F_Sp_K_N1.mp4,../User/Stimuli/A_W14_F_Sp_K_-5.wav,\"video_1,audio_1,text_1,keys_1\",\r\n5,F14,Angry,Song,Kid,No,\"{\n  \"\"type\"\": \"\"video\"\",\n  \"\"height\"\": 590,\n  \"\"width\"\": 885,\n  \"\"onset\"\": 0,\n  \"\"duration\"\": \"\"end\"\",\n  \"\"x\"\" : 0,\n  \"\"y\"\" : 0\n}\",\"{\n  \"\"type\"\": \"\"audio\"\",\n  \"\"onset\"\": 0,\n  \"\"duration\"\": \"\"end\"\"\n}\",\"{\n  \"\"text\"\": \"\"<h5>Please only use your free hand to select the emotions as follows:</h5><h5>C = angry | V = fear | B = happy | N = neutral</h5>\"\",\n  \"\"onset\"\": \"\"video_1.ended\"\",\n  \"\"x\"\": 0,\n  \"\"y\"\": 0,\n  \"\"duration\"\": \"\"keys_1.response\"\"\n}\",\"{\n  \"\"type\"\": \"\"keys\"\",\n  \"\"onset\"\": \"\"video_1.ended\"\",\n  \"\"text\"\": \"\"cvbn\"\",\n  \"\"duration\"\": 2000,\n  \"\"end_trial\"\": \"\"yes\"\"\n}\",../User/Stimuli/V_M21_H_Sp_K_N1.mp4,../User/Stimuli/A_M21_H_Sp_K.wav,\"video_1,audio_1,text_1,keys_1\",\r\n6,M21,Neutral,Song,Kid,High,\"{\n  \"\"type\"\": \"\"video\"\",\n  \"\"height\"\": 590,\n  \"\"width\"\": 885,\n  \"\"onset\"\": 0,\n  \"\"duration\"\": \"\"end\"\",\n  \"\"x\"\" : 0,\n  \"\"y\"\" : 0\n}\",\"{\n  \"\"type\"\": \"\"audio\"\",\n  \"\"onset\"\": 0,\n  \"\"duration\"\": \"\"end\"\"\n}\",\"{\n  \"\"text\"\": \"\"<h5>Please only use your free hand to select the emotions as follows:</h5><h5>C = angry | V = fear | B = happy | N = neutral</h5>\"\",\n  \"\"onset\"\": \"\"video_1.ended\"\",\n  \"\"x\"\": 0,\n  \"\"y\"\": 0,\n  \"\"duration\"\": \"\"keys_1.response\"\"\n}\",\"{\n  \"\"type\"\": \"\"keys\"\",\n  \"\"onset\"\": \"\"video_1.ended\"\",\n  \"\"text\"\": \"\"cvbn\"\",\n  \"\"duration\"\": 2000,\n  \"\"end_trial\"\": \"\"yes\"\"\n}\",../User/Stimuli/V_W14_H_So_D_N1.mp4,../User/Stimuli/A_W14_H_So_D_-5.wav,\"video_1,audio_1,text_1,keys_1\",\r\n7,F14,Happy,Song,Dog,High,\"{\n  \"\"type\"\": \"\"video\"\",\n  \"\"height\"\": 590,\n  \"\"width\"\": 885,\n  \"\"onset\"\": 0,\n  \"\"duration\"\": \"\"end\"\",\n  \"\"x\"\" : 0,\n  \"\"y\"\" : 0\n}\",\"{\n  \"\"type\"\": \"\"audio\"\",\n  \"\"onset\"\": 0,\n  \"\"duration\"\": \"\"end\"\"\n}\",\"{\n  \"\"text\"\": \"\"<h5>Please only use your free hand to select the emotions as follows:</h5><h5>C = angry | V = fear | B = happy | N = neutral</h5>\"\",\n  \"\"onset\"\": \"\"video_1.ended\"\",\n  \"\"x\"\": 0,\n  \"\"y\"\": 0,\n  \"\"duration\"\": \"\"keys_1.response\"\"\n}\",\"{\n  \"\"type\"\": \"\"keys\"\",\n  \"\"onset\"\": \"\"video_1.ended\"\",\n  \"\"text\"\": \"\"cvbn\"\",\n  \"\"duration\"\": 2000,\n  \"\"end_trial\"\": \"\"yes\"\"\n}\",../User/Stimuli/V_M21_N_So_K_N1.mp4,../User/Stimuli/A_M21_N_So_K_-5.wav,\"video_1,audio_1,text_1,keys_1\",\r\n8,F14,Neutral,Speech,Dog,No,\"{\n  \"\"type\"\": \"\"video\"\",\n  \"\"height\"\": 590,\n  \"\"width\"\": 885,\n  \"\"onset\"\": 0,\n  \"\"duration\"\": \"\"end\"\",\n  \"\"x\"\" : 0,\n  \"\"y\"\" : 0\n}\",\"{\n  \"\"type\"\": \"\"audio\"\",\n  \"\"onset\"\": 0,\n  \"\"duration\"\": \"\"end\"\"\n}\",\"{\n  \"\"text\"\": \"\"<h5>Please only use your free hand to select the emotions as follows:</h5><h5>C = angry | V = fear | B = happy | N = neutral</h5>\"\",\n  \"\"onset\"\": \"\"video_1.ended\"\",\n  \"\"x\"\": 0,\n  \"\"y\"\": 0,\n  \"\"duration\"\": \"\"keys_1.response\"\"\n}\",\"{\n  \"\"type\"\": \"\"keys\"\",\n  \"\"onset\"\": \"\"video_1.ended\"\",\n  \"\"text\"\": \"\"cvbn\"\",\n  \"\"duration\"\": 2000,\n  \"\"end_trial\"\": \"\"yes\"\"\n}\",../User/Stimuli/V_W14_N_Sp_D_N1.mp4,../User/Stimuli/A_W14_N_Sp_D.wav,\"video_1,audio_1,text_1,keys_1\",\r\n,,,,,,,,,,,,,",
          "gaze_actual_list1a.csv": "trial,actor,emotion,channel,sentence,auditory_noise_level,video_1,audio_1,video_1_height,video_1_width,duration,video_1_x,video_1_y,\r\n1,M21,Angry,Speech,Dog,High,../User/Stimuli/V_M21_A_Sp_D_N1.mp4,../User/Stimuli/A_M21_A_Sp_D_-5.wav,590,885,4000,0,0,\r\n2,M21,Happy,Speech,Kid,No,../User/Stimuli/V_W14_A_So_K_N1.mp4,../User/Stimuli/A_W14_A_So_K.wav,590,885,4000,0,0,\r\n3,F14,Fearful,Speech,Kid,High,../User/Stimuli/V_M21_F_So_D_N1.mp4,../User/Stimuli/A_M21_F_So_D.wav,590,885,4000,0,0,\r\n4,M21,Fearful,Song,Dog,No,../User/Stimuli/V_W14_F_Sp_K_N1.mp4,../User/Stimuli/A_W14_F_Sp_K_-5.wav,590,885,4000,0,0,\r\n5,F14,Angry,Song,Kid,No,../User/Stimuli/V_M21_H_Sp_K_N1.mp4,../User/Stimuli/A_M21_H_Sp_K.wav,590,885,4000,0,0,\r\n6,M21,Neutral,Song,Kid,High,../User/Stimuli/V_W14_H_So_D_N1.mp4,../User/Stimuli/A_W14_H_So_D_-5.wav,590,885,4000,0,0,\r\n7,F14,Happy,Song,Dog,High,../User/Stimuli/V_M21_N_So_K_N1.mp4,../User/Stimuli/A_M21_N_So_K_-5.wav,590,885,4000,0,0,\r\n8,F14,Neutral,Speech,Dog,No,../User/Stimuli/V_W14_N_Sp_D_N1.mp4,../User/Stimuli/A_W14_N_Sp_D.wav,590,885,4000,0,0,\r\n,,,,,,,,,,,,,",
          "gaze_actual_list1b.csv": "trial,actor,emotion,channel,sentence,auditory_noise_level,video_1,audio_1,video_1_height,video_1_width,duration,video_1_x,video_1_y,\r\n1,M21,Angry,Speech,Dog,High,../User/Stimuli/V_M21_A_Sp_D_N1.mp4,../User/Stimuli/A_M21_A_Sp_D_-5.wav,590,885,4000,0,0,\r\n2,M21,Happy,Speech,Kid,No,../User/Stimuli/V_W14_A_So_K_N1.mp4,../User/Stimuli/A_W14_A_So_K.wav,590,885,4000,0,0,\r\n3,F14,Fearful,Speech,Kid,High,../User/Stimuli/V_M21_F_So_D_N1.mp4,../User/Stimuli/A_M21_F_So_D.wav,590,885,4000,0,0,\r\n4,M21,Fearful,Song,Dog,No,../User/Stimuli/V_W14_F_Sp_K_N1.mp4,../User/Stimuli/A_W14_F_Sp_K_-5.wav,590,885,4000,0,0,\r\n5,F14,Angry,Song,Kid,No,../User/Stimuli/V_M21_H_Sp_K_N1.mp4,../User/Stimuli/A_M21_H_Sp_K.wav,590,885,4000,0,0,\r\n6,M21,Neutral,Song,Kid,High,../User/Stimuli/V_W14_H_So_D_N1.mp4,../User/Stimuli/A_W14_H_So_D_-5.wav,590,885,4000,0,0,\r\n7,F14,Happy,Song,Dog,High,../User/Stimuli/V_M21_N_So_K_N1.mp4,../User/Stimuli/A_M21_N_So_K_-5.wav,590,885,4000,0,0,\r\n8,F14,Neutral,Speech,Dog,No,../User/Stimuli/V_W14_N_Sp_D_N1.mp4,../User/Stimuli/A_W14_N_Sp_D.wav,590,885,4000,0,0,\r\n,,,,,,,,,,,,,",
          "gaze_actual_list2b.csv": "trial,\"actor \",emotion,channel,sentence,auditory_noise_level,video_1,audio_1,video_1_height,video_1_width,duration,video_1_x,video_1_y,video_1_x*,video_1_y*,\r\n81,M9,Angry,Speech,Dog,Medium,../User/Stimuli/V_M9_A_Sp_D_N1.mp4,../User/Stimuli/A_M9_A_Sp_D_0.wav,480,720,4000,0,0,0,0,\r\n82,W8,Fearful,Song,Kid,Baseline,../User/Stimuli/AV_W8_F_So_K_N1.mp4,,480,720,4000,0,0,0,0,\r\n83,W6,Happy,Song,Dog,No,../User/Stimuli/V_W6_H_So_D_N1.mp4,../User/Stimuli/A_W6_H_So_D.wav,480,720,4000,0,0,0,0,\r\n84,M9,Neutral,Song,Dog,Baseline,../User/Stimuli/AV_M9_N_So_D_N1.mp4,,480,720,4000,0,0,0,0,\r\n85,M7,Fearful,Song,Dog,High,../User/Stimuli/V_M7_F_So_D_N1.mp4,../User/Stimuli/A_M7_F_So_D_-5.wav,480,720,4000,0,0,0,0,\r\n86,M9,Fearful,Song,Kid,Baseline,../User/Stimuli/AV_M9_F_So_K_N1.mp4,,480,720,4000,0,0,0,0,\r\n87,W6,Fearful,Speech,Dog,Baseline,../User/Stimuli/AV_W6_F_Sp_D_N1.mp4,,480,720,4000,0,0,0,0,\r\n88,M7,Angry,Speech,Dog,Medium,../User/Stimuli/V_M7_A_Sp_D_N1.mp4,../User/Stimuli/A_M7_A_Sp_D_0.wav,480,720,4000,0,0,0,0,\r\n89,W6,Angry,Speech,Kid,Medium,../User/Stimuli/V_W6_A_Sp_K_N1.mp4,../User/Stimuli/A_W6_A_Sp_K_0.wav,480,720,4000,0,0,,,\r\n90,M7,Neutral,Speech,Kid,No,../User/Stimuli/V_M7_N_Sp_K_N1.mp4,../User/Stimuli/A_M7_N_Sp_K.wav,480,720,4000,0,0,,,\r\n91,W6,Neutral,Song,Kid,Baseline,../User/Stimuli/AV_W6_N_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n92,M7,Happy,Speech,Kid,Baseline,../User/Stimuli/AV_M7_H_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n93,M9,Happy,Song,Kid,High,../User/Stimuli/V_M9_H_So_K_N1.mp4,../User/Stimuli/A_M9_H_So_K_-5.wav,480,720,4000,0,0,,,\r\n94,W6,Neutral,Song,Dog,Baseline,../User/Stimuli/AV_W6_N_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n95,M9,Angry,Speech,Dog,Baseline,../User/Stimuli/AV_M9_A_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n96,M9,Neutral,Song,Dog,High,../User/Stimuli/V_M9_N_So_D_N1.mp4,../User/Stimuli/A_M9_N_So_D_-5.wav,480,720,4000,0,0,,,\r\n97,W8,Neutral,Song,Kid,No,../User/Stimuli/V_W8_N_So_K_N1.mp4,../User/Stimuli/A_W8_N_So_K.wav,480,720,4000,0,0,,,\r\n98,M9,Happy,Speech,Dog,High,../User/Stimuli/V_M9_H_Sp_D_N1.mp4,../User/Stimuli/A_M9_H_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n99,W8,Fearful,Song,Kid,No,../User/Stimuli/V_W8_F_So_K_N1.mp4,../User/Stimuli/A_W8_F_So_K.wav,480,720,4000,0,0,,,\r\n100,M9,Angry,Song,Kid,Baseline,../User/Stimuli/AV_M9_A_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n101,M9,Happy,Song,Kid,No,../User/Stimuli/V_M9_H_So_K_N1.mp4,../User/Stimuli/A_M9_H_So_K.wav,480,720,4000,0,0,,,\r\n102,M7,Neutral,Song,Dog,Medium,../User/Stimuli/V_M7_N_So_D_N1.mp4,../User/Stimuli/A_M7_N_So_D_0.wav,480,720,4000,0,0,,,\r\n103,W6,Fearful,Song,Dog,Baseline,../User/Stimuli/AV_W6_F_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n104,M9,Neutral,Speech,Kid,High,../User/Stimuli/V_M9_N_Sp_K_N1.mp4,../User/Stimuli/A_M9_N_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n105,M7,Neutral,Song,Dog,Baseline,../User/Stimuli/AV_M7_N_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n106,W8,Happy,Song,Dog,No,../User/Stimuli/V_W8_H_So_D_N1.mp4,../User/Stimuli/A_W8_H_So_D.wav,480,720,4000,0,0,,,\r\n107,W8,Fearful,Speech,Dog,No,../User/Stimuli/V_W8_F_Sp_D_N1.mp4,../User/Stimuli/A_W8_F_Sp_D.wav,480,720,4000,0,0,,,\r\n108,W6,Neutral,Speech,Kid,Baseline,../User/Stimuli/AV_W6_N_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n109,M9,Angry,Song,Kid,High,../User/Stimuli/V_M9_A_So_K_N1.mp4,../User/Stimuli/A_M9_A_So_K_-5.wav,480,720,4000,0,0,,,\r\n110,M9,Fearful,Speech,Kid,High,../User/Stimuli/V_M9_F_Sp_K_N1.mp4,../User/Stimuli/A_M9_F_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n111,M7,Angry,Song,Kid,Baseline,../User/Stimuli/AV_M7_A_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n112,W8,Happy,Song,Dog,High,../User/Stimuli/V_W8_H_So_D_N1.mp4,../User/Stimuli/A_W8_H_So_D_-5.wav,480,720,4000,0,0,,,\r\n113,M7,Fearful,Speech,Kid,No,../User/Stimuli/V_M7_F_Sp_K_N1.mp4,../User/Stimuli/A_M7_F_Sp_K.wav,480,720,4000,0,0,,,\r\n114,W8,Happy,Speech,Dog,Baseline,../User/Stimuli/AV_W8_H_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n115,W6,Fearful,Song,Kid,High,../User/Stimuli/V_W6_F_So_K_N1.mp4,../User/Stimuli/A_W6_F_So_K_-5.wav,480,720,4000,0,0,,,\r\n116,W6,Fearful,Song,Kid,Baseline,../User/Stimuli/AV_W6_F_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n117,M9,Neutral,Speech,Kid,Baseline,../User/Stimuli/AV_M9_N_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n118,W6,Neutral,Speech,Dog,No,../User/Stimuli/V_W6_N_Sp_D_N1.mp4,../User/Stimuli/A_W6_N_Sp_D.wav,480,720,4000,0,0,,,\r\n119,W8,Angry,Speech,Kid,No,../User/Stimuli/V_W8_A_Sp_K_N1.mp4,../User/Stimuli/A_W8_A_Sp_K.wav,480,720,4000,0,0,,,\r\n120,M9,Fearful,Speech,Kid,No,../User/Stimuli/V_M9_F_Sp_K_N1.mp4,../User/Stimuli/A_M9_F_Sp_K.wav,480,720,4000,0,0,,,\r\n121,W6,Happy,Speech,Kid,High,../User/Stimuli/V_W6_H_Sp_K_N1.mp4,../User/Stimuli/A_W6_H_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n122,M9,Fearful,Speech,Kid,Baseline,../User/Stimuli/AV_M9_F_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n123,W8,Angry,Song,Dog,High,../User/Stimuli/V_W8_A_So_D_N1.mp4,../User/Stimuli/A_W8_A_So_D_-5.wav,480,720,4000,0,0,,,\r\n124,M7,Angry,Speech,Kid,Baseline,../User/Stimuli/AV_M7_A_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n125,M7,Neutral,Song,Dog,High,../User/Stimuli/V_M7_N_So_D_N1.mp4,../User/Stimuli/A_M7_N_So_D_-5.wav,480,720,4000,0,0,,,\r\n126,M9,Happy,Speech,Kid,Baseline,../User/Stimuli/AV_M9_H_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n127,M7,Happy,Speech,Dog,High,../User/Stimuli/V_M7_H_Sp_D_N1.mp4,../User/Stimuli/A_M7_H_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n128,W8,Fearful,Speech,Kid,Baseline,../User/Stimuli/AV_W8_F_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n129,W8,Happy,Song,Kid,Baseline,../User/Stimuli/AV_W8_H_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n130,M7,Angry,Song,Dog,Baseline,../User/Stimuli/AV_M7_A_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n131,M9,Happy,Speech,Dog,No,../User/Stimuli/V_M9_H_Sp_D_N1.mp4,../User/Stimuli/A_M9_H_Sp_D.wav,480,720,4000,0,0,,,\r\n132,W8,Fearful,Speech,Dog,Medium,../User/Stimuli/V_W8_F_Sp_D_N1.mp4,../User/Stimuli/A_W8_F_Sp_D_0.wav,480,720,4000,0,0,,,\r\n133,M7,Angry,Speech,Dog,High,../User/Stimuli/V_M7_A_Sp_D_N1.mp4,../User/Stimuli/A_M7_A_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n134,W8,Happy,Song,Dog,Baseline,../User/Stimuli/AV_W8_H_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n135,W8,Happy,Speech,Kid,No,../User/Stimuli/V_W8_H_Sp_K_N1.mp4,../User/Stimuli/A_W8_H_Sp_K.wav,480,720,4000,0,0,,,\r\n136,M9,Angry,Song,Dog,Baseline,../User/Stimuli/AV_M9_A_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n137,W8,Neutral,Speech,Dog,Baseline,../User/Stimuli/AV_W8_N_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n138,M7,Fearful,Speech,Dog,Baseline,../User/Stimuli/AV_M7_F_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n139,W6,Fearful,Speech,Dog,Medium,../User/Stimuli/V_W6_F_Sp_D_N1.mp4,../User/Stimuli/A_W6_F_Sp_D_0.wav,480,720,4000,0,0,,,\r\n140,W6,Happy,Speech,Dog,Baseline,../User/Stimuli/AV_W6_H_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n141,M7,Happy,Speech,Dog,No,../User/Stimuli/V_M7_H_Sp_D_N1.mp4,../User/Stimuli/A_M7_H_Sp_D.wav,480,720,4000,0,0,,,\r\n142,W8,Neutral,Song,Dog,Baseline,../User/Stimuli/AV_W8_N_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n143,W6,Happy,Speech,Kid,No,../User/Stimuli/V_W6_H_Sp_K_N1.mp4,../User/Stimuli/A_W6_H_Sp_K.wav,480,720,4000,0,0,,,\r\n144,W8,Happy,Speech,Kid,High,../User/Stimuli/V_W8_H_Sp_K_N1.mp4,../User/Stimuli/A_W8_H_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n145,M9,Happy,Speech,Dog,Baseline,../User/Stimuli/AV_M9_H_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n146,M7,Happy,Speech,Dog,Medium,../User/Stimuli/V_M7_H_Sp_D_N1.mp4,../User/Stimuli/A_M7_H_Sp_D_0.wav,480,720,4000,0,0,,,\r\n147,M9,Angry,Speech,Dog,High,../User/Stimuli/V_M9_A_Sp_D_N1.mp4,../User/Stimuli/A_M9_A_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n148,M7,Fearful,Speech,Kid,High,../User/Stimuli/V_M7_F_Sp_K_N1.mp4,../User/Stimuli/A_M7_F_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n149,W6,Angry,Song,Dog,No,../User/Stimuli/V_W6_A_So_D_N1.mp4,../User/Stimuli/A_W6_A_So_D.wav,480,720,4000,0,0,,,\r\n150,W8,Angry,Speech,Kid,Baseline,../User/Stimuli/AV_W8_A_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n151,W8,Happy,Song,Dog,Medium,../User/Stimuli/V_W8_H_So_D_N1.mp4,../User/Stimuli/A_W8_H_So_D_0.wav,480,720,4000,0,0,,,\r\n152,M7,Angry,Song,Kid,Medium,../User/Stimuli/V_M7_A_So_K_N1.mp4,../User/Stimuli/A_M7_A_So_K_0.wav,480,720,4000,0,0,,,\r\n153,W6,Angry,Song,Dog,Medium,../User/Stimuli/V_W6_A_So_D_N1.mp4,../User/Stimuli/A_W6_A_So_D_0.wav,480,720,4000,0,0,,,\r\n154,M7,Happy,Song,Kid,High,../User/Stimuli/V_M7_H_So_K_N1.mp4,../User/Stimuli/A_M7_H_So_K_-5.wav,480,720,4000,0,0,,,\r\n155,W8,Happy,Speech,Kid,Baseline,../User/Stimuli/AV_W8_H_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n156,W6,Neutral,Speech,Dog,High,../User/Stimuli/V_W6_N_Sp_D_N1.mp4,../User/Stimuli/A_W6_N_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n157,W8,Angry,Song,Dog,No,../User/Stimuli/V_W8_A_So_D_N1.mp4,../User/Stimuli/A_W8_A_So_D.wav,480,720,4000,0,0,,,\r\n158,M7,Neutral,Speech,Dog,Baseline,../User/Stimuli/AV_M7_N_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n159,W8,Angry,Song,Dog,Medium,../User/Stimuli/V_W8_A_So_D_N1.mp4,../User/Stimuli/A_W8_A_So_D_0.wav,480,720,4000,0,0,,,\r\n160,W8,Neutral,Song,Kid,High,../User/Stimuli/V_W8_N_So_K_N1.mp4,../User/Stimuli/A_W8_N_So_K_-5.wav,480,720,4000,0,0,,,\r\n,,,,,,,,,,,,,,,",
          "gaze_actual_list3b.csv": "trial,\"actor \",\"emotion \",channel,sentence,auditory_noise_level,video_1,audio_1,video_1_height,video_1_width,duration,video_1_x,video_1_y,video_1_x*,video_1_y*,\r\n81,M9,Neutral,Song,Kid,Baseline,../User/Stimuli/AV_M9_N_So_K_N1.mp4,,480,720,4000,0,0,0,0,\r\n82,W8,Fearful,Speech,Kid,Baseline,../User/Stimuli/AV_W8_F_Sp_K_N1.mp4,,480,720,4000,0,0,0,0,\r\n83,M9,Happy,Song,Dog,High,../User/Stimuli/V_M9_H_So_D_N1.mp4,../User/Stimuli/A_M9_H_So_D_-5.wav,480,720,4000,0,0,0,0,\r\n84,W6,Neutral,Speech,Kid,High,../User/Stimuli/V_W6_N_Sp_K_N1.mp4,../User/Stimuli/A_W6_N_Sp_K_-5.wav,480,720,4000,0,0,0,0,\r\n85,M7,Happy,Song,Dog,Baseline,../User/Stimuli/AV_M7_H_So_D_N1.mp4,,480,720,4000,0,0,0,0,\r\n86,M9,Fearful,Song,Kid,No,../User/Stimuli/V_M9_F_So_K_N1.mp4,../User/Stimuli/A_M9_F_So_K.wav,480,720,4000,0,0,0,0,\r\n87,W8,Fearful,Speech,Kid,High,../User/Stimuli/V_W8_F_Sp_K_N1.mp4,../User/Stimuli/A_W8_F_Sp_K_-5.wav,480,720,4000,0,0,0,0,\r\n88,W6,Happy,Speech,Dog,Low,../User/Stimuli/V_W6_H_Sp_D_N1.mp4,../User/Stimuli/A_W6_H_Sp_D_0.wav,480,720,4000,0,0,0,0,\r\n89,M9,Happy,Song,Dog,No,../User/Stimuli/V_M9_H_So_D_N1.mp4,../User/Stimuli/A_M9_H_So_D.wav,480,720,4000,0,0,,,\r\n90,W8,Fearful,Song,Dog,High,../User/Stimuli/V_W8_F_So_D_N1.mp4,../User/Stimuli/A_W8_F_So_D_-5.wav,480,720,4000,0,0,,,\r\n91,M9,Fearful,Song,Kid,Low,../User/Stimuli/V_M9_F_So_K_N1.mp4,../User/Stimuli/A_M9_F_So_K_0.wav,480,720,4000,0,0,,,\r\n92,M7,Fearful,Speech,Dog,Baseline,../User/Stimuli/AV_M7_F_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n93,M7,Angry,Song,Dog,High,../User/Stimuli/V_M7_A_So_D_N1.mp4,../User/Stimuli/A_M7_A_So_D_-5.wav,480,720,4000,0,0,,,\r\n94,W8,Neutral,Speech,Kid,No,../User/Stimuli/V_W8_N_Sp_K_N1.mp4,../User/Stimuli/A_W8_N_Sp_K.wav,480,720,4000,0,0,,,\r\n95,W8,Angry,Song,Kid,No,../User/Stimuli/V_W8_A_So_K_N1.mp4,../User/Stimuli/A_W8_A_So_K.wav,480,720,4000,0,0,,,\r\n96,M7,Happy,Song,Kid,Baseline,../User/Stimuli/AV_M7_H_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n97,W8,Fearful,Song,Dog,Baseline,../User/Stimuli/AV_W8_F_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n98,W8,Happy,Song,Kid,No,../User/Stimuli/V_W8_H_So_K_N1.mp4,../User/Stimuli/A_W8_H_So_K.wav,480,720,4000,0,0,,,\r\n99,M9,Fearful,Speech,Dog,No,../User/Stimuli/V_M9_F_Sp_D_N1.mp4,../User/Stimuli/A_M9_F_Sp_D.wav,480,720,4000,0,0,,,\r\n100,W6,Fearful,Speech,Dog,Baseline,../User/Stimuli/AV_W6_F_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n101,W8,Angry,Speech,Dog,Low,../User/Stimuli/V_W8_A_Sp_D_N1.mp4,../User/Stimuli/A_W8_A_Sp_D_0.wav,480,720,4000,0,0,,,\r\n102,M9,Fearful,Speech,Dog,Baseline,../User/Stimuli/AV_M9_F_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n103,M9,Angry,Song,Kid,Baseline,../User/Stimuli/AV_M9_A_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n104,M9,Angry,Speech,Kid,Baseline,../User/Stimuli/AV_M9_A_Sp_k_N1.mp4,,480,720,4000,0,0,,,\r\n105,W6,Fearful,Speech,Kid,No,../User/Stimuli/V_W6_F_Sp_K_N1.mp4,../User/Stimuli/A_W6_F_Sp_K.wav,480,720,4000,0,0,,,\r\n106,W8,Angry,Speech,Dog,High,../User/Stimuli/V_W8_A_Sp_D_N1.mp4,../User/Stimuli/A_W8_A_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n107,W8,Happy,Song,Kid,Low,../User/Stimuli/V_W8_H_So_K_N1.mp4,../User/Stimuli/A_W8_H_So_K_0.wav,480,720,4000,0,0,,,\r\n108,W8,Neutral,Speech,Kid,High,../User/Stimuli/V_W8_N_Sp_K_N1.mp4,../User/Stimuli/A_W8_N_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n109,W8,Happy,Speech,Dog,High,../User/Stimuli/V_W8_H_Sp_D_N1.mp4,../User/Stimuli/A_W8_H_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n110,W8,Fearful,Song,Kid,Baseline,../User/Stimuli/AV_W8_F_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n111,M7,Neutral,Speech,Kid,Baseline,../User/Stimuli/AV_M7_N_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n112,M7,Angry,Speech,Kid,No,../User/Stimuli/V_M7_A_Sp_K_N1.mp4,../User/Stimuli/A_M7_A_Sp_K.wav,480,720,4000,0,0,,,\r\n113,W8,Neutral,Song,Dog,High,../User/Stimuli/V_W8_N_So_D_N1.mp4,../User/Stimuli/A_W8_N_So_D_-5.wav,480,720,4000,0,0,,,\r\n114,M7,Angry,Song,Dog,Low,../User/Stimuli/V_M7_A_So_D_N1.mp4,../User/Stimuli/A_M7_A_So_D_0.wav,480,720,4000,0,0,,,\r\n115,W6,Angry,Speech,Kid,Baseline,../User/Stimuli/AV_W6_A_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n116,M9,Happy,Speech,Kid,Low,../User/Stimuli/V_M9_H_Sp_K_N1.mp4,../User/Stimuli/A_M9_H_Sp_K_0.wav,480,720,4000,0,0,,,\r\n117,M9,Angry,Speech,Kid,Low,../User/Stimuli/V_M9_A_Sp_K_N1.mp4,../User/Stimuli/A_M9_A_Sp_K_0.wav,480,720,4000,0,0,,,\r\n118,M9,Fearful,Song,Dog,Baseline,../User/Stimuli/AV_M9_F_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n119,W8,Angry,Speech,Dog,Baseline,../User/Stimuli/AV_W8_A_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n120,W6,Fearful,Speech,Kid,High,../User/Stimuli/V_W6_F_Sp_K_N1.mp4,../User/Stimuli/A_W6_F_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n121,W8,Angry,Speech,Dog,No,../User/Stimuli/V_W8_A_Sp_D_N1.mp4,../User/Stimuli/A_W8_A_Sp_D.wav,480,720,4000,0,0,,,\r\n122,M7,Fearful,Speech,Kid,Baseline,../User/Stimuli/AV_M7_F_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n123,W8,Angry,Song,Kid,Low,../User/Stimuli/V_W8_A_So_K_N1.mp4,../User/Stimuli/A_W8_A_So_K_0.wav,480,720,4000,0,0,,,\r\n124,M9,Happy,Song,Kid,Baseline,../User/Stimuli/AV_M9_H_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n125,M9,Happy,Speech,Kid,No,../User/Stimuli/V_M9_H_Sp_K_N1.mp4,../User/Stimuli/A_M9_H_Sp_K.wav,480,720,4000,0,0,,,\r\n126,W8,Fearful,Speech,Kid,Low,../User/Stimuli/V_W8_F_Sp_K_N1.mp4,../User/Stimuli/A_W8_F_Sp_K_0.wav,480,720,4000,0,0,,,\r\n127,M9,Happy,Speech,Kid,Baseline,../User/Stimuli/AV_M9_H_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n128,M7,Angry,Speech,Dog,Baseline,../User/Stimuli/AV_M7_A_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n129,M7,Fearful,Song,Kid,High,../User/Stimuli/V_M7_F_So_K_N1.mp4,../User/Stimuli/A_M7_F_So_K_-5.wav,480,720,4000,0,0,,,\r\n130,M7,Happy,Speech,Kid,High,../User/Stimuli/V_M7_H_Sp_K_N1.mp4,../User/Stimuli/A_M7_H_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n131,W6,Fearful,Song,Dog,No,../User/Stimuli/V_W6_F_So_D_N1.mp4,../User/Stimuli/A_W6_F_So_D.wav,480,720,4000,0,0,,,\r\n132,W8,Happy,Speech,Dog,Baseline,../User/Stimuli/AV_W8_H_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n133,W6,Happy,Song,Dog,Baseline,../User/Stimuli/AV_W6_H_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n134,M9,Angry,Speech,Kid,No,../User/Stimuli/V_M9_A_Sp_K_N1.mp4,../User/Stimuli/A_M9_A_Sp_K.wav,480,720,4000,0,0,,,\r\n135,M7,Happy,Speech,Kid,Low,../User/Stimuli/V_M7_H_Sp_K_N1.mp4,../User/Stimuli/A_M7_H_Sp_K_0.wav,480,720,4000,0,0,,,\r\n136,M7,Neutral,Speech,Dog,No,../User/Stimuli/V_M7_N_Sp_D_N1.mp4,../User/Stimuli/A_M7_N_Sp_D.wav,480,720,4000,0,0,,,\r\n137,M9,Neutral,Song,Dog,Baseline,../User/Stimuli/AV_M9_N_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n138,M9,Angry,Speech,Kid,High,../User/Stimuli/V_M9_A_Sp_K_N1.mp4,../User/Stimuli/A_M9_A_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n139,W8,Angry,Song,Dog,Baseline,../User/Stimuli/AV_W8_A_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n140,M9,Angry,Song,Dog,Low,../User/Stimuli/V_M9_A_So_D_N1.mp4,../User/Stimuli/A_M9_A_So_D_0.wav,480,720,4000,0,0,,,\r\n141,M7,Happy,Speech,Kid,Baseline,../User/Stimuli/AV_M7_H_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n142,W6,Fearful,Speech,Kid,Low,../User/Stimuli/V_W6_F_Sp_K_N1.mp4,../User/Stimuli/A_W6_F_Sp_K_0.wav,480,720,4000,0,0,,,\r\n143,W8,Neutral,Speech,Dog,Baseline,../User/Stimuli/AV_W8_N_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n144,M9,Neutral,Song,Kid,High,../User/Stimuli/V_M9_N_So_K_N1.mp4,../User/Stimuli/A_M9_N_So_K_-5.wav,480,720,4000,0,0,,,\r\n145,M7,Fearful,Speech,Dog,High,../User/Stimuli/V_M7_F_Sp_D_N1.mp4,../User/Stimuli/A_M7_F_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n146,W8,Neutral,Song,Dog,Low,../User/Stimuli/V_W8_N_So_D_N1.mp4,../User/Stimuli/A_W8_N_So_D_0.wav,480,720,4000,0,0,,,\r\n147,M9,Neutral,Speech,Dog,Baseline,../User/Stimuli/AV_M9_N_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n148,M7,Fearful,Song,Kid,No,../User/Stimuli/V_M7_F_So_K_N1.mp4,../User/Stimuli/A_M7_F_So_K.wav,480,720,4000,0,0,,,\r\n149,M9,Angry,Song,Dog,No,../User/Stimuli/V_M9_A_So_D_N1.mp4,../User/Stimuli/A_M9_A_So_D.wav,480,720,4000,0,0,,,\r\n150,W8,Happy,Song,Kid,High,../User/Stimuli/V_W8_H_So_K_N1.mp4,../User/Stimuli/A_W8_H_So_K_-5.wav,480,720,4000,0,0,,,\r\n151,W8,Happy,Speech,Dog,No,../User/Stimuli/V_W8_H_Sp_D_N1.mp4,../User/Stimuli/A_W8_H_Sp_D.wav,480,720,4000,0,0,,,\r\n152,M7,Neutral,Speech,Dog,Baseline,../User/Stimuli/AV_M7_N_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n153,M7,Happy,Speech,Dog,Baseline,../User/Stimuli/AV_M7_H_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n154,W6,Happy,Speech,Dog,Baseline,../User/Stimuli/AV_W6_H_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n155,M7,Fearful,Song,Dog,Baseline,../User/Stimuli/AV_M7_F_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n156,M9,Neutral,Song,Kid,No,../User/Stimuli/V_M9_N_So_K_N1.mp4,../User/Stimuli/A_M9_N_So_K.wav,480,720,4000,0,0,,,\r\n157,W8,Neutral,Song,Kid,Baseline,../User/Stimuli/AV_W8_N_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n158,W6,Angry,Song,Dog,Baseline,../User/Stimuli/AV_W6_A_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n159,M9,Angry,Song,Dog,High,../User/Stimuli/V_M9_A_So_D_N1.mp4,../User/Stimuli/A_M9_A_So_D_-5.wav,480,720,4000,0,0,,,\r\n160,M7,Neutral,Song,Kid,High,../User/Stimuli/V_M7_N_So_K_N1.mp4,../User/Stimuli/A_M7_N_So_K_-5.wav,480,720,4000,0,0,,,\r\n,,,,,,,,,,,,,,,",
          "gaze_actual_list4b.csv": "trial,\"actor \",\"emotion \",channel,sentence,auditory_noise_level,video_1,audio_1,video_1_height,video_1_width,duration,video_1_x,video_1_y,video_1_x*,video_1_y*,\r\n81,W8,Fearful,Speech,Dog,Baseline,../User/Stimuli/AV_W8_F_Sp_D_N1.mp4,,480,720,4000,0,0,0,0,\r\n82,M7,Happy,Song,Dog,Low,../User/Stimuli/V_M7_H_So_D_N1.mp4,../User/Stimuli/A_M7_H_So_D_0.wav,480,720,4000,0,0,0,0,\r\n83,W8,Happy,Song,Dog,Baseline,../User/Stimuli/AV_W8_H_So_D_N1.mp4,,480,720,4000,0,0,0,0,\r\n84,M7,Neutral,Song,Kid,Baseline,../User/Stimuli/AV_M7_N_So_K_N1.mp4,,480,720,4000,0,0,0,0,\r\n85,W6,Neutral,Song,Dog,Low,../User/Stimuli/V_W6_N_So_D_N1.mp4,../User/Stimuli/A_W6_N_So_D_0.wav,480,720,4000,0,0,0,0,\r\n86,M9,Fearful,Speech,Dog,Low,../User/Stimuli/V_M9_F_Sp_D_N1.mp4,../User/Stimuli/A_M9_F_Sp_D_0.wav,480,720,4000,0,0,0,0,\r\n87,M7,Angry,Speech,Kid,High,../User/Stimuli/V_M7_A_Sp_K_N1.mp4,../User/Stimuli/A_M7_A_Sp_K_-5.wav,480,720,4000,0,0,0,0,\r\n88,M9,Angry,Song,Dog,Baseline,../User/Stimuli/AV_M9_A_So_D_N1.mp4,,480,720,4000,0,0,0,0,\r\n89,M7,Fearful,Song,Kid,Low,../User/Stimuli/V_M7_F_So_K_N1.mp4,../User/Stimuli/A_M7_F_So_K_0.wav,480,720,4000,0,0,,,\r\n90,M9,Fearful,Song,Kid,High,../User/Stimuli/V_M9_F_So_K_N1.mp4,../User/Stimuli/A_M9_F_So_K_-5.wav,480,720,4000,0,0,,,\r\n91,W6,Neutral,Speech,Dog,Baseline,../User/Stimuli/AV_W6_N_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n92,W8,Neutral,Speech,Kid,Low,../User/Stimuli/V_W8_N_Sp_K_N1.mp4,../User/Stimuli/A_W8_N_Sp_K_0.wav,480,720,4000,0,0,,,\r\n93,W6,Angry,Song,Kid,High,../User/Stimuli/V_W6_A_So_K_N1.mp4,../User/Stimuli/A_W6_A_So_K_-5.wav,480,720,4000,0,0,,,\r\n94,M7,Happy,Song,Dog,High,../User/Stimuli/V_M7_H_So_D_N1.mp4,../User/Stimuli/A_M7_H_So_D_-5.wav,480,720,4000,0,0,,,\r\n95,W6,Happy,Song,Kid,High,../User/Stimuli/V_W6_H_So_K_N1.mp4,../User/Stimuli/A_W6_H_So_K_-5.wav,480,720,4000,0,0,,,\r\n96,M9,Neutral,Speech,Dog,High,../User/Stimuli/V_M9_N_Sp_D_N1.mp4,../User/Stimuli/A_M9_N_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n97,W6,Neutral,Speech,Kid,Low,../User/Stimuli/V_W6_N_Sp_K_N1.mp4,../User/Stimuli/A_W6_N_Sp_K_0.wav,480,720,4000,0,0,,,\r\n98,W6,Happy,Song,Kid,No,../User/Stimuli/V_W6_H_So_K_N1.mp4,../User/Stimuli/A_W6_H_So_K.wav,480,720,4000,0,0,,,\r\n99,M7,Angry,Speech,Kid,Baseline,../User/Stimuli/AV_M7_A_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n100,W8,Angry,Speech,Kid,Baseline,../User/Stimuli/AV_W8_A_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n101,W6,Fearful,Song,Dog,Baseline,../User/Stimuli/AV_W6_F_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n102,M7,Neutral,Song,Kid,Low,../User/Stimuli/V_M7_N_So_K_N1.mp4,../User/Stimuli/A_M7_N_So_K_0.wav,480,720,4000,0,0,,,\r\n103,M9,Happy,Song,Dog,Baseline,../User/Stimuli/AV_M9_H_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n104,W6,Angry,Speech,Dog,Low,../User/Stimuli/V_W6_A_Sp_D_N1.mp4,../User/Stimuli/A_W6_A_Sp_D_0.wav,480,720,4000,0,0,,,\r\n105,M7,Neutral,Speech,Dog,High,../User/Stimuli/V_M7_N_Sp_D_N1.mp4,../User/Stimuli/A_M7_N_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n106,W6,Angry,Speech,Dog,No,../User/Stimuli/V_W6_A_Sp_D_N1.mp4,../User/Stimuli/A_W6_A_Sp_D.wav,480,720,4000,0,0,,,\r\n107,W6,Fearful,Song,Dog,Low,../User/Stimuli/V_W6_F_So_D_N1.mp4,../User/Stimuli/A_W6_F_So_D_0.wav,480,720,4000,0,0,,,\r\n108,W6,Happy,Song,Kid,Baseline,../User/Stimuli/AV_W6_H_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n109,M7,Fearful,Speech,Dog,No,../User/Stimuli/V_M7_F_Sp_D_N1.mp4,../User/Stimuli/A_M7_F_Sp_D.wav,480,720,4000,0,0,,,\r\n110,W6,Angry,Song,Kid,Baseline,../User/Stimuli/AV_W6_A_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n111,M7,Fearful,Song,Kid,Baseline,../User/Stimuli/AV_M7_F_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n112,M9,Neutral,Speech,Kid,Baseline,../User/Stimuli/AV_M9_N_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n113,W8,Angry,Song,Kid,High,../User/Stimuli/V_W8_A_So_K_N1.mp4,../User/Stimuli/A_W8_A_So_K_-5.wav,480,720,4000,0,0,,,\r\n114,W6,Happy,Speech,Dog,No,../User/Stimuli/V_W6_H_Sp_D_N1.mp4,../User/Stimuli/A_W6_H_Sp_D.wav,480,720,4000,0,0,,,\r\n115,W6,Neutral,Song,Dog,High,../User/Stimuli/V_W6_N_So_D_N1.mp4,../User/Stimuli/A_W6_N_So_D_-5.wav,480,720,4000,0,0,,,\r\n116,M9,Happy,Speech,Kid,High,../User/Stimuli/V_M9_H_Sp_K_N1.mp4,../User/Stimuli/A_M9_H_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n117,W6,Neutral,Speech,Kid,Baseline,../User/Stimuli/AV_W6_N_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n118,W6,Neutral,Speech,Kid,No,../User/Stimuli/V_W6_N_Sp_K_N1.mp4,../User/Stimuli/A_W6_N_Sp_K.wav,480,720,4000,0,0,,,\r\n119,W6,Fearful,Song,Dog,High,../User/Stimuli/V_W6_F_So_D_N1.mp4,../User/Stimuli/A_W6_F_So_D_-5.wav,480,720,4000,0,0,,,\r\n120,M7,Neutral,Speech,Dog,Low,../User/Stimuli/V_M7_N_Sp_D_N1.mp4,../User/Stimuli/A_M7_N_Sp_D_0.wav,480,720,4000,0,0,,,\r\n121,W6,Angry,Speech,Dog,High,../User/Stimuli/V_W6_A_Sp_D_N1.mp4,../User/Stimuli/A_W6_A_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n122,M7,Angry,Song,Dog,Baseline,../User/Stimuli/AV_M7_A_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n123,W6,Angry,Song,Kid,No,../User/Stimuli/V_W6_A_So_K_N1.mp4,../User/Stimuli/A_W6_A_So_K.wav,480,720,4000,0,0,,,\r\n124,M9,Fearful,Speech,Dog,High,../User/Stimuli/V_M9_F_Sp_D_N1.mp4,../User/Stimuli/A_M9_F_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n125,W8,Happy,Speech,Kid,Baseline,../User/Stimuli/AV_W8_H_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n126,W6,Angry,Speech,Dog,Baseline,../User/Stimuli/AV_W6_A_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n127,M9,Neutral,Speech,Dog,No,../User/Stimuli/V_M9_N_Sp_D_N1.mp4,../User/Stimuli/A_M9_N_Sp_D.wav,480,720,4000,0,0,,,\r\n128,W6,Angry,Song,Kid,Low,../User/Stimuli/V_W6_A_So_K_N1.mp4,../User/Stimuli/A_W6_A_So_K_0.wav,480,720,4000,0,0,,,\r\n129,W8,Angry,Song,Kid,Baseline,../User/Stimuli/AV_W8_A_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n130,M7,Angry,Speech,Kid,Low,../User/Stimuli/V_M7_A_Sp_K_N1.mp4,../User/Stimuli/A_M7_A_Sp_K_0.wav,480,720,4000,0,0,,,\r\n131,M9,Happy,Song,Dog,Low,../User/Stimuli/V_M9_H_So_D_N1.mp4,../User/Stimuli/A_M9_H_So_D_0.wav,480,720,4000,0,0,,,\r\n132,M7,Neutral,Song,Kid,No,../User/Stimuli/V_M7_N_So_K_N1.mp4,../User/Stimuli/A_M7_N_So_K.wav,480,720,4000,0,0,,,\r\n133,M7,Angry,Song,Dog,No,../User/Stimuli/V_M7_A_So_D_N1.mp4,../User/Stimuli/A_M7_A_So_D.wav,480,720,4000,0,0,,,\r\n134,W8,Fearful,Song,Dog,No,../User/Stimuli/V_W8_F_So_D_N1.mp4,../User/Stimuli/A_W8_F_So_D.wav,480,720,4000,0,0,,,\r\n135,W8,Neutral,Song,Dog,No,../User/Stimuli/V_W8_N_So_D_N1.mp4,../User/Stimuli/A_W8_N_So_D.wav,480,720,4000,0,0,,,\r\n136,M9,Happy,Speech,Dog,Baseline,../User/Stimuli/AV_M9_H_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n137,W6,Happy,Speech,Dog,High,../User/Stimuli/V_W6_H_Sp_D_N1.mp4,../User/Stimuli/A_W6_H_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n138,W8,Neutral,Song,Dog,Baseline,../User/Stimuli/AV_W8_N_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n139,W6,Happy,Song,Kid,Low,../User/Stimuli/V_W6_H_So_K_N1.mp4,../User/Stimuli/A_W6_H_So_K_0.wav,480,720,4000,0,0,,,\r\n140,M7,Angry,Song,Kid,Baseline,../User/Stimuli/AV_M7_A_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n141,W6,Fearful,Song,Kid,Baseline,../User/Stimuli/AV_W6_F_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n142,W6,Neutral,Song,Dog,Baseline,../User/Stimuli/AV_W6_N_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n143,M9,Angry,Speech,Dog,Baseline,../User/Stimuli/AV_M9_A_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n144,W8,Happy,Speech,Dog,Low,../User/Stimuli/V_W8_H_Sp_D_N1.mp4,../User/Stimuli/A_W8_H_Sp_D_0.wav,480,720,4000,0,0,,,\r\n145,M7,Fearful,Speech,Dog,Low,../User/Stimuli/V_M7_F_Sp_D_N1.mp4,../User/Stimuli/A_M7_F_Sp_D_0.wav,480,720,4000,0,0,,,\r\n146,W8,Neutral,Speech,Kid,Baseline,../User/Stimuli/AV_W8_N_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n147,W8,Happy,Song,Kid,Baseline,../User/Stimuli/AV_W8_H_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n148,M9,Fearful,Song,Kid,Baseline,../User/Stimuli/AV_M9_F_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n149,W6,Neutral,Song,Dog,No,../User/Stimuli/V_W6_N_So_D_N1.mp4,../User/Stimuli/A_W6_N_So_D.wav,480,720,4000,0,0,,,\r\n150,W6,Happy,Speech,Kid,Baseline,../User/Stimuli/AV_W6_H_Sp_K_N1.mp4,../User/Stimuli/,480,720,4000,0,0,,,\r\n151,M7,Happy,Speech,Kid,No,../User/Stimuli/V_M7_H_Sp_K_N1.mp4,../User/Stimuli/A_M7_H_Sp_K.wav,480,720,4000,0,0,,,\r\n152,W6,Neutral,Song,Kid,Baseline,../User/Stimuli/AV_W6_N_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n153,W6,Fearful,Speech,Kid,Baseline,../User/Stimuli/AV_W6_F_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n154,M9,Neutral,Song,Kid,Low,../User/Stimuli/V_M9_N_So_K_N1.mp4,../User/Stimuli/A_M9_N_So_K_0.wav,480,720,4000,0,0,,,\r\n155,M7,Happy,Song,Dog,No,../User/Stimuli/V_M7_H_So_D_N1.mp4,../User/Stimuli/A_M7_H_So_D.wav,480,720,4000,0,0,,,\r\n156,M9,Neutral,Speech,Dog,Low,../User/Stimuli/V_M9_N_Sp_D_N1.mp4,../User/Stimuli/A_M9_N_Sp_D_0.wav,480,720,4000,0,0,,,\r\n157,W8,Fearful,Speech,Kid,No,../User/Stimuli/V_W8_F_Sp_K_N1.mp4,../User/Stimuli/A_W8_F_Sp_K.wav,480,720,4000,0,0,,,\r\n158,M7,Neutral,Song,Dog,Baseline,../User/Stimuli/AV_M7_N_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n159,W8,Fearful,Song,Dog,Low,../User/Stimuli/V_W8_F_So_D_N1.mp4,../User/Stimuli/A_W8_F_So_D_0.wav,480,720,4000,0,0,,,\r\n160,M9,Fearful,Speech,Kid,Baseline,../User/Stimuli/AV_M9_F_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n,,,,,,,,,,,,,,,",
          "gaze_actual_list2a.csv": "trial,\"actor \",emotion,channel,sentence,auditory_noise_level,video_1,audio_1,video_1_height,video_1_width,duration,video_1_x,video_1_y,video_1_x*,video_1_y*,\r\n1,M9,Neutral,Speech,Kid,No,../User/Stimuli/V_M9_N_Sp_K_N1.mp4,../User/Stimuli/A_M9_N_Sp_K.wav,480,720,4000,0,0,0,0,\r\n2,M7,Angry,Speech,Dog,No,../User/Stimuli/V_M7_A_Sp_D_N1.mp4,../User/Stimuli/A_M7_A_Sp_D.wav,480,720,4000,0,0,0,0,\r\n3,W6,Fearful,Song,Kid,No,../User/Stimuli/V_W6_F_So_K_N1.mp4,../User/Stimuli/A_W6_F_So_K.wav,480,720,4000,0,0,0,0,\r\n4,W8,Fearful,Song,Kid,Medium,../User/Stimuli/V_W8_F_So_K_N1.mp4,../User/Stimuli/A_W8_F_So_K_0.wav,480,720,4000,0,0,0,0,\r\n5,W6,Angry,Speech,Kid,Baseline,../User/Stimuli/AV_W6_A_Sp_K_N1.mp4,,480,720,4000,0,0,0,0,\r\n6,M7,Happy,Speech,Dog,Baseline,../User/Stimuli/AV_M7_H_Sp_D_N1.mp4,,480,720,4000,0,0,0,0,\r\n7,M7,Happy,Song,Kid,No,../User/Stimuli/V_M7_H_So_K_N1.mp4,../User/Stimuli/A_M7_H_So_K.wav,480,720,4000,0,0,0,0,\r\n8,W6,Fearful,Speech,Dog,High,../User/Stimuli/V_W6_F_Sp_D_N1.mp4,../User/Stimuli/A_W6_F_Sp_D_-5.wav,480,720,4000,0,0,0,0,\r\n9,M9,Angry,Song,Kid,Medium,../User/Stimuli/V_M9_A_So_K_N1.mp4,../User/Stimuli/A_M9_A_So_K_0.wav,480,720,4000,0,0,,,\r\n10,W8,Neutral,Song,Kid,Baseline,../User/Stimuli/AV_W8_N_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n11,W8,Neutral,Song,Kid,Medium,../User/Stimuli/A_W8_N_So_K_N1.mp4,../User/Stimuli/A_W8_N_So_K_0.wav,480,720,4000,0,0,,,\r\n12,W6,Neutral,Speech,Dog,Baseline,../User/Stimuli/AV_W6_N_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n13,W8,Neutral,Speech,Dog,Medium,../User/Stimuli/V_W8_N_Sp_D_N1.mp4,../User/Stimuli/A_W8_N_Sp_D_0.wav,480,720,4000,0,0,,,\r\n14,W8,Fearful,Speech,Dog,Baseline,../User/Stimuli/AV_W8_F_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n15,W8,Neutral,Speech,Dog,High,../User/Stimuli/V_W8_N_Sp_D_N1.mp4,../User/Stimuli/A_W8_N_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n16,W6,Happy,Speech,Kid,Baseline,../User/Stimuli/AV_W6_H_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n17,M9,Fearful,Speech,Kid,Medium,../User/Stimuli/V_M9_F_Sp_K_N1.mp4,../User/Stimuli/A_M9_F_Sp_K_0.wav,480,720,4000,0,0,,,\r\n18,M7,Neutral,Speech,Kid,High,../User/Stimuli/V_M7_N_Sp_K_N1.mp4,../User/Stimuli/A_M7_N_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n19,M7,Fearful,Song,Dog,Medium,../User/Stimuli/V_M7_F_So_D_N1.mp4,../User/Stimuli/A_M7_F_So_D_0.wav,480,720,4000,0,0,,,\r\n20,W6,Neutral,Song,Kid,Medium,../User/Stimuli/V_W6_N_So_K_N1.mp4,../User/Stimuli/A_W6_N_So_K_0.wav,480,720,4000,0,0,,,\r\n21,W6,Fearful,Speech,Dog,No,../User/Stimuli/V_W6_F_Sp_D_N1.mp4,../User/Stimuli/A_W6_F_Sp_D.wav,480,720,4000,0,0,,,\r\n22,M7,Fearful,Song,Dog,No,../User/Stimuli/V_M7_F_So_D_N1.mp4,../User/Stimuli/A_M7_F_So_D.wav,480,720,4000,0,0,,,\r\n23,W6,Angry,Speech,Kid,No,../User/Stimuli/V_W6_A_Sp_K_N1.mp4,../User/Stimuli/A_W6_A_Sp_K.wav,480,720,4000,0,0,,,\r\n24,M7,Neutral,Speech,Kid,Baseline,../User/Stimuli/AV_M7_N_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n25,W8,Fearful,Song,Kid,High,../User/Stimuli/V_W8_F_So_K_N1.mp4,../User/Stimuli/A_W8_F_So_K_-5.wav,480,720,4000,0,0,,,\r\n26,M7,Angry,Song,Kid,High,../User/Stimuli/V_M7_A_So_K_N1.mp4,../User/Stimuli/A_M7_A_So_K_-5.wav,480,720,4000,0,0,,,\r\n27,W6,Angry,Song,Dog,Baseline,../User/Stimuli/AV_W6_A_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n28,W8,Angry,Speech,Dog,Baseline,../User/Stimuli/AV_W8_A_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n29,M9,Neutral,Speech,Dog,Baseline,../User/Stimuli/AV_M9_N_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n30,M7,Neutral,Song,Kid,Baseline,../User/Stimuli/AV_M7_N_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n31,W6,Happy,Song,Dog,Baseline,../User/Stimuli/AV_W6_H_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n32,M9,Neutral,Speech,Kid,Medium,../User/Stimuli/V_M9_N_Sp_K_N1.mp4,../User/Stimuli/A_M9_N_Sp_K_0.wav,480,720,4000,0,0,,,\r\n33,W6,Fearful,Song,Kid,Medium,../User/Stimuli/V_W6_F_So_K_N1.mp4,../User/Stimuli/A_W6_F_So_K_0.wav,480,720,4000,0,0,,,\r\n34,W8,Fearful,Speech,Dog,High,../User/Stimuli/V_W8_F_Sp_D_N1.mp4,../User/Stimuli/A_W8_F_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n35,M7,Fearful,Song,Kid,Baseline,../User/Stimuli/AV_M7_F_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n36,W8,Angry,Speech,Kid,Medium,../User/Stimuli/V_W8_A_Sp_K_N1.mp4,../User/Stimuli/A_W8_A_Sp_K_0.wav,480,720,4000,0,0,,,\r\n37,W6,Neutral,Song,Kid,High,../User/Stimuli/V_W6_N_So_K_N1.mp4,../User/Stimuli/A_W6_N_So_K_-5.wav,480,720,4000,0,0,,,\r\n38,M9,Fearful,Song,Dog,Medium,../User/Stimuli/V_M9_F_So_D_N1.mp4,../User/Stimuli/A_M9_F_So_D_0.wav,480,720,4000,0,0,,,\r\n39,W8,Angry,Song,Kid,Baseline,../User/Stimuli/AV_W8_A_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n40,M9,Fearful,Song,Dog,Baseline,../User/Stimuli/AV_M9_F_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n41,W6,Happy,Song,Dog,High,../User/Stimuli/V_W6_H_So_D_N1.mp4,../User/Stimuli/A_W6_H_So_D_-5.wav,480,720,4000,0,0,,,\r\n42,W8,Angry,Song,Dog,Baseline,../User/Stimuli/AV_W8_A_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n43,W6,Neutral,Song,Kid,No,../User/Stimuli/V_W6_N_So_K_N1.mp4,../User/Stimuli/A_W6_N_So_K.wav,480,720,4000,0,0,,,\r\n44,M7,Fearful,Speech,Kid,Medium,../User/Stimuli/V_M7_F_Sp_K_N1.mp4,../User/Stimuli/A_M7_F_Sp_K_0.wav,480,720,4000,0,0,,,\r\n45,M9,Neutral,Song,Kid,Baseline,../User/Stimuli/AV_M9_N_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n46,W8,Angry,Speech,Kid,High,../User/Stimuli/V_W8_A_Sp_K_N1.mp4,../User/Stimuli/A_W8_A_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n47,M7,Happy,Song,Kid,Baseline,../User/Stimuli/AV_M7_H_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n48,W6,Neutral,Speech,Dog,Medium,../User/Stimuli/V_W6_N_Sp_D_N1.mp4,../User/Stimuli/A_W6_N_Sp_D_0.wav,480,720,4000,0,0,,,\r\n49,M9,Fearful,Song,Dog,High,../User/Stimuli/V_M9_F_So_D_N1.mp4,../User/Stimuli/A_M9_F_So_D_-5.wav,480,720,4000,0,0,,,\r\n50,M7,Angry,Song,Kid,No,../User/Stimuli/V_M7_A_So_K_N1.mp4,../User/Stimuli/A_M7_A_So_K.wav,480,720,4000,0,0,,,\r\n51,M9,Happy,Song,Kid,Baseline,../User/Stimuli/AV_M9_H_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n52,W6,Fearful,Speech,Kid,Baseline,../User/Stimuli/AV_W6_F_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n53,W6,Happy,Song,Dog,Medium,../User/Stimuli/V_W6_H_So_D_N1.mp4,../User/Stimuli/A_W6_H_So_D_0.wav,480,720,4000,0,0,,,\r\n54,W6,Angry,Song,Kid,Baseline,../User/Stimuli/AV_W6_A_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n55,M9,Angry,Speech,Dog,No,../User/Stimuli/V_M9_A_Sp_D_N1.mp4,../User/Stimuli/A_M9_A_Sp_D.wav,480,720,4000,0,0,,,\r\n56,M9,Happy,Speech,Dog,Medium,../User/Stimuli/V_M9_H_Sp_D_N1.mp4,../User/Stimuli/A_M9_H_Sp_D_0.wav,480,720,4000,0,0,,,\r\n57,W8,Happy,Speech,Kid,Medium,../User/Stimuli/V_W8_H_Sp_K_N1.mp4,../User/Stimuli/A_W8_H_Sp_K_0.wav,480,720,4000,0,0,,,\r\n58,M7,Fearful,Song,Dog,Baseline,../User/Stimuli/AV_M7_F_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n59,M9,Happy,Song,Dog,Baseline,../User/Stimuli/AV_M9_H_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n60,W8,Fearful,Song,Dog,Baseline,../User/Stimuli/AV_W8_F_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n61,M7,Happy,Song,Dog,Baseline,../User/Stimuli/AV_M7_H_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n62,M9,Fearful,Speech,Dog,Baseline,../User/Stimuli/AV_M9_F_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n63,W6,Angry,Speech,Dog,Baseline,../User/Stimuli/AV_W6_A_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n64,W6,Angry,Song,Dog,High,../User/Stimuli/V_W6_A_So_D_N1.mp4,../User/Stimuli/A_W6_A_So_D_-5.wav,480,720,4000,0,0,,,\r\n65,M9,Neutral,Song,Dog,No,../User/Stimuli/V_M9_N_So_D_N1.mp4,../User/Stimuli/A_M9_N_So_D.wav,480,720,4000,0,0,,,\r\n66,M9,Angry,Song,Dog,No,../User/Stimuli/V_M9_A_So_K_N1.mp4,../User/Stimuli/A_M9_A_So_K.wav,480,720,4000,0,0,,,\r\n67,M9,Happy,Song,Dog,Medium,../User/Stimuli/V_M9_H_So_K_N1.mp4,../User/Stimuli/A_M9_H_So_K_0.wav,480,720,4000,0,0,,,\r\n68,M7,Angry,Speech,Dog,Baseline,../User/Stimuli/AV_M7_A_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n69,M9,Fearful,Song,Dog,No,../User/Stimuli/V_M9_F_So_D_N1.mp4,../User/Stimuli/A_M9_F_So_D.wav,480,720,4000,0,0,,,\r\n70,M7,Happy,Song,Kid,Medium,../User/Stimuli/V_M7_H_So_K_N1.mp4,../User/Stimuli/A_M7_H_So_K_0.wav,480,720,4000,0,0,,,\r\n71,W8,Neutral,Speech,Dog,No,../User/Stimuli/V_W8_N_Sp_D_N1.mp4,../User/Stimuli/A_W8_N_Sp_D.wav,480,720,4000,0,0,,,\r\n72,W6,Happy,Speech,Kid,Medium,../User/Stimuli/V_W6_H_Sp_K_N1.mp4,../User/Stimuli/A_W6_H_Sp_K_0.wav,480,720,4000,0,0,,,\r\n73,W6,Angry,Speech,Kid,High,../User/Stimuli/V_W6_A_Sp_K_N1.mp4,../User/Stimuli/A_W6_A_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n74,M7,Neutral,Speech,Kid,Medium,../User/Stimuli/V_M7_N_Sp_K_N1.mp4,../User/Stimuli/A_M7_N_Sp_K_0.wav,480,720,4000,0,0,,,\r\n75,M9,Neutral,Song,Dog,Medium,../User/Stimuli/V_M9_N_So_D_N1.mp4,../User/Stimuli/A_M9_N_So_D_0.wav,480,720,4000,0,0,,,\r\n76,W6,Happy,Song,Kid,Baseline,../User/Stimuli/AV_W6_H_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n77,M7,Neutral,Song,Dog,No,../User/Stimuli/V_M7_N_So_D_N1.mp4,../User/Stimuli/A_M7_N_So_D.wav,480,720,4000,0,0,,,\r\n78,M9,Angry,Speech,Kid,Baseline,../User/Stimuli/AV_M9_A_Sp_k_N1.mp4,,480,720,4000,0,0,,,\r\n79,M7,Fearful,Speech,Kid,Baseline,../User/Stimuli/AV_M7_F_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n80,W8,Neutral,Speech,Kid,Baseline,../User/Stimuli/AV_W8_N_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n,,,,,,,,,,,,,,,",
          "gaze_actual_list3a.csv": "trial,\"actor \",\"emotion \",channel,sentence,auditory_noise_level,video_1,audio_1,video_1_height,video_1_width,duration,video_1_x,video_1_y,video_1_x*,video_1_y*,\r\n1,M9,Fearful,Speech,Kid,Baseline,../User/Stimuli/AV_M9_F_Sp_K_N1.mp4,,480,720,4000,0,0,0,0,\r\n2,W8,Fearful,Song,Dog,Low,../User/Stimuli/V_W8_F_So_D_N1.mp4,../User/Stimuli/A_W8_F_So_D_0.wav,480,720,4000,0,0,0,0,\r\n3,M7,Neutral,Song,Dog,Baseline,../User/Stimuli/AV_M7_N_So_D_N1.mp4,,480,720,4000,0,0,0,0,\r\n4,W8,Fearful,Speech,Kid,No,../User/Stimuli/V_W8_F_Sp_K_N1.mp4,../User/Stimuli/A_W8_F_Sp_K.wav,480,720,4000,0,0,0,0,\r\n5,M9,Neutral,Speech,Dog,Low,../User/Stimuli/V_M9_N_Sp_D_N1.mp4,../User/Stimuli/A_M9_N_Sp_D_0.wav,480,720,4000,0,0,0,0,\r\n6,M7,Happy,Song,Dog,No,../User/Stimuli/V_M7_H_So_D_N1.mp4,../User/Stimuli/A_M7_H_So_D.wav,480,720,4000,0,0,0,0,\r\n7,M9,Neutral,Song,Kid,Low,../User/Stimuli/V_M9_N_So_K_N1.mp4,../User/Stimuli/A_M9_N_So_K_0.wav,480,720,4000,0,0,0,0,\r\n8,W6,Fearful,Speech,Kid,Baseline,../User/Stimuli/AV_W6_F_Sp_K_N1.mp4,,480,720,4000,0,0,0,0,\r\n9,W6,Neutral,Song,Kid,Baseline,../User/Stimuli/AV_W6_N_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n10,M7,Happy,Speech,Kid,No,../User/Stimuli/V_M7_H_Sp_K_N1.mp4,../User/Stimuli/A_M7_H_Sp_K.wav,480,720,4000,0,0,,,\r\n11,W6,Happy,Speech,Kid,Baseline,../User/Stimuli/AV_W6_H_Sp_K_N1.mp4,../User/Stimuli/,480,720,4000,0,0,,,\r\n12,W6,Neutral,Song,Dog,No,../User/Stimuli/V_W6_N_So_D_N1.mp4,../User/Stimuli/A_W6_N_So_D.wav,480,720,4000,0,0,,,\r\n13,M9,Fearful,Song,Kid,Baseline,../User/Stimuli/AV_M9_F_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n14,W8,Happy,Song,Kid,Baseline,../User/Stimuli/AV_W8_H_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n15,W8,Neutral,Speech,Kid,Baseline,../User/Stimuli/AV_W8_N_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n16,M7,Fearful,Speech,Dog,Low,../User/Stimuli/V_M7_F_Sp_D_N1.mp4,../User/Stimuli/A_M7_F_Sp_D_0.wav,480,720,4000,0,0,,,\r\n17,W8,Happy,Speech,Dog,Low,../User/Stimuli/V_W8_H_Sp_D_N1.mp4,../User/Stimuli/A_W8_H_Sp_D_0.wav,480,720,4000,0,0,,,\r\n18,M9,Angry,Speech,Dog,Baseline,../User/Stimuli/AV_M9_A_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n19,W6,Neutral,Song,Dog,Baseline,../User/Stimuli/AV_W6_N_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n20,W6,Fearful,Song,Kid,Baseline,../User/Stimuli/AV_W6_F_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n21,M7,Angry,Song,Kid,Baseline,../User/Stimuli/AV_M7_A_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n22,W6,Happy,Song,Kid,Low,../User/Stimuli/V_W6_H_So_K_N1.mp4,../User/Stimuli/A_W6_H_So_K_0.wav,480,720,4000,0,0,,,\r\n23,W8,Neutral,Song,Dog,Baseline,../User/Stimuli/AV_W8_N_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n24,W6,Happy,Speech,Dog,High,../User/Stimuli/V_W6_H_Sp_D_N1.mp4,../User/Stimuli/A_W6_H_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n25,M9,Happy,Speech,Dog,Baseline,../User/Stimuli/AV_M9_H_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n26,W8,Neutral,Song,Dog,No,../User/Stimuli/V_W8_N_So_D_N1.mp4,../User/Stimuli/A_W8_N_So_D.wav,480,720,4000,0,0,,,\r\n27,W8,Fearful,Song,Dog,No,../User/Stimuli/V_W8_F_So_D_N1.mp4,../User/Stimuli/A_W8_F_So_D.wav,480,720,4000,0,0,,,\r\n28,M7,Angry,Song,Dog,No,../User/Stimuli/V_M7_A_So_D_N1.mp4,../User/Stimuli/A_M7_A_So_D.wav,480,720,4000,0,0,,,\r\n29,M7,Neutral,Song,Kid,No,../User/Stimuli/V_M7_N_So_K_N1.mp4,../User/Stimuli/A_M7_N_So_K.wav,480,720,4000,0,0,,,\r\n30,M9,Happy,Song,Dog,Low,../User/Stimuli/V_M9_H_So_D_N1.mp4,../User/Stimuli/A_M9_H_So_D_0.wav,480,720,4000,0,0,,,\r\n31,M7,Angry,Speech,Kid,Low,../User/Stimuli/V_M7_A_Sp_K_N1.mp4,../User/Stimuli/A_M7_A_Sp_K_0.wav,480,720,4000,0,0,,,\r\n32,W8,Angry,Song,Kid,Baseline,../User/Stimuli/AV_W8_A_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n33,W6,Angry,Song,Kid,Low,../User/Stimuli/V_W6_A_So_K_N1.mp4,../User/Stimuli/A_W6_A_So_K_0.wav,480,720,4000,0,0,,,\r\n34,M9,Neutral,Speech,Dog,No,../User/Stimuli/V_M9_N_Sp_D_N1.mp4,../User/Stimuli/A_M9_N_Sp_D.wav,480,720,4000,0,0,,,\r\n35,W6,Angry,Speech,Dog,Baseline,../User/Stimuli/AV_W6_A_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n36,W8,Happy,Speech,Kid,Baseline,../User/Stimuli/AV_W8_H_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n37,M9,Fearful,Speech,Dog,High,../User/Stimuli/V_M9_F_Sp_D_N1.mp4,../User/Stimuli/A_M9_F_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n38,W6,Angry,Song,Kid,No,../User/Stimuli/V_W6_A_So_K_N1.mp4,../User/Stimuli/A_W6_A_So_K.wav,480,720,4000,0,0,,,\r\n39,M7,Angry,Song,Dog,Baseline,../User/Stimuli/AV_M7_A_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n40,W6,Angry,Speech,Dog,High,../User/Stimuli/V_W6_A_Sp_D_N1.mp4,../User/Stimuli/A_W6_A_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n41,M7,Neutral,Speech,Dog,Low,../User/Stimuli/V_M7_N_Sp_D_N1.mp4,../User/Stimuli/A_M7_N_Sp_D_0.wav,480,720,4000,0,0,,,\r\n42,W6,Fearful,Song,Dog,High,../User/Stimuli/V_W6_F_So_D_N1.mp4,../User/Stimuli/A_W6_F_So_D_-5.wav,480,720,4000,0,0,,,\r\n43,W6,Neutral,Speech,Kid,No,../User/Stimuli/V_W6_N_Sp_K_N1.mp4,../User/Stimuli/A_W6_N_Sp_K.wav,480,720,4000,0,0,,,\r\n44,W6,Neutral,Speech,Kid,Baseline,../User/Stimuli/AV_W6_N_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n45,M9,Happy,Speech,Kid,High,../User/Stimuli/V_M9_H_Sp_K_N1.mp4,../User/Stimuli/A_M9_H_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n46,W6,Neutral,Song,Dog,High,../User/Stimuli/V_W6_N_So_D_N1.mp4,../User/Stimuli/A_W6_N_So_D_-5.wav,480,720,4000,0,0,,,\r\n47,W6,Happy,Speech,Dog,No,../User/Stimuli/V_W6_H_Sp_D_N1.mp4,../User/Stimuli/A_W6_H_Sp_D.wav,480,720,4000,0,0,,,\r\n48,W8,Angry,Song,Kid,High,../User/Stimuli/V_W8_A_So_K_N1.mp4,../User/Stimuli/A_W8_A_So_K_-5.wav,480,720,4000,0,0,,,\r\n49,M9,Neutral,Speech,Kid,Baseline,../User/Stimuli/AV_M9_N_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n50,M7,Fearful,Song,Kid,Baseline,../User/Stimuli/AV_M7_F_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n51,W6,Angry,Song,Kid,Baseline,../User/Stimuli/AV_W6_A_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n52,M7,Fearful,Speech,Dog,No,../User/Stimuli/V_M7_F_Sp_D_N1.mp4,../User/Stimuli/A_M7_F_Sp_D.wav,480,720,4000,0,0,,,\r\n53,W6,Happy,Song,Kid,Baseline,../User/Stimuli/AV_W6_H_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n54,W6,Fearful,Song,Dog,Low,../User/Stimuli/V_W6_F_So_D_N1.mp4,../User/Stimuli/A_W6_F_So_D_0.wav,480,720,4000,0,0,,,\r\n55,W6,Angry,Speech,Dog,No,../User/Stimuli/V_W6_A_Sp_D_N1.mp4,../User/Stimuli/A_W6_A_Sp_D.wav,480,720,4000,0,0,,,\r\n56,M7,Neutral,Speech,Dog,High,../User/Stimuli/V_M7_N_Sp_D_N1.mp4,../User/Stimuli/A_M7_N_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n57,W6,Angry,Speech,Dog,Low,../User/Stimuli/V_W6_A_Sp_D_N1.mp4,../User/Stimuli/A_W6_A_Sp_D_0.wav,480,720,4000,0,0,,,\r\n58,M9,Happy,Song,Dog,Baseline,../User/Stimuli/AV_M9_H_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n59,M7,Neutral,Song,Kid,Low,../User/Stimuli/V_M7_N_So_K_N1.mp4,../User/Stimuli/A_M7_N_So_K_0.wav,480,720,4000,0,0,,,\r\n60,W6,Fearful,Song,Dog,Baseline,../User/Stimuli/AV_W6_F_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n61,W8,Angry,Speech,Kid,Baseline,../User/Stimuli/AV_W8_A_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n62,M7,Angry,Speech,Kid,Baseline,../User/Stimuli/AV_M7_A_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n63,W6,Happy,Song,Kid,No,../User/Stimuli/V_W6_H_So_K_N1.mp4,../User/Stimuli/A_W6_H_So_K.wav,480,720,4000,0,0,,,\r\n64,W6,Neutral,Speech,Kid,Low,../User/Stimuli/V_W6_N_Sp_K_N1.mp4,../User/Stimuli/A_W6_N_Sp_K_0.wav,480,720,4000,0,0,,,\r\n65,M9,Neutral,Speech,Dog,High,../User/Stimuli/V_M9_N_Sp_D_N1.mp4,../User/Stimuli/A_M9_N_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n66,W6,Happy,Song,Kid,High,../User/Stimuli/V_W6_H_So_K_N1.mp4,../User/Stimuli/A_W6_H_So_K_-5.wav,480,720,4000,0,0,,,\r\n67,M7,Happy,Song,Dog,High,../User/Stimuli/V_M7_H_So_D_N1.mp4,../User/Stimuli/A_M7_H_So_D_-5.wav,480,720,4000,0,0,,,\r\n68,W6,Angry,Song,Kid,High,../User/Stimuli/V_W6_A_So_K_N1.mp4,../User/Stimuli/A_W6_A_So_K_-5.wav,480,720,4000,0,0,,,\r\n69,W8,Neutral,Speech,Kid,Low,../User/Stimuli/V_W8_N_Sp_K_N1.mp4,../User/Stimuli/A_W8_N_Sp_K_0.wav,480,720,4000,0,0,,,\r\n70,W6,Neutral,Speech,Dog,Baseline,../User/Stimuli/AV_W6_N_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n71,M9,Fearful,Song,Kid,High,../User/Stimuli/V_M9_F_So_K_N1.mp4,../User/Stimuli/A_M9_F_So_K_-5.wav,480,720,4000,0,0,,,\r\n72,M7,Fearful,Song,Kid,Low,../User/Stimuli/V_M7_F_So_K_N1.mp4,../User/Stimuli/A_M7_F_So_K_0.wav,480,720,4000,0,0,,,\r\n73,M9,Angry,Song,Dog,Baseline,../User/Stimuli/AV_M9_A_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n74,M7,Angry,Speech,Kid,High,../User/Stimuli/V_M7_A_Sp_K_N1.mp4,../User/Stimuli/A_M7_A_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n75,M9,Fearful,Speech,Dog,Low,../User/Stimuli/V_M9_F_Sp_D_N1.mp4,../User/Stimuli/A_M9_F_Sp_D_0.wav,480,720,4000,0,0,,,\r\n76,W6,Neutral,Song,Dog,Low,../User/Stimuli/V_W6_N_So_D_N1.mp4,../User/Stimuli/A_W6_N_So_D_0.wav,480,720,4000,0,0,,,\r\n77,M7,Neutral,Song,Kid,Baseline,../User/Stimuli/AV_M7_N_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n78,W8,Happy,Song,Dog,Baseline,../User/Stimuli/AV_W8_H_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n79,M7,Happy,Song,Dog,Low,../User/Stimuli/V_M7_H_So_D_N1.mp4,../User/Stimuli/A_M7_H_So_D_0.wav,480,720,4000,0,0,,,\r\n80,W8,Fearful,Speech,Dog,Baseline,../User/Stimuli/AV_W8_F_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n,,,,,,,,,,,,,,,",
          "gaze_actual_list4a.csv": "trial,\"actor \",\"emotion \",channel,sentence,auditory_noise_level,video_1,audio_1,video_1_height,video_1_width,duration,video_1_x,video_1_y,video_1_x*,video_1_y*,\r\n1,M7,Neutral,Song,Kid,High,../User/Stimuli/V_M7_N_So_K_N1.mp4,../User/Stimuli/A_M7_N_So_K_-5.wav,480,720,4000,0,0,0,0,\r\n2,M9,Angry,Song,Dog,High,../User/Stimuli/V_M9_A_So_D_N1.mp4,../User/Stimuli/A_M9_A_So_D_-5.wav,480,720,4000,0,0,0,0,\r\n3,W6,Angry,Song,Dog,Baseline,../User/Stimuli/AV_W6_A_So_D_N1.mp4,,480,720,4000,0,0,0,0,\r\n4,W8,Neutral,Song,Kid,Baseline,../User/Stimuli/AV_W8_N_So_K_N1.mp4,,480,720,4000,0,0,0,0,\r\n5,M9,Neutral,Song,Kid,No,../User/Stimuli/V_M9_N_So_K_N1.mp4,../User/Stimuli/A_M9_N_So_K.wav,480,720,4000,0,0,0,0,\r\n6,M7,Fearful,Song,Dog,Baseline,../User/Stimuli/AV_M7_F_So_D_N1.mp4,,480,720,4000,0,0,0,0,\r\n7,W6,Happy,Speech,Dog,Baseline,../User/Stimuli/AV_W6_H_Sp_D_N1.mp4,,480,720,4000,0,0,0,0,\r\n8,M7,Happy,Speech,Dog,Baseline,../User/Stimuli/AV_M7_H_Sp_D_N1.mp4,,480,720,4000,0,0,0,0,\r\n9,M7,Neutral,Speech,Dog,Baseline,../User/Stimuli/AV_M7_N_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n10,W8,Happy,Speech,Dog,No,../User/Stimuli/V_W8_H_Sp_D_N1.mp4,../User/Stimuli/A_W8_H_Sp_D.wav,480,720,4000,0,0,,,\r\n11,W8,Happy,Song,Kid,High,../User/Stimuli/V_W8_H_So_K_N1.mp4,../User/Stimuli/A_W8_H_So_K_-5.wav,480,720,4000,0,0,,,\r\n12,M9,Angry,Song,Dog,No,../User/Stimuli/V_M9_A_So_D_N1.mp4,../User/Stimuli/A_M9_A_So_D.wav,480,720,4000,0,0,,,\r\n13,M7,Fearful,Song,Kid,No,../User/Stimuli/V_M7_F_So_K_N1.mp4,../User/Stimuli/A_M7_F_So_K.wav,480,720,4000,0,0,,,\r\n14,M9,Neutral,Speech,Dog,Baseline,../User/Stimuli/AV_M9_N_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n15,W8,Neutral,Song,Dog,Low,../User/Stimuli/V_W8_N_So_D_N1.mp4,../User/Stimuli/A_W8_N_So_D_0.wav,480,720,4000,0,0,,,\r\n16,M7,Fearful,Speech,Dog,High,../User/Stimuli/V_M7_F_Sp_D_N1.mp4,../User/Stimuli/A_M7_F_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n17,M9,Neutral,Song,Kid,High,../User/Stimuli/V_M9_N_So_K_N1.mp4,../User/Stimuli/A_M9_N_So_K_-5.wav,480,720,4000,0,0,,,\r\n18,W8,Neutral,Speech,Dog,Baseline,../User/Stimuli/AV_W8_N_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n19,W6,Fearful,Speech,Kid,Low,../User/Stimuli/V_W6_F_Sp_K_N1.mp4,../User/Stimuli/A_W6_F_Sp_K_0.wav,480,720,4000,0,0,,,\r\n20,M7,Happy,Speech,Kid,Baseline,../User/Stimuli/AV_M7_H_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n21,M9,Angry,Song,Dog,Low,../User/Stimuli/V_M9_A_So_D_N1.mp4,../User/Stimuli/A_M9_A_So_D_0.wav,480,720,4000,0,0,,,\r\n22,W8,Angry,Song,Dog,Baseline,../User/Stimuli/AV_W8_A_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n23,M9,Angry,Speech,Kid,High,../User/Stimuli/V_M9_A_Sp_K_N1.mp4,../User/Stimuli/A_M9_A_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n24,M9,Neutral,Song,Dog,Baseline,../User/Stimuli/AV_M9_N_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n25,M7,Neutral,Speech,Dog,No,../User/Stimuli/V_M7_N_Sp_D_N1.mp4,../User/Stimuli/A_M7_N_Sp_D.wav,480,720,4000,0,0,,,\r\n26,M7,Happy,Speech,Kid,Low,../User/Stimuli/V_M7_H_Sp_K_N1.mp4,../User/Stimuli/A_M7_H_Sp_K_0.wav,480,720,4000,0,0,,,\r\n27,M9,Angry,Speech,Kid,No,../User/Stimuli/V_M9_A_Sp_K_N1.mp4,../User/Stimuli/A_M9_A_Sp_K.wav,480,720,4000,0,0,,,\r\n28,W6,Happy,Song,Dog,Baseline,../User/Stimuli/AV_W6_H_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n29,W8,Happy,Speech,Dog,Baseline,../User/Stimuli/AV_W8_H_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n30,W6,Fearful,Song,Dog,No,../User/Stimuli/V_W6_F_So_D_N1.mp4,../User/Stimuli/A_W6_F_So_D.wav,480,720,4000,0,0,,,\r\n31,M7,Happy,Speech,Kid,High,../User/Stimuli/V_M7_H_Sp_K_N1.mp4,../User/Stimuli/A_M7_H_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n32,M7,Fearful,Song,Kid,High,../User/Stimuli/V_M7_F_So_K_N1.mp4,../User/Stimuli/A_M7_F_So_K_-5.wav,480,720,4000,0,0,,,\r\n33,M7,Angry,Speech,Dog,Baseline,../User/Stimuli/AV_M7_A_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n34,M9,Happy,Speech,Kid,Baseline,../User/Stimuli/AV_M9_H_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n35,W8,Fearful,Speech,Kid,Low,../User/Stimuli/V_W8_F_Sp_K_N1.mp4,../User/Stimuli/A_W8_F_Sp_K_0.wav,480,720,4000,0,0,,,\r\n36,M9,Happy,Speech,Kid,No,../User/Stimuli/V_M9_H_Sp_K_N1.mp4,../User/Stimuli/A_M9_H_Sp_K.wav,480,720,4000,0,0,,,\r\n37,M9,Happy,Song,Kid,Baseline,../User/Stimuli/AV_M9_H_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n38,W8,Angry,Song,Kid,Low,../User/Stimuli/V_W8_A_So_K_N1.mp4,../User/Stimuli/A_W8_A_So_K_0.wav,480,720,4000,0,0,,,\r\n39,M7,Fearful,Speech,Kid,Baseline,../User/Stimuli/AV_M7_F_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n40,W8,Angry,Speech,Dog,No,../User/Stimuli/V_W8_A_Sp_D_N1.mp4,../User/Stimuli/A_W8_A_Sp_D.wav,480,720,4000,0,0,,,\r\n41,W6,Fearful,Speech,Kid,High,../User/Stimuli/V_W6_F_Sp_K_N1.mp4,../User/Stimuli/A_W6_F_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n42,W8,Angry,Speech,Dog,Baseline,../User/Stimuli/AV_W8_A_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n43,M9,Fearful,Song,Dog,Baseline,../User/Stimuli/AV_M9_F_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n44,M9,Angry,Speech,Kid,Low,../User/Stimuli/V_M9_A_Sp_K_N1.mp4,../User/Stimuli/A_M9_A_Sp_K_0.wav,480,720,4000,0,0,,,\r\n45,M9,Happy,Speech,Kid,Low,../User/Stimuli/V_M9_H_Sp_K_N1.mp4,../User/Stimuli/A_M9_H_Sp_K_0.wav,480,720,4000,0,0,,,\r\n46,W6,Angry,Speech,Kid,Baseline,../User/Stimuli/AV_W6_A_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n47,M7,Angry,Song,Dog,Low,../User/Stimuli/V_M7_A_So_D_N1.mp4,../User/Stimuli/A_M7_A_So_D_0.wav,480,720,4000,0,0,,,\r\n48,W8,Neutral,Song,Dog,High,../User/Stimuli/V_W8_N_So_D_N1.mp4,../User/Stimuli/A_W8_N_So_D_-5.wav,480,720,4000,0,0,,,\r\n49,M7,Angry,Speech,Kid,No,../User/Stimuli/V_M7_A_Sp_K_N1.mp4,../User/Stimuli/A_M7_A_Sp_K.wav,480,720,4000,0,0,,,\r\n50,M7,Neutral,Speech,Kid,Baseline,../User/Stimuli/AV_M7_N_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n51,W8,Fearful,Song,Kid,Baseline,../User/Stimuli/AV_W8_F_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n52,W8,Happy,Speech,Dog,High,../User/Stimuli/V_W8_H_Sp_D_N1.mp4,../User/Stimuli/A_W8_H_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n53,W8,Neutral,Speech,Kid,High,../User/Stimuli/V_W8_N_Sp_K_N1.mp4,../User/Stimuli/A_W8_N_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n54,W8,Happy,Song,Kid,Low,../User/Stimuli/V_W8_H_So_K_N1.mp4,../User/Stimuli/A_W8_H_So_K_0.wav,480,720,4000,0,0,,,\r\n55,W8,Angry,Speech,Dog,High,../User/Stimuli/V_W8_A_Sp_D_N1.mp4,../User/Stimuli/A_W8_A_Sp_D_-5.wav,480,720,4000,0,0,,,\r\n56,W6,Fearful,Speech,Kid,No,../User/Stimuli/V_W6_F_Sp_K_N1.mp4,../User/Stimuli/A_W6_F_Sp_K.wav,480,720,4000,0,0,,,\r\n57,M9,Angry,Speech,Kid,Baseline,../User/Stimuli/AV_M9_A_Sp_k_N1.mp4,,480,720,4000,0,0,,,\r\n58,M9,Angry,Song,Kid,Baseline,../User/Stimuli/AV_M9_A_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n59,M9,Fearful,Speech,Dog,Baseline,../User/Stimuli/AV_M9_F_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n60,W8,Angry,Speech,Dog,Low,../User/Stimuli/V_W8_A_Sp_D_N1.mp4,../User/Stimuli/A_W8_A_Sp_D_0.wav,480,720,4000,0,0,,,\r\n61,W6,Fearful,Speech,Dog,Baseline,../User/Stimuli/AV_W6_F_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n62,M9,Fearful,Speech,Dog,No,../User/Stimuli/V_M9_F_Sp_D_N1.mp4,../User/Stimuli/A_M9_F_Sp_D.wav,480,720,4000,0,0,,,\r\n63,W8,Happy,Song,Kid,No,../User/Stimuli/V_W8_H_So_K_N1.mp4,../User/Stimuli/A_W8_H_So_K.wav,480,720,4000,0,0,,,\r\n64,W8,Fearful,Song,Dog,Baseline,../User/Stimuli/AV_W8_F_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n65,M7,Happy,Song,Kid,Baseline,../User/Stimuli/AV_M7_H_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n66,W8,Angry,Song,Kid,No,../User/Stimuli/V_W8_A_So_K_N1.mp4,../User/Stimuli/A_W8_A_So_K.wav,480,720,4000,0,0,,,\r\n67,W8,Neutral,Speech,Kid,No,../User/Stimuli/V_W8_N_Sp_K_N1.mp4,../User/Stimuli/A_W8_N_Sp_K.wav,480,720,4000,0,0,,,\r\n68,M7,Angry,Song,Dog,High,../User/Stimuli/V_M7_A_So_D_N1.mp4,../User/Stimuli/A_M7_A_So_D_-5.wav,480,720,4000,0,0,,,\r\n69,M7,Fearful,Speech,Dog,Baseline,../User/Stimuli/AV_M7_F_Sp_D_N1.mp4,,480,720,4000,0,0,,,\r\n70,M9,Fearful,Song,Kid,Low,../User/Stimuli/V_M9_F_So_K_N1.mp4,../User/Stimuli/A_M9_F_So_K_0.wav,480,720,4000,0,0,,,\r\n71,W8,Fearful,Song,Dog,High,../User/Stimuli/V_W8_F_So_D_N1.mp4,../User/Stimuli/A_W8_F_So_D_-5.wav,480,720,4000,0,0,,,\r\n72,M9,Happy,Song,Dog,No,../User/Stimuli/V_M9_H_So_D_N1.mp4,../User/Stimuli/A_M9_H_So_D.wav,480,720,4000,0,0,,,\r\n73,W6,Happy,Speech,Dog,Low,../User/Stimuli/V_W6_H_Sp_D_N1.mp4,../User/Stimuli/A_W6_H_Sp_D_0.wav,480,720,4000,0,0,,,\r\n74,W8,Fearful,Speech,Kid,High,../User/Stimuli/V_W8_F_Sp_K_N1.mp4,../User/Stimuli/A_W8_F_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n75,M9,Fearful,Song,Kid,No,../User/Stimuli/V_M9_F_So_K_N1.mp4,../User/Stimuli/A_M9_F_So_K.wav,480,720,4000,0,0,,,\r\n76,M7,Happy,Song,Dog,Baseline,../User/Stimuli/AV_M7_H_So_D_N1.mp4,,480,720,4000,0,0,,,\r\n77,W6,Neutral,Speech,Kid,High,../User/Stimuli/V_W6_N_Sp_K_N1.mp4,../User/Stimuli/A_W6_N_Sp_K_-5.wav,480,720,4000,0,0,,,\r\n78,M9,Happy,Song,Dog,High,../User/Stimuli/V_M9_H_So_D_N1.mp4,../User/Stimuli/A_M9_H_So_D_-5.wav,480,720,4000,0,0,,,\r\n79,W8,Fearful,Speech,Kid,Baseline,../User/Stimuli/AV_W8_F_Sp_K_N1.mp4,,480,720,4000,0,0,,,\r\n80,M9,Neutral,Song,Kid,Baseline,../User/Stimuli/AV_M9_N_So_K_N1.mp4,,480,720,4000,0,0,,,\r\n,,,,,,,,,,,,,,,",
          "video_1.csv": "cue,answer,\r\nA,Apple,\r\nB,Banana,\r\n,,"
        },
        "public_key": "WyzeyalvON2lVlVC0POQI89id+uu5G0ntL14G4l+ki0=",
        "surveys": {
          "borcsok_ethics.csv": [
            [
              "item_name",
              "text",
              "Type",
              "Answers",
              "Values",
              "Optional",
              "side_by_side",
              "question_width",
              null
            ],
            [
              "Instructions1",
              "<h2>School of Psychology</h2>\r\n\r\n<h5>Earley Gate, <br>\r\nWhiteknights<br>\r\nPO Box 238, <br>\r\nReading <br>\r\nRG6 6AL, <br>\r\nUK</h5>\r\n\r\n<h6>phone\t+44 (0)118 378 8523</h6>\r\n<h6>fax\t+44 (0)118 378 6715</h6>\r\n<br>\r\n\r\n<h3>Title of Study: Investigating attentional biases to neutral and pleasant images: An eye-tracking study</h3>\r\n\r\n\r\n<h3>Information & Consent Sheet</h3>\r\n\r\n<h3>Researchers: </h3>\r\n<table>\r\n  <tr>\r\n  \r\n    <td>\r\n      <b>Supervisors:</b>\r\n    </td>\r\n    <td>\r\n      <b>Email:</b>\r\n    </td>\r\n    <td>\r\n      <b>Phone:</b>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      Dr Anthony Haffey      \r\n    </td>\r\n    <td>\r\n      Anthony.Haffey@reading.ac.uk\r\n    </td>\r\n    <td>\r\n      0118 378 8850\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      Dr Lily Fitzgibbon\r\n    </td>\r\n    <td>\r\n      l.t.fitzgibbon@reading.ac.uk\r\n    </td>\r\n    <td>\r\n      0118 378 8850\r\n    </td>\r\n  </tr>\r\n</table>\r\n<br>\r\n<br>\r\n\t\t\r\n<table>\r\n  <tr>\r\n    <td>\r\n      <b>Experimenters</b>\r\n    </td>\r\n    <td>\r\n      <b>Email</b>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      Rebecca Borcsok\r\n    </td>\r\n    <td>\r\n      r.borcsok@student.reading.ac.uk \r\n    </td>\r\n  </tr>\r\n</table>\r\n<br>\r\n\r\n<p>\r\nYou are being invited to take part in some research. Before you decide whether or not to participate, it is important for you to understand why the research is being conducted and what it will involve. Please read the following information carefully.  \r\n</p>\r\n\r\n\r\n<h4>What is the purpose of the research? </h4>\r\n<p>\r\nWe are conducting research exploring eye movements when viewing neutral or pleasant images. The purpose of the study is to determine if individual differences influence attentional behaviour. Your participation in this study will require one 30-minute session.  \r\n</p>\r\n\r\n<h4>Who is carrying out the research? </h4>\r\n<p>The data are being collected by Rebecca Borcsok, under the supervision of Dr Anthony Haffey and Dr Lily Fitzgibbon, in the School of Psychology and Clinical Language Sciences at University of Reading. The research has been approved by the School and University ethics committees. </p>\r\n\r\n<h4>What happens if I agree to take part? </h4>\r\n<p>If you agree to take part in this research, you will be asked to take part in a task where you will view matched pairs of images, whilst your eye movements are recorded. You will also be asked to complete a video-game style task, which records your decision-making. After the two tasks, you will also be asked to complete some questionnaires, including some that ask about your alcohol and gambling behaviours. At the end of the study, you will be debriefed on the tasks you have completed and given further information on the aims of the study. </p>\r\n\r\n<h4>Are there any risks associated with taking part?</h4> \r\n<p>One risk of taking part in this study is the issue of confidentiality. To ensure that information about your personal use of alcohol or gambling behaviour is known by to as few members of the research team as possible, this information will be held by Rebecca Borcsok only, until the study is complete. You will be identified by code only during the study, so you cannot be matched with information about alcohol use or gambling. After the study is complete, all identifying information will be removed, and only subject codes (and non-identifying information) would be matched to information about your alcohol use and gambling behaviour. </p>\r\n\r\n<h4>What will happen to the information I provide?</h4> \r\n<p>Your data will be kept confidential and securely stored, with only an anonymous number identifying it. Information linking that number to your name will be stored securely and separately from the data you provide us. All identifiable information collected for the project, such as the consent form, will be destroyed after a period of 60 months from the when the completion of the project has elapsed. </p>\r\n<p>An analysis of the information will form part of our report at the end of the study and may be presented to interested parties and published in scientific journals and related media.  Note that all information presented in any reports or publications will be anonymous and unidentifiable.</p>\r\n\r\n<h4>Is participation voluntary and what if I wish to later withdraw? </h4>\r\n<p>Taking part in this study is completely voluntary; you may withdraw at any time without having to give any reason. Please feel free to ask any questions that you may have about this study at any point.</p>\r\n\r\n<h4>What if I have other questions? </h4>\r\n<p>If you have further questions about this study, please do not hesitate to contact the student experimenter or supervisors listed above.</p>",
              "Instruct",
              "",
              "",
              "",
              "",
              null,
              null
            ],
            [
              "info_questions",
              "I confirm that I have read the information sheet for this study. I have had the opportunity to consider the information, ask questions and have had these answered satisfactorily.",
              "likert",
              "Agree",
              "1",
              "No",
              "yes",
              "80%"
            ],
            [
              "info_confidential",
              "I understand that all personal information will remain confidential to the Investigator and arrangements for the storage and eventual disposal of any identifiable material have been made clear to me.",
              "likert",
              "Agree",
              "1",
              "No",
              "yes",
              "80%",
              null
            ],
            [
              "info_voluntary",
              "I understand that participation in this study is voluntary and that I can withdraw at any time without having to give an explanation.",
              "likert",
              "Agree",
              "1",
              "No",
              "yes",
              "80%",
              null
            ],
            [
              "Info_Accept",
              "I am happy to proceed with my participation.",
              "likert",
              "Agree",
              "1",
              "No",
              "yes",
              "80%",
              null
            ],
            [
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null
            ]
          ],
          "info_jf1.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "optional",
              "side_by_side",
              ""
            ],
            [
              "Instructions1",
              "<div align=\"right\">School of Psychology and Clinical Language Sciences<br>\r\nWhiteknights<br>\r\nReading RG6 6AL</div>\r\n<h2>University of Reading</h2><br>\r\n<h2>Title of Study: Investigating attentional biases to neutral and pleasant images 2: An eye-tracking study</h2><br>\r\n<h2>PARTICIPANT INFORMATION SHEET </h2>\r\n\r\n<br>\r\n<table class=\"table\">\r\n  <tr>\r\n    <td><b>Investigator(s):</b></td>\r\n    <td><b>Email:</b></td>\r\n    <td><b>Telephone:</b></td>\r\n  </tr>\r\n    <tr>\r\n    <td>Anthony Haffey</td>\r\n    <td>anthony.haffey@reading.ac.uk</td>\r\n    <td>-01183788523-</td>\r\n  </tr>\r\n  <tr>\r\n    <td>Chen Zhao</td>\r\n    <td>c.zhao5@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n<tr>\r\n    <td>Nicholas Hedger</td>\r\n    <td>n.hedger@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n  <tr>\r\n    <td><b>Researcher(s):</b></td>\r\n  </tr>\r\n  <tr>\r\n    <td>Joe Forrest</td>\r\n    <td>j.forrest@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n</table>\r\n\r\nWe would be grateful if you could assist us by participating in our online study. <br>\r\n<br>\r\n<b> What is the study investigating? </b> <br>\r\nWe are investigating behaviour related to addiction. In this research you will complete questionnaires, some of which relate to depression, addiction, alcohol, social networking and difficult experiences from childhood, and an eye-tracking task when viewing pairs of images including images involving alcohol and social networking. The eye-tracking will just use the web-camera on your device and does not require wearing any device. The task tends to work much better on laptops than desktops with mounted cameras so we would recommend continuing or restarting the task on a laptop. The purpose of the study is to determine if individual differences influence attentional behaviour. Your participation in this study will require one 30-minute session.  \r\n<br><br>\r\n<b> What data be stored? </b> <br>\r\nWe will use your webcam to track where you are looking during the eye tracking task. You do not need any specialist equipment for this task - just a webcam. Furthermore, and most importantly, we will not record any videos or pictures, but only the co-ordinates of where we think you are looking. We will also store your questionnaire results.<br>\r\n<br>\r\n<b> How will my data be stored? </b> <br>\r\nYour data will be kept confidential and securely stored, with only an anonymous number identifying it. Data collected from this study will be preserved and made publicly available in anonymised form, so that data can be re-used by others. No video will be collected or stored, your webcam will only be used to estimate where you are looking on the screen.<br>\r\n<br>\r\n<b>Are there any risks associated with taking part?</b><br>Some of the questionnaires may include material of a sensitive nature. Thus, the study may include a mild risk of anxiety, sadness or other emotional reactions. <br>\r\n<br>\r\n<b> Do I have to take part? </b> <br>\r\nTaking part in this study is completely voluntary; you may withdraw at any time without having to give any reason. <br>\r\n<br>\r\n<b> Will I be compensated?</b><br>\r\n <H1>You will receive 0.5 credits through SONA.</H1><br>\r\n<br>\r\nThis application has been reviewed by the University Research Ethics Committee and has been given a favourable ethical opinion for conduct <H1>([SREC OR UREC NUMBER])</H1>.<br>\r\n<br>\r\nIf you have any questions or concerns about the research, please feel free to contact Joe Forrest or Anthony Haffey using the details above.<br>\r\n<br>\r\nThank you for your help.",
              "instruct",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "",
              ""
            ]
          ],
          "consent_jf1.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "optional",
              "side_by_side",
              "question_width",
              ""
            ],
            [
              "Instructions1",
              "<div align=\"right\">School of Psychology and Clinical Language Sciences<br>\r\nWhiteknights<br>\r\nReading RG6 6AL</div><h2>University of Reading</h2><br>\r\n<h2>Title of Study: Investigating attentional biases to neutral and pleasant images 2: An eye-tracking study </h2> <br>\r\n<h2>Consent Form</h1>\r\n<br>\r\n<table class=\"table\">\r\n  <tr>\r\n    <td><b>Investigator(s):</b></td>\r\n    <td><b>Email:</b></td>\r\n    <td><b>Telephone:</b></td>\r\n  </tr>\r\n  <tr>\r\n    <td>Anthony Haffey</td>\r\n    <td>anthony.haffey@reading.ac.uk</td>\r\n    <td>-0118 378 8850-</td>\r\n  </tr>\r\n  <tr>\r\n    <td>Chen Zhao</td>\r\n    <td>c.zhao5@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n<tr>\r\n    <td>Nicholas Hedger</td>\r\n    <td>n.hedger@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n  <tr>\r\n    <td><b>Researcher(s):</b></td>\r\n  </tr>\r\n  <tr>\r\n    <td>Joe Forrest</td>\r\n    <td>j.forrest@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n</table>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "uor_consent_1",
              "I understand that my participation in this study is voluntary and that I may withdraw any time without giving any reason.",
              "checkbox",
              "Agree",
              "1",
              "No",
              "yes",
              "70%",
              ""
            ],
            [
              "uor_consent_2",
              "I have read the information sheet about this study and the procedure of the study has been explained to me.",
              "checkbox",
              "Agree",
              "1",
              "No",
              "yes",
              "70%",
              ""
            ],
            [
              "uor_consent_3",
              "I have been given the opportunity to ask any questions that I may have about the study and these have been answered to my satisfaction.",
              "checkbox",
              "Agree",
              "1",
              "No",
              "yes",
              "70%",
              ""
            ],
            [
              "uor_consent_4",
              "I understand that the data collected from me in this study will be preserved and made available in anonymised form, so that they can be consulted and re-used by others.",
              "checkbox",
              "Agree",
              "1",
              "No",
              "yes",
              "70%",
              ""
            ],
            [
              "uor_consent_5",
              "I am happy to be contacted about future studies (optional)",
              "checkbox",
              "Agree",
              "1",
              "Yes",
              "yes",
              "70%",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ],
          "modified_childhood_experiences.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "score:adverse_ce_total",
              "optional",
              "btn_width",
              "logic",
              "checkbox_",
              "other",
              ""
            ],
            [
              "Instructions1",
              "<span style='color:#006699'><span style='font-size:20px'>Choose one response that best describes how strongly each item applies to you. <br> Prior to your 18th birthday:</span></span>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "mce_1",
              "1. Did a parent or other adult in the household often or very often…<br> Swear at you, insult you, put you down, or humiliate you? Or <br> Act in a way that made you afraid that you might be physically hurt?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "",
              "",
              "",
              ""
            ],
            [
              "mce_2",
              "2. Did a parent or other adult in the household often or very often… <br> Push, grab, slap or throw something at you? Or <br> Ever hit you so hard that you had marks or were injured?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "",
              "",
              "",
              ""
            ],
            [
              "mce_3",
              "3. Did you often or very often feel that…<br> No one in your family loved you or thought you were important or special? Or Your family didn't look out for each other, feel close to each other, or support each other?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "",
              "",
              "",
              ""
            ],
            [
              "mce_4",
              "4. Did you often or very often feel that… <br> You didn't have enough to eat, had to wear dirty clothes, and had no one to protect you? Or <br> Your parents were too drunk or high to take care of you or take you to the doctor if you needed it?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "",
              "",
              "",
              ""
            ],
            [
              "mce_5",
              "5. Was your mother or stepmother: <br> Often or very often pushed, grabbed, slapped, or had something thrown at her? Or <br> Sometimes, often, or very often kicked, bitten, hit with a fist or something hard? Or <br> Ever repeatedly hit over at least a few minutes or threatened with a gun or knife?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "",
              "",
              "",
              ""
            ],
            [
              "mce_6",
              "6. How frequently did anyone in your household drink too much alcohol?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "LOGIC REQUIRED",
              "use checkbox",
              "",
              ""
            ],
            [
              "mce_6a",
              "If yes to above, Which members of your household drank too much?",
              "checkbox",
              "Parent|Sibling|Aunt/Uncle|Grandparent",
              "Parent|Sibling|Aunt/Uncle|Grandparent",
              "",
              "Yes",
              "",
              "",
              "",
              "yes",
              ""
            ],
            [
              "mce_7",
              "7. How frequently did anyone in your household do street-drugs?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "LOGIC REQUIRED",
              "use checkbox",
              "",
              ""
            ],
            [
              "mce_7a",
              "If yes to above, Which members of your household did street drugs?",
              "checkbox",
              "Parent|Sibling|Aunt/Uncle|Grandparent",
              "Parent|Sibling|Aunt/Uncle|Grandparent",
              "",
              "Yes",
              "",
              "",
              "",
              "yes",
              ""
            ],
            [
              "mce_8",
              "8. How frequently was a household member struggling with mental health problems such as depression, anxiety or psychosis?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "",
              "",
              "",
              ""
            ],
            [
              "mce_9",
              "9. How frequently did household members have legal problems?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "",
              "",
              "",
              ""
            ],
            [
              "mce_10",
              "10. How often was a family member absent through divorce, abandonment, or other reason?",
              "likert",
              "Never True|Rarely True|Sometimes True|Often True|Very Often True",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              "",
              "",
              "",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ],
          "barratt-impulsiveness.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "optional",
              "score:reappraisal",
              "score:suppression",
              "btn_width",
              "side_text",
              ""
            ],
            [
              "gross_instructions",
              "We would like to ask you some questions about your emotional life, in particular, how\r\nyou control (that is, regulate and manage) your emotions. The questions below involve\r\ntwo distinct aspects of your emotional life. One is your <b><u>emotional experience</u></b>, or what\r\nyou feel like inside. The other is your <b><u>emotional expression</u></b>, or how you show your\r\nemotions in the way you talk, gesture, or behave. Although some of the following\r\nquestions may seem similar to one another, they differ in important ways.",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "Reappraisal1",
              "When I want to feel more positive emotion (such as joy or amusement), I change what I'm thinking about.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Excessive_Suppression_1",
              "I keep my emotions to myself.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "",
              "1",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_2",
              "When I want to feel less negative emotion (such as sadness or anger), I change what I'm thinking about.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Excessive_Suppression_2",
              "When I am feeling positive emotions, I am careful not to express them.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "",
              "1",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_3",
              "When I'm faced with a stressful situation, I make myself think about it in a way that helps me stay calm.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Excessive_Suppression_3",
              "I control my emotions by not expressing them.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "",
              "1",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_4",
              "When I want to feel more positive emotion, I change the way I'm thinking about the situation.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_5",
              "I control my emotions by changing the way I think about the situation I'm in.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Excessive_Suppression_4",
              "When I am feeling negative emotions, I make sure not to express them.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "",
              "1",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_6",
              "When I want to feel less negative emotion, I change the way I'm thinking about the situation.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ],
          "pathological_narcissism.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "score:grandiose_total",
              "score:vulnerable",
              "optional",
              "btn_width",
              "side_text",
              ""
            ],
            [
              "Instructions1",
              "<span style='color:#006699'><span style='font-size:20px'>For the following items, please reply from 0 (not at all like me)to 5 (very much like me) </span></span>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "pni1",
              "1. I can usually talk my way out of anything.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni2",
              "2. When people don’t notice me, I start to feel bad about myself.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni3",
              "3. I often hide my needs for fear that others will see me as needy and desperate.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni4",
              "4. I can make anyone believe anything I want them to.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni5",
              "5. I get annoyed by people who are not interested in what I say or do.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni6",
              "6. I find it easy to manipulate people.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni7",
              "7. Sometimes I avoid people because I’m concerned that they’ll disappoint me.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni8",
              "8. I typically get very angry when I’m unable to get what I want from others.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni9",
              "9. When others don’t meet my expectations, I often feel ashamed about what I wanted.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni10",
              "10. I feel important when others rely on me.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni11",
              "11. I can read people like a book.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni12",
              "12. Sacrificing for others makes me the better person.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni13",
              "13. I often fantasize about accomplishing things that are probably beyond my means.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni14",
              "14. Sometimes I avoid people because I’m afraid they won’t do what I want them to do.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni15",
              "15. It’s hard to show others the weaknesses I feel inside.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni16",
              "16. It’s hard to feel good about myself unless I know other people admire me.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni17",
              "17. I often fantasize about being rewarded for my efforts.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni18",
              "18. I am preoccupied with thoughts and concerns that most people are not interested in me.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni19",
              "19. I like to have friends who rely on me because it makes me feel important.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni20",
              "20. Sometimes I avoid people because I’m concerned they won’t acknowledge what I do for them.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni21",
              "21. It’s hard for me to feel good about myself unless I know other people like me.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni22",
              "22. It irritates me when people don’t notice how good a person I am.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni23",
              "23. I will never be satisfied until I get all that I deserve.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni24",
              "24. I try to show what a good person I am through my sacrifices.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni25",
              "25. I often fantasize about performing heroic deeds.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni26",
              "26. I often fantasize about being recognized for my accomplishments.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "1",
              "",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni27",
              "27. I can’t stand relying on other people because it makes me feel weak.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "pni28",
              "28. When others get a glimpse of my needs, I feel anxious and ashamed.",
              "likert",
              "0|1|2|3|4|5",
              "0|1|2|3|4|5",
              "",
              "1",
              "No",
              "50px",
              "Not at all like me|Very much like me",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ],
          "audit.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "score:audit",
              "optional",
              "btn_width",
              ""
            ],
            [
              "Instructions1",
              "<span style='color:#006699'><span style='font-size:20px'><b> INSTRUCTIONS </b> <br> For question 1-8, please answer based on how much you drank <b> in the last 12 months </b> <br> For q9 and 10 please answer generally <br><br>Consider a drink to be one shot of spirit (25ml), half a pint of beer/cider (284ml) or a small glass of wine (125ml) </span></span>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "audit1",
              "1. How often did you have a drink containing alcohol?",
              "likert",
              "Never|Monthly or less|Two to four times a month|Two to three times a week|Four or more times a week",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "audit2",
              "2. How many drinks containing alcohol did you have on a typical day when you are drinking?",
              "likert",
              "1 or 2|3 or 4|5 or 6|7 to 9|10 or more",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "audit3",
              "3. How often did you have six or more drinks on one occasion?",
              "likert",
              "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "audit4",
              "4. How often did you find that you were not able to stop drinking once you had started?",
              "likert",
              "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "audit5",
              "5. How often did you fail to do what was normally expected from you because of drinking?",
              "likert",
              "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "audit6",
              "6. How often did you need a first drink in the morning to get yourself going after a heavy drinking session?",
              "likert",
              "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "audit7",
              "7. How often did you had a feeling of guilt or remorse after drinking?",
              "likert",
              "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "audit8",
              "8. How often were you unable to remember what happened the night before because you had been drinking?",
              "likert",
              "Never|Less than monthly|Monthly|Weekly|Daily or almost daily",
              "0|1|2|3|4",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "audit9",
              "9. Have you or someone else been injured as a result of your drinking?",
              "likert",
              "No|Yes, but not in the last year|Yes, during the last year",
              "0|2|4",
              "1",
              "No",
              "166px",
              ""
            ],
            [
              "audit10",
              "10. Has a relative, or friend, or a doctor or other health worker been concerned about your drinking or suggested you cut down?",
              "likert",
              "No|Yes, but not in the last year|Yes, during the last year",
              "0|2|4",
              "1",
              "No",
              "166px",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ],
          "social_media_disorder.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "score:social_media_disorder",
              "score:platforms",
              "score:wake_up_time",
              "optional",
              "btn_width",
              "original value",
              "other",
              ""
            ],
            [
              "Instructions1",
              "<span style='color:#006699'><span style='font-size:20px'>Please answer these questions about your social media use: </span></span><br>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "sm1",
              "Which of the following social media platforms do you regularly visit?",
              "checkbox",
              "Facebook|Instagram|Snapchat|Tiktok|Twitter|None",
              "1|2|3|4|5|6",
              "",
              "1",
              "",
              "No",
              "",
              "",
              "yes",
              ""
            ],
            [
              "sm2",
              "Which of the following social media platforms do you regularly upload content to?",
              "checkbox",
              "Facebook|Instagram|Snapchat|Tiktok|Twitter|None",
              "1|2|3|4|5|6",
              "",
              "1",
              "",
              "No",
              "",
              "",
              "yes",
              ""
            ],
            [
              "Instructions2",
              "<span style='color:#006699'><span style='font-size:20px'>During the past year, have you … </span></span>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "recoded1",
              "… regularly neglected other activities (e.g. hobbies, sport) because you wanted to use social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn24",
              "",
              ""
            ],
            [
              "recoded2",
              "… often found it difficult not to look at messages on social media when you were doing something else (e.g. school work)?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn1",
              "",
              ""
            ],
            [
              "recoded3",
              "… often used social media so you didn't have to think about unpleasant things?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn14",
              "",
              ""
            ],
            [
              "recoded4",
              "… often felt tense or restless if you weren't able to look at your messages on social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn7",
              "",
              ""
            ],
            [
              "recoded5",
              "… tried to spend less time on social media, but failed?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn11",
              "",
              ""
            ],
            [
              "recoded6",
              "… felt the need to check messages on social media more and more often?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn5",
              "",
              ""
            ],
            [
              "recoded7",
              "… tried to reduce your use of social media, but failed?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn10",
              "",
              ""
            ],
            [
              "recoded8",
              "… often sat waiting until something happens on social media again?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn3",
              "",
              ""
            ],
            [
              "recoded9",
              "… regularly lied to your parents or friends about the amount of time you spend on social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn19",
              "",
              ""
            ],
            [
              "recoded10",
              "… regularly felt angry or frustrated if you weren't able to use social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn8",
              "",
              ""
            ],
            [
              "recoded11",
              "… often used social media secretly?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn21",
              "",
              ""
            ],
            [
              "recoded12",
              "… been unable to stop using social media, even though others told you that you really should?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn12",
              "",
              ""
            ],
            [
              "recoded13",
              "… regularly had no interest in hobbies or other activities because you would rather use social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn23",
              "",
              ""
            ],
            [
              "recoded14",
              "… often felt bad when you could not use social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn9",
              "",
              ""
            ],
            [
              "recoded15",
              "… often used social media to escape from negative feelings?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn15",
              "",
              ""
            ],
            [
              "recoded16",
              "… had serious conflict with your parent(s) and sibling(s) because of your social media use?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn26",
              "",
              ""
            ],
            [
              "recoded17",
              "… had serious problems at school or at work because you were spending too much time on social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn25",
              "",
              ""
            ],
            [
              "recoded18",
              "… regularly found that you can't think of anything else but the moment that you will be able to use social media again?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn2",
              "",
              ""
            ],
            [
              "recoded19",
              "… regularly had arguments with others because of your social media use?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn18",
              "",
              ""
            ],
            [
              "recoded20",
              "…jeopardised or lost an important friendship or relationship because you were spending too much time on social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn27",
              "",
              ""
            ],
            [
              "recoded21",
              "… regularly felt dissatisfied because you wanted to spend more time on social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn6",
              "",
              ""
            ],
            [
              "recoded22",
              "… regularly used social media to take your mind off your problems?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn13",
              "",
              ""
            ],
            [
              "recoded23",
              "… regularly not had enough sleep because you were using social media too late at night?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn17",
              "",
              ""
            ],
            [
              "recoded24",
              "… regularly devoted no attention to people around you (e.g. family or friends) because you were using social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn22",
              "",
              ""
            ],
            [
              "recoded25",
              "… felt the need to use social media more and more often?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn4",
              "",
              ""
            ],
            [
              "recoded26",
              "… regularly hidden your social media use from others?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn20",
              "",
              ""
            ],
            [
              "recoded27",
              "… often not paid attention at school, while doing homework or at work because you were using social media?",
              "likert",
              "Yes|No",
              "1|0",
              "1",
              "",
              "",
              "No",
              "100px",
              "sn16",
              "",
              ""
            ],
            [
              "recoded28",
              "How long after you wake up do you check social media? Please enter an answer in MINUTES. <br> If you do NOT own any social media accounts, please enter 10000",
              "number",
              "",
              "",
              "",
              "",
              "1",
              "No",
              "",
              "sn28",
              "",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ],
          "phq9.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "score: mce_total",
              "optional",
              "btn_width",
              ""
            ],
            [
              "Instructions1",
              "<span style='color:#006699'><span style='font-size:20px'><b> INSTRUCTIONS </b> <br> Please answer the following questions </br> Over the last two weeks, how often have you been bothered by any of the following problems? </span></span>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "PHQ9_1",
              "1. Little interest or pleasure in doing things?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_2",
              "2. Feeling down, depressed, or hopeless?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_3",
              "3. Trouble falling or staying asleep, or sleeping too much?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_4",
              "4. Feeling tired or having little energy?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_5",
              "5. Poor appetite or overeating?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_6",
              "6. Feeling bad about yourself - or that you are a failure or have let yourself or your family down?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_7",
              "7. Trouble concentrating on things, such as reading the newspaper or watching the television?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_8",
              "8. Moving or speaking so slowly that other people could have noticed? <br> Or the opposite - being so fidgety or restless that you have been moving around a lot more than usual?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_9",
              "9. Thoughts that you would be better off dead, or of hurting yourself in some way?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              null
            ],
            [
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null,
              null
            ]
          ],
          "emotion_regulation.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "score: mce_total",
              "optional",
              "btn_width",
              ""
            ],
            [
              "Instructions1",
              "<span style='color:#006699'><span style='font-size:20px'><b> INSTRUCTIONS </b> <br> We would like to ask you  some questions about your emotional life, in particular, how you control (that is, regulate and manage) your emotions. The questions below involve two distinct aspects of your <b><u> emotional experience </b> </u></span></span>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "PHQ9_1",
              "1. Little interest or pleasure in doing things?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_2",
              "2. Feeling down, depressed, or hopeless?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_3",
              "3. Trouble falling or staying asleep, or sleeping too much?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_4",
              "4. Feeling tired or having little energy?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_5",
              "5. Poor appetite or overeating?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_6",
              "6. Feeling bad about yourself - or that you are a failure or have let yourself or your family down?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_7",
              "7. Trouble concentrating on things, such as reading the newspaper or watching the television?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_8",
              "8. Moving or speaking so slowly that other people could have noticed? <br> Or the opposite - being so fidgety or restless that you have been moving around a lot more than usual?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "0|1|2|3",
              "No",
              "100px",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              null
            ]
          ],
          "debrief_jf1.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "optional",
              "side_by_side",
              ""
            ],
            [
              "Instructions1",
              "<div align=\"right\">School of Psychology and Clinical Language Sciences<br>\r\nWhiteknights<br>\r\nReading RG6 6AL</div>\r\n<h2>University of Reading</h2><br>\r\n<h2>Title of Study: Investigating attentional biases to neutral and pleasant images 2: An eye-tracking study</h2><br>\r\n<h2>Debrief </h2>\r\n\r\n<br>\r\n<table class=\"table\">\r\n  <tr>\r\n    <td><b>Investigator(s):</b></td>\r\n    <td><b>Email:</b></td>\r\n    <td><b>Telephone:</b></td>\r\n  </tr>\r\n    <tr>\r\n    <td>Anthony Haffey</td>\r\n    <td>anthony.haffey@reading.ac.uk</td>\r\n    <td>-01183788523-</td>\r\n  </tr>\r\n  <tr>\r\n    <td>Chen Zhao</td>\r\n    <td>c.zhao5@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n<tr>\r\n    <td>Nicholas Hedger</td>\r\n    <td>n.hedger@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n  <tr>\r\n    <td><b>Researcher(s):</b></td>\r\n  </tr>\r\n  <tr>\r\n    <td>Joe Forrest</td>\r\n    <td>j.forrest@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n</table>\r\n\r\nThank you for participating in our study. <br>\r\nWe were interested in examining how self-reported social networking, alcohol addiction and other personality traits predict which images you looked longer at.\r\nWe are interested in whether you looked longer at images associated with addictive stimuli, i.e. alcohol or social networking, compared to visually similar images.<br><br>\r\nFollowing this debrief, we would like to remind you that you are free to withdraw your data at any time without needing to provide a reason. \r\nIf you feel any adverse effects from the study in general, you can contact the principle supervisor Dr Anthony Haffey or the postgraduate researcher, \r\nJoseph Forrest, via the contact information provided on this debrief sheet.<br><br>\r\nIf you still have concerns, sources of support will also be provided on the next page.",
              "instruct",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "",
              ""
            ]
          ],
          "sources_of_support_jf1.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "optional",
              "side_by_side",
              ""
            ],
            [
              "Instructions1",
              "<div align=\"right\">School of Psychology and Clinical Language Sciences<br>\r\nWhiteknights<br>\r\nReading RG6 6AL</div>\r\n<h2>University of Reading</h2><br>\r\n<h2>Title of Study: Investigating attentional biases to neutral and pleasant images 2: An eye-tracking study</h2><br>\r\n<h2>Debrief </h2>\r\n\r\n<br>\r\n<table class=\"table\">\r\n  <tr>\r\n    <td><b>Investigator(s):</b></td>\r\n    <td><b>Email:</b></td>\r\n    <td><b>Telephone:</b></td>\r\n  </tr>\r\n    <tr>\r\n    <td>Anthony Haffey</td>\r\n    <td>anthony.haffey@reading.ac.uk</td>\r\n    <td>-01183788523-</td>\r\n  </tr>\r\n  <tr>\r\n    <td>Chen Zhao</td>\r\n    <td>c.zhao5@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n<tr>\r\n    <td>Nicholas Hedger</td>\r\n    <td>n.hedger@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n  <tr>\r\n    <td><b>Researcher(s):</b></td>\r\n  </tr>\r\n  <tr>\r\n    <td>Joe Forrest</td>\r\n    <td>j.forrest@reading.ac.uk</td>\r\n    <td></td>\r\n  </tr>\r\n</table>\r\nIf you feel affected by the issues raised in the study, and your concerns about these issues remain after you have completed the session, you can contact the researchers listed above. However, there are other external sources of support that should be able to address your concerns, as listed:\r\n<br><br>\r\n<ul style=\"list-style-type:disc\">\r\n         <li>NHS online: www.NHS.uk if you are concerned about your alcohol and/or social networking behaviours \r\n</li>\r\n         <li>Mind: www.mind.org.uk if you wish to seek mental health support on alcohol and/or social networking behaviour\r\n</li>\r\n         <li>University of Reding Counselling Services: http://www.reading.ac.uk/internal/staffportal/SASstaff/SASwellbeing  provides 24/7 online support for students. You can also use this website to book an appointment to meet with a counsellor, if you prefer. \r\n</li>\r\n<li>Your General Practitioner (GP): https://www.nhs.uk/using-the-nhs/nhs-services/gps/gp-online-services  you can book an appointment online to meet with your GP, if you wish to seek help around alcohol and/or gambling behaviour. \r\n</li>\r\n      </ul>",
              "instruct",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "",
              ""
            ]
          ],
          "erq.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "optional",
              "score:reappraisal",
              "score:suppression",
              "btn_width",
              "side_text",
              ""
            ],
            [
              "gross_instructions",
              "We would like to ask you some questions about your emotional life, in particular, how\r\nyou control (that is, regulate and manage) your emotions. The questions below involve\r\ntwo distinct aspects of your emotional life. One is your <b><u>emotional experience</u></b>, or what\r\nyou feel like inside. The other is your <b><u>emotional expression</u></b>, or how you show your\r\nemotions in the way you talk, gesture, or behave. Although some of the following\r\nquestions may seem similar to one another, they differ in important ways.",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "Reappraisal1",
              "When I want to feel more positive emotion (such as joy or amusement), I change what I'm thinking about.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Excessive_Suppression_1",
              "I keep my emotions to myself.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "",
              "1",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_2",
              "When I want to feel less negative emotion (such as sadness or anger), I change what I'm thinking about.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Excessive_Suppression_2",
              "When I am feeling positive emotions, I am careful not to express them.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "",
              "1",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_3",
              "When I'm faced with a stressful situation, I make myself think about it in a way that helps me stay calm.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Excessive_Suppression_3",
              "I control my emotions by not expressing them.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "",
              "1",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_4",
              "When I want to feel more positive emotion, I change the way I'm thinking about the situation.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_5",
              "I control my emotions by changing the way I think about the situation I'm in.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Excessive_Suppression_4",
              "When I am feeling negative emotions, I make sure not to express them.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "",
              "1",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "Reappraisal_6",
              "When I want to feel less negative emotion, I change the way I'm thinking about the situation.",
              "likert",
              "1|2|3|4|5|6|7",
              "1|2|3|4|5|6|7",
              "No",
              "1",
              "",
              "50px",
              "strongly disagree|strongly agree ",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ],
          "phq_9_adjusted.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "score:phq9",
              "optional",
              "btn_width",
              ""
            ],
            [
              "Instructions1",
              "<span style='color:#006699'><span style='font-size:20px'><b> INSTRUCTIONS </b> <br> Please answer the following questions </br> Over the last two weeks, how often have you been bothered by any of the following problems? </span></span>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "PHQ9_1",
              "1. Little interest or pleasure in doing things?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_2",
              "2. Feeling down, depressed, or hopeless?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_3",
              "3. Trouble falling or staying asleep, or sleeping too much?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_4",
              "4. Feeling tired or having little energy?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_5",
              "5. Poor appetite or overeating?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_6",
              "6. Feeling bad about yourself - or that you are a failure or have let yourself or your family down?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_7",
              "7. Trouble concentrating on things, such as reading the newspaper or watching the television?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "PHQ9_8",
              "8. Moving or speaking so slowly that other people could have noticed? <br> Or the opposite - being so fidgety or restless that you have been moving around a lot more than usual?",
              "likert",
              " Not at all|Several days|More than half the days|Nearly every day",
              "0|1|2|3",
              "1",
              "No",
              "100px",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ]
        },
        "trialtypes": {},
        "location": "zhao-haffey/eye-tracking-face-voice/gaze_preview",
        "conditions": "name,notes,stimuli,procedure,fullscreen,welcome,participant_id,end_message,start_message,buffer,download_at_end,mobile,\r\ncondition_0,Anthony pilot - delete when you want to,stimuli_1.csv,procedure_1.csv,off,,on,,Please type in your SONA ID below:,5,on,no,\r\ncondition_1,You can put more detailed notes in this field,stimuli_1.csv,procedure_actual_list1.csv,off,,on,,Please type in your SONA ID below:,5,on,no,\r\ncondition_2,this is a note,stimuli_2.csv,procedure_actual_list2.csv,off,,on,,Please type in your SONA ID below:,5,on,no,\r\ncondition_3,You can put more detailed notes in this field,stimuli_1.csv,procedure_actual_list3.csv,off,,on,,Please type in your SONA ID below:,5,on,no,\r\ncondition_4,this is a note,stimuli_2.csv,procedure_actual_list4.csv,off,,on,,Please type in your SONA ID below:,5,on,no,",
        "mods": {},
        "data_scripts": {
          "ocollector.org": "https://ocollector.org/StoreData9.php",
          "open-collector.org": "https://open-collector.org/StoreData.php"
        },
        "storage_scripts": {
          "ocollector.org": "https://ocollector.org/StoreData10_aodirnkcu73hsjd8.php",
          "http://nt906822.webs.act.reading.ac.uk/collector/ValidateUser.php": "https://nt906822.webs.act.reading.ac.uk/collector/StoreData_Cat_0.php"
        },
        "code": {
          "instruct": "<!--\n/*  Collector (Garcia, Kornell, Kerr, Blake & Haffey)\n    A program for running experiments on the web\n    Copyright 2012-2016 Mikey Garcia & Nate Kornell\n\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License version 3 as published by\n    the Free Software Foundation.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>\n \t\t\n\t\tKitten/Cat release (2019-2021) author: Dr. Anthony Haffey (team@someopen.solutions)\t\t\n*/\n-->\n<style>\n#instruct_text{\n  margin:auto;\n  width:500px;\n  padding:50px;\n  max-height:600px;\n  text-align: center;  \n}\n#proceed_button{\n  position:absolute;\n  right: 20px;\n}\n#trial_contents{\n  position: absolute;\n  top:0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin:auto;\n  width:600;\n  height:600;\n}\n</style>\n<div id=\"trial_contents\">\n  <div id=\"instruct_text\">{{text}}</div>\n  <div>\n    <button class=\"btn btn-primary\" id=\"proceed_button\" onclick=\"Phase.submit()\">Proceed</button>\n  </div>\n</div>",
          "webgazer": "<!--\r\n    This is based on code from OSF repository https://osf.io/jmz79/ that accompanies the publication \"Online webcam-based eye tracking in cognitive science: a first look\" by Semmelmann & Weigelt, published in Behavior Research Methods in 2017.\r\n\r\n    Updates by Anthony Haffey (a.haffey@reading.ac.uk) 2020 to make this a freeviewing task that works on Collector\r\n-->\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <link href=\"libraries/webgazer/css/jquery-ui.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <link href=\"libraries/webgazer/css/jquery.mobile-1.4.5.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <link href=\"libraries/webgazer/css/tolcam.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <script src=\"libraries/webgazer/js/jquery-1.12.3.min.js\"></script>\r\n    <script src=\"libraries/webgazer/js/jquery-ui.js\"></script>\r\n    <script src=\"libraries/webgazer/js/jquery.mobile-1.4.2.min.js\"></script>\r\n    <script src=\"libraries/webgazer/js/simpleheat.js\"></script>\r\n</head>\r\n<style>\r\n.stimuli_img{\r\n  width: {{image_width}};\r\n  object-fit: fill;\r\n  vertical-align: middle;\r\n  height: {{image_height}};\r\n  position: absolute;\r\n  transform: translate(-50%, 0);\r\n  left: 50%;\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n}\r\n#stimuli_fixation{\r\n\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  -moz-transform: translateX(-50%) translateY(-50%);\r\n  -webkit-transform: translateX(-50%) translateY(-50%);\r\n  transform: translateX(-50%) translateY(-50%);\r\n  font-size:100px;\r\n  text-align:center;\r\n  height:150px;\r\n}\r\n#stimuli_img_left{\r\n  margin-left: {{left_position}};\r\n}\r\n#stimuli_img_right{\r\n  /* left:  75%; */\r\n  margin-left: {{right_position}};\r\n}\r\n</style>\r\n<body>\r\n  <div id=\"instruction\">\r\n    <div id=\"instruction_1\" class=\"instruction_page\">\r\n      This experiment is based on code from the OSF repository <a href=\"https://osf.io/jmz79/\" target=\"_blank\">https://osf.io/jmz79/</a> which accompanies the publication \"Online webcam-based eye tracking in cognitive science: a first look\" by Semmelmann & Weigelt, published in Behavior Research Methods in 2017. Please find the abstract and information about the code, analyses, and data below. This work is intended for scientific use only.\r\nWritten by Kilian Semmelmann, tolcam@ksemmelm.de, 2017. <br><br>\r\n\r\nUpdates by Anthony Haffey (a.haffey@reading.ac.uk) 2020 to make this a task that works on Collector.\r\n    </div>\r\n\r\n    <div id=\"instruction_2\" class=\"instruction_page\">\r\n      <h1>Webcam Setup</h1>\r\n      <br />\r\n      <div id=\"setup_after\">\r\n          You can take a short break and move your head. Before continuing, please follow the instructions noted below.<br />\r\n      </div>\r\n      <br />\r\n      Please turn off your mobile phone and close all other programs and websites. Then carefully read and follow these instructions:<br />\r\n      <img src=\"libraries/webgazer/imgs/instructions_donttilt.png\" style = \"width: 100%; margin-top: 20px; margin-bottom: 20px;\"/> <br>\r\n      If possible, please adjust your position until your face matches the picture below as much as possible:<br />\r\n      <br />\r\n      <table>\r\n        <tr>\r\n          <td>\r\n            <img style=\"height:300px;width:400px; -webkit-transform: scaleX(-1); transform:scaleX(-1);\" src=\"libraries/webgazer/imgs/ideal_pose.png\"/>\r\n          </td>\r\n          <td>\r\n            <span id=\"webcam_insert\"></span>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      <br />\r\n      <div id=\"setup_first\">\r\n          This study consists of multiple five-minute parts with pauses inbetween. After you clicked \"start\", please avoid moving your head. If you move too much, the calibration can fail and you might not be able to finish the study.\r\n      </div>\r\n      <br />\r\n    </div>\r\n\r\n    <div id=\"instruction_3\" class=\"instruction_page\">\r\n      <div id=\"beforetherest\">\r\n        <h1>Proceed</h1>\r\n        <br />\r\n        Click \"Proceed\" to move onto the next trial\r\n        <button onclick=\"Phase.submit()\" class=\"btn\">Proceed</button>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"instruction_back\" class=\"instruction_navigation\">\r\n      <div id=\"instruction_back_text\">\r\n        &lt;\r\n      </div>\r\n    </div>\r\n    <div id=\"instruction_continue\" class=\"instruction_navigation\">\r\n      <div id=\"instruction_continue_text\">\r\n        &gt;\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div id=\"calibration_dot\" class=\"stimuli\">\r\n    <div id=\"calibration_cnt\">0</div>\r\n  </div>\r\n  <div id=\"stimulus\" class=\"stimuli\"><img src=\"libraries/webgazer/imgs/talking.jpg\" /></div>\r\n  <div id=\"stimuli_dot\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_bar\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_fixation\" class=\"stimuli\">+</div>\r\n  <div id=\"stimuli_prime\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_target\" class=\"stimuli\">X</div>\r\n  <img id=\"stimuli_img_left\" class=\"stimuli stimuli_img\"/>\r\n  <img id=\"stimuli_img_right\" class=\"stimuli stimuli_img\"/>\r\n  <div id=\"instruction_message\"></div>\r\n\r\n  <div id=\"message\">\r\n    no message\r\n  </div>\r\n\r\n  <!-- data quality info -->\r\n  <input type=\"hidden\" name=\"window_inner_height\" id=\"window_inner_height\"/>\r\n  <input type=\"hidden\" name=\"window_inner_width\"  id=\"window_inner_width\"/>\r\n  <input type=\"hidden\" name=\"fixation_rts\"        id=\"fixation_rts\"/>\r\n\r\n</body>\r\n</html>\r\n<script>\r\n\r\n\r\n\r\n//////////////////////\r\n// Borcsok variables\r\n//////////////////////\r\n\r\nvar all_fixation_rts = [];\r\n\r\nvar image_pair;\r\nPhase.set_timer(function(){\r\n  function refuse_height(){\r\n    bootbox.confirm(\"Your window height needs to be at least {{min_height}} before starting. Please make your window as big as possible before proceeding.\", function(result){\r\n      if(window.innerHeight < parseFloat(\"{{min_height}}\".replace(\"px\",\"\"))){\r\n        refuse_height();\r\n      } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n    });\r\n  };\r\n  function refuse_width(){\r\n    bootbox.confirm(\"Your window width needs to be at least {{min_width}} before starting. Please make your window as big as possible before proceeding.\", function(result){\r\n      if(window.innerWidth < parseFloat(\"{{min_width}}\".replace(\"px\",\"\"))){\r\n        refuse_width();\r\n      } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n    });\r\n  }\r\n  if(window.innerHeight < parseFloat(\"{{min_height}}\".replace(\"px\",\"\"))){\r\n    refuse_height();\r\n  } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n  if(window.innerWidth <  parseFloat(\"{{min_width}}\".replace(\"px\",\"\"))){\r\n    refuse_width();\r\n  } else {\r\n    $(\"#window_inner_height\").val(window.innerHeight);\r\n    $(\"#window_inner_width\").val(window.innerWidth);\r\n  }\r\n},0);\r\n\r\n\r\n//////////////////////\r\n// default settings //\r\n//////////////////////\r\n\r\nvar calibrations = \"{{calibrations}}\";\r\nvar freeview_image_file = \"{{freeview_image_file}}\".toLowerCase();\r\nvar design_type = \"{{design_type}}\";\r\nvar calibration_skip = \"{{calibration_skip}}\";\r\nvar image_height = \"{{image_height}}\";\r\nvar image_width = \"{{image_width}}\";\r\nvar left_side = \"{{left_side}}\";\r\nvar save_script = \"{{save_script}}\";\r\nvar stim_duration = \"{{stim_duration}}\";\r\nvar trials = \"{{trials}}\";\r\nvar trial_order = \"{{trial_order}}\";\r\n\r\n\r\nif(calibrations.indexOf(\"calibrations\") !== -1){\r\n  calibrations = 13;\r\n}\r\nif(calibration_skip.indexOf(\"calibration_skip\") !== -1){\r\n  calibration_skip = \"no\";\r\n}\r\nif(stim_duration.indexOf(\"stim_duration\") !== -1){\r\n  stim_duration = 2000;\r\n}\r\nif(left_side.indexOf(\"left_side\") !== -1){\r\n  left_side = \"counterbalance\";\r\n}\r\n\r\n\r\n\r\n\r\n/************************************\r\n * HELPER FUNCTIONS\r\n ************************************/\r\n/**\r\n * Shuffles array in place.\r\n * @param {Array} a items The array containing the items.\r\n * @author http://stackoverflow.com/a/2450976/4175553\r\n */\r\nfunction shuffle(array) {\r\n  var currentIndex = array.length, temporaryValue, randomIndex;\r\n\r\n  // While there remain elements to shuffle...\r\n  while (0 !== currentIndex) {\r\n\r\n    // Pick a remaining element...\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n\r\n    // And swap it with the current element.\r\n    temporaryValue = array[currentIndex];\r\n    array[currentIndex] = array[randomIndex];\r\n    array[randomIndex] = temporaryValue;\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\n/************************************\r\n * WEBCAM PARAMETERS\r\n ************************************/\r\nvar cam = {};\r\ncam.overlay = '';\r\ncam.width = 400;\r\ncam.height = 300;\r\ncam.topDist = '0px';\r\ncam.leftDist = '0px';\r\ncam.recording = 0;\r\ncam.validating = 0;\r\ncam.calibrating = 0;\r\ncam.initialized = 0;\r\n\r\n/************************************\r\n * CALIBRATION PARAMETERS\r\n ************************************/\r\nvar calibrating = 0;\r\nvar t_calibration_start;\r\nvar calibration_no = 0;\r\nvar calibration = {};\r\ncalibration.points = [];\r\ncalibration.method = \"watch\"; // click or watch\r\ncalibration.calibrations = calibrations // how many calibration dots\r\ncalibration.duration = 20; // how often does one position get sampled\r\ncalibration.instruction = 'Please look at each dot until <br /> it disappears. <br /><br />Please do not move your head,<br />only move your eyes.';\r\nif(\"{{skip_instruct}}\" == \"on\"){\r\n  calibration.instruction_duration = 0;\r\n} else {\r\n  calibration.instruction_duration = 10000;\r\n}\r\n\r\n/************************************\r\n * VALIDATION PARAMETERS\r\n ************************************/\r\nvar validating = 0;\r\nvar validation_no = 0;\r\nvar validation_current = {\"x\": 0, \"y\": 0};\r\nvar validation_attempt = 1;\r\nvar validation = {};\r\nvalidation.validations = 5;\r\nvalidation.duration = 20;\r\nvalidation.points = [];\r\nvalidation.timeout = 20000; // if no validation happens within X ms, validation will be ended and re-calibrated\r\nvalidation.attempts = 5; // how often can validation be failed PER validation\r\nvalidation.distance = 200; // offset distance in pixel to be a valid validation sample\r\n\r\n\r\n/************************************\r\n* FREEVIEW PARAMETERS\r\n*************************************/\r\nvar freeview_no = 0;\r\n\r\n\r\n/************************************\r\n * DESIGN\r\n ************************************/\r\nvar design = {};\r\nvar block_no = 0;\r\nvar trial_no = 0;\r\n\r\neyetrack_designs = {\r\n  freeview:   {'type': 'freeview', 'trials': trials, 'iti': 500, 'instruction': '{{text}}', 'instruction_duration': 10000},\r\n  simple: {'type': 'simple', 'trials': 24, 'iti': 500, 'instruction': 'Please look at the cross.<br />When the dot appears, please look at it.<br /><br /><br />Do not move your head, <br />only use your eyes.', 'instruction_duration': 5000},\r\n  pursuit: {'type': 'pursuit', 'trials': 24, 'iti': 500, 'instruction': 'A black dot will appear. Please <br />look at it. When it turns <span style=\"color: #dd494b;\">red</span>,<br /> Please follow its movement with your eyes.<br /><br />Do not move your head, <br />only use your eyes.', 'instruction_duration': 7000},\r\n\r\n}\r\n\r\nif(\"{{skip_instruct}}\" == \"on\"){\r\n  eyetrack_designs.freeview.instruction_duration = 0;\r\n}\r\n\r\n\r\ndesign.blocks = [\r\n  eyetrack_designs[[\"{{design_type}}\"]]\r\n];\r\n\r\n//design.blocks = shuffle(design.blocks);\r\ndesign.blocks_randomized = 1; // shall the blocks be shuffled?\r\ndesign.trials_randomized = 1; // same for trials\r\ndesign.calibrate = \"high\";\r\ndesign.recalibrate = 1;\r\n\r\n\r\n\r\n/************************************\r\n * DATA VARIABLES\r\n ************************************/\r\nvar data = [];\r\nvar data_current = {};\r\nvar status = '-';\r\n\r\n/**\r\ndata.design = jQuery.extend(true, {}, design);\r\n **/\r\n\r\n/************************************\r\n * SET UP WEBGAZER\r\n ************************************/\r\nfunction loadWebgazer() {\r\n  $('canvas').remove();\r\n  cam.initialized = 0;\r\n  $.getScript( \"libraries/webgazer/js/webgazer_old.js\" )\r\n    .done(function( script, textStatus ) {\r\n      initializeWebgazer();\r\n      $('#message').html('Please allow for access on your Webcam on the top part of the screen. <br /><br />Remember: We will NOT transmit your video, but only process it locally and transmit numbers to our server.').show();\r\n    })\r\n    .fail(function( jqxhr, settings, exception ) {\r\n      $( \"div.log\" ).text( \"Triggered ajaxError handler.\" );\r\n    });\r\n}\r\n\r\n\r\nfunction initializeWebgazer() {\r\n\r\n  //webgazer.clearData()\r\n  webgazer.setRegression('ridge') /* currently must set regression and tracker */\r\n    .setTracker('clmtrackr')\r\n    .setGazeListener(function(d, clock) {\r\n      //console.log(data); /* data is an object containing an x and y key which are the x and y prediction coordinates (no bounds limiting) */\r\n      //console.log(clock); /* elapsed time in milliseconds since webgazer.begin() was called */\r\n      if (d !== null) {\r\n\r\n        if (cam.calibrating == 1) {\r\n            var $cd = $('#calibration_dot');\r\n            var cx = parseInt(Math.round($cd.offset().left));\r\n            var cy = parseInt(Math.round($cd.offset().top));\r\n            var cp = d;\r\n            var dist = Math.sqrt(((cp.x - cx) * (cp.x - cx)) + ((cp.y - cy) * (cp.y - cy)));\r\n            var c = $('#calibration_cnt').html();\r\n            data_current.raw.push({'time': clock, 'x': cp.x, 'y': cp.y, 'cx': cx, 'cy': cy, 'dist': dist, 'c': c});\r\n        }\r\n\r\n\r\n        if (cam.validating == 1) {\r\n            // see whether dx and dy are within 100px radius of target\r\n            var dist = parseInt(Math.sqrt(((d.x - validation_current.x) * (d.x - validation_current.x)) + ((d.y - validation_current.y) * (d.y - validation_current.y))));\r\n            var c = parseInt($('#calibration_cnt').html());\r\n            if (dist < validation.distance) {\r\n                data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'vx': validation_current.x, 'vy': validation_current.y, 'dist': dist, 'c': c, 'valid': 1});\r\n                if (c < calibration.duration) {\r\n                    $('#calibration_cnt').html(++c);\r\n                } else {\r\n                    cam.validating = 0;\r\n                    clearTimeout(t);\r\n                    $('#calibration_dot').hide();\r\n                    validation_no++;\r\n                    saveData();\r\n                    setTimeout(\"validate();\", 500);\r\n                }\r\n            } else {\r\n                data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'vx': validation_current.x, 'vy': validation_current.y, 'dist': dist, 'c': c, 'valid': 0});\r\n            }\r\n        }\r\n\r\n        if (cam.recording == 1) {\r\n            var tx = -1;\r\n            var ty = -1;\r\n            if (data_current.task == \"simple\" || data_current.task == \"pursuit\") {\r\n                var $sd = $('#stimuli_dot');\r\n                var tx = parseInt(Math.round($sd.offset().left));\r\n                var ty = parseInt(Math.round($sd.offset().top));\r\n            }\r\n            data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'tx': tx, 'ty': ty, 'status': status});\r\n            //console.log(data.trials[trial_no].raw.length + ' ' + d.x + ' ' + d.y);\r\n        }\r\n      }\r\n    })\r\n    .begin()\r\n    .showPredictionPoints(false); /* shows a square every 100 milliseconds where current prediction is */\r\n\r\n  cl = webgazer.getTracker().clm;\r\n\r\n  checkWebgazer();\r\n}\r\n\r\n\r\nfunction checkWebgazer() {\r\n  if (webgazer.isReady()) {\r\n    console.log('webgazer is ready.');\r\n    initializeCam();\r\n  } else {\r\n    setTimeout(checkWebgazer, 100);\r\n  }\r\n}\r\n\r\n/************************************\r\n * SET UP WEBCAM\r\n ************************************/\r\nfunction initializeCam() {\r\n  var video = document.getElementById('webgazerVideoFeed');\r\n  video.style.display = 'block'; // block\r\n  video.style.position = 'relative';\r\n  video.width = cam.width;\r\n  video.height = cam.height;\r\n  video.style.margin = '0px';\r\n  $('#webgazerVideoFeed').css({\r\n    'left': '50%',\r\n    '-webkit-transform': 'scaleX(-1)',\r\n    'transform': 'scaleX(-1) translate(50%, 0)',\r\n    'margin': '20px'\r\n  }).detach().insertAfter('#webcam_insert').get(0).play();\r\n\r\n  webgazer.params.imgWidth = cam.width;\r\n  webgazer.params.imgHeight = cam.height;\r\n\r\n  cam.overlay = document.getElementById('overlay');\r\n  if (cam.overlay === null) {\r\n      cam.overlay = document.createElement('canvas');\r\n      cam.overlay.id = 'overlay';\r\n      document.body.appendChild(cam.overlay);\r\n  }\r\n  cam.overlay.style.position = 'absolute';\r\n  cam.overlay.width = cam.width;\r\n  cam.overlay.height = cam.height;\r\n  cam.overlay.style.top = cam.topDist;\r\n  cam.overlay.style.left = cam.leftDist;\r\n  cam.overlay.style.margin = '0px';\r\n\r\n  cam.initialized = 1;\r\n\r\n  $('#message').html('Webcam access successful.').delay(1000).fadeOut(1000);\r\n  $(\"#instruction_continue\").show();\r\n  parent.parent.requestFullScreen(parent.parent.document.documentElement);\r\n}\r\n\r\n/************************************\r\n * START BLOCKS\r\n ************************************/\r\nfunction prepareBlock() {\r\n  if (cam.initialized == 1) {\r\n    if (block_no < design.blocks.length) {\r\n      trial_no = 0;\r\n\r\n      webgazer.resume();\r\n      if (design.recalibrate == 1 || block_no == 0) {\r\n        $('#instruction_message').html(calibration.instruction).show();\r\n        setTimeout(\"$('#instruction_message').fadeOut(1000);\", calibration.instruction_duration);\r\n        setTimeout(\"startCalibration();\", design.blocks[block_no].instruction_duration + 2000);\r\n      } else {\r\n        $('#instruction_message').html(design.blocks[block_no].instruction).show();\r\n        setTimeout(\"$('#instruction_message').fadeOut(1000);\", design.blocks[block_no].instruction_duration);\r\n        setTimeout(\"preparePhase();\", design.blocks[block_no].instruction_duration + 2000);\r\n      }\r\n    } else {\r\n      endExperiment();\r\n    }\r\n  } else {\r\n    setTimeout(\"prepareBlock();\", 500);\r\n  }\r\n}\r\n\r\n\r\n/************************************\r\n * CALIBRATE\r\n ************************************/\r\nfunction startCalibration() {\r\n  if(calibration_skip == \"skip\" ||\r\n     calibration_skip == \"on\"  ||\r\n     calibration_skip == \"yes\" ||\r\n     calibration_skip == \"true\"){\r\n    endValidation()\r\n  } else {\r\n    $('.stimuli').hide();\r\n    $('#calibration_dot').hide();\r\n    if (block_no == 0) {\r\n        $('#calibration_dot').click(function() {\r\n            calibrateHit();\r\n        });\r\n    }\r\n    calibration_no = 0;\r\n    //webgazer.clearData();\r\n    window.localStorage.clear();\r\n    //webgazer.begin();\r\n    t_calibration_start = new Date().getTime();\r\n    calibrate();\r\n  }\r\n}\r\n\r\nvar gaze_phase = \"unknown\";\r\n\r\nfunction calibrate() {\r\n  gaze_phase = \"calibrate\";\r\n  clearTimeout(t);\r\n  if (calibration_no < calibration.calibrations) {\r\n    $('#calibration_cnt').html(calibration.duration);\r\n    $c = $('#calibration_dot');\r\n    //var c = Math.floor(Math.random() * calibration.points.length);\r\n    //var p = calibration.points.splice(c, 1)[0];\r\n    if (calibration.points.length == 0) {\r\n\r\n      /*\r\n      * allocate calibration by pixels rather than percentages\r\n      */\r\n\r\n      var min_width\t   = \"{{min_width}}\".replace(\"px\",\"\");                          // e.g. 1000px in Borcsok et al., (2020)\r\n      var min_height   = \"{{min_height}}\".replace(\"px\",\"\");                         // e.g. 400px  in Borcsok et al., (2020)\r\n      var mid_screen_x = window.innerWidth / 2;\r\n      var mid_screen_y = window.innerHeight / 2;\r\n\r\n      calibration.points = shuffle([\r\n\r\n        {\r\n          position: \"middle\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"top\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"bottom\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"left\",\r\n          x: mid_screen_x - min_width/2 * .9,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"right\",\r\n          x: mid_screen_x + min_width/2 * .9,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"outer-top-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-top-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"inner-top-left\",\r\n          x: mid_screen_x - min_width/2  * .45,\r\n          y: mid_screen_y - min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-top-right\",\r\n          x: mid_screen_x + min_width/2  * .45,\r\n          y: mid_screen_y - min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .45,\r\n          y: mid_screen_y + min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .45,\r\n          y: mid_screen_y + min_height/2 * .45\r\n        }\r\n      ]);\r\n\r\n\r\n\r\n\r\n      /*\r\n      the original code focusing on percentages\r\n\r\n      calibration.points = shuffle([\r\n          {x: \"20%\", y: \"20%\"},\r\n          {x: \"50%\", y: \"20%\"},\r\n          {x: \"80%\", y: \"20%\"},\r\n          {x: \"20%\", y: \"50%\"},\r\n          {x: \"50%\", y: \"50%\"},\r\n          {x: \"80%\", y: \"50%\"},\r\n          {x: \"20%\", y: \"80%\"},\r\n          {x: \"50%\", y: \"80%\"},\r\n          {x: \"80%\", y: \"80%\"},\r\n          {x: \"35%\", y: \"35%\"},\r\n          {x: \"65%\", y: \"35%\"},\r\n          {x: \"35%\", y: \"65%\"},\r\n          {x: \"65%\", y: \"65%\"}\r\n      ]);\r\n      */\r\n    }\r\n    var p = calibration.points.pop();\r\n    $c.css({\r\n        'left' : p.x,\r\n        'top' : p.y\r\n    });\r\n\r\n    data_current = {\r\n        'type': 'calibration',\r\n        'block': block_no,\r\n        'trial': calibration_no,\r\n        'x': p.x,\r\n        'y': p.y,\r\n        'raw': []\r\n    };\r\n\r\n    cam.calibrating = 1;\r\n    $c.show();\r\n    if (calibration.method == 'watch') {\r\n      t = setTimeout(\"autoCalibration();\", 750);\r\n    }\r\n  } else {\r\n    endCalibration();\r\n  }\r\n}\r\n\r\nfunction calibrateHit() {\r\n  var c = $('#calibration_cnt').html();\r\n  /*\r\n  if ($('#webgazerVideoFeed').css('display') == 'block') {\r\n      $('#webgazerVideoFeed').css({\r\n          top: cam.topDist,\r\n          left: cam.leftDist,\r\n          display: 'none',\r\n          transform: '0'\r\n      });\r\n  }*/\r\n  if (c > 1 && cam.calibrating == 1) {\r\n    $('#calibration_cnt').html(--c);\r\n    if (calibration.method == \"watch\") {\r\n      t = setTimeout(\"autoCalibration();\", 100);\r\n      //requestAnimationFrame(autoCalibration);\r\n    }\r\n  } else {\r\n    $('#calibration_cnt').html(9999);\r\n    clearTimeout(t);\r\n    cam.calibrating = 0;\r\n    $('#calibration_dot').hide();\r\n    calibration_no++;\r\n    saveData();\r\n    calibrate();\r\n  }\r\n  return false;\r\n}\r\n\r\nvar t;\r\nfunction autoCalibration() {\r\n  calibrateLog();\r\n  if (cam.calibrating == 1) {\r\n    calibrateHit();\r\n  }\r\n}\r\n\r\nfunction calibrateLog() {\r\n  var $cd = $('#calibration_dot');\r\n  var cx = parseInt(Math.round($cd.offset().left));\r\n  var cy = parseInt(Math.round($cd.offset().top));\r\n  webgazer.watchListener(cx, cy);\r\n}\r\n\r\n\r\nfunction endCalibration() {\r\n  clearTimeout(t);\r\n  $('#calibration_dot').unbind(\"click\");\r\n  startValidation();\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * VALIDATE\r\n ************************************/\r\nfunction startValidation() {\r\n  validation_no = 0;\r\n  validate();\r\n}\r\n\r\nfunction validate() {\r\n  gaze_phase = \"validate\";\r\n  clearTimeout(t);\r\n  if (validation_no < validation.validations) { // if we there are validations left\r\n    $('#calibration_cnt').html(0);\r\n    var $c = $('#calibration_dot');\r\n\r\n    if (validation.points.length == 0) {\r\n\r\n      /*\r\n      * allocate positions by pixels rather than percentages\r\n      */\r\n\r\n      var min_width\t   = \"{{min_width}}\".replace(\"px\",\"\");                          // e.g. 1000px in Borcsok et al., (2020)\r\n      var min_height   = \"{{min_height}}\".replace(\"px\",\"\");                         // e.g. 400px  in Borcsok et al., (2020)\r\n      var mid_screen_x = window.innerWidth / 2;\r\n      var mid_screen_y = window.innerHeight / 2;\r\n\r\n      validation.points = shuffle([\r\n        {\r\n          position: \"top-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"top-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"middle\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n      ]);\r\n\r\n\r\n\r\n      /*\r\n      original validation positions\r\n\r\n      validation.points = shuffle([\r\n          {x: \"20%\", y: \"20%\"},\r\n          {x: \"80%\", y: \"20%\"},\r\n          {x: \"50%\", y: \"50%\"},\r\n          {x: \"20%\", y: \"80%\"},\r\n          {x: \"80%\", y: \"80%\"}\r\n                                    ]);\r\n      */\r\n    }\r\n    var vp = validation.points.pop();\r\n    $c.css({\r\n        'left' : vp.x,\r\n        'top' : vp.y\r\n    });\r\n    $c.show();\r\n    validation_current.x = Math.round($c.offset().left);\r\n    validation_current.y = Math.round($c.offset().top);\r\n\r\n    data_current = {\r\n      'type': 'validation',\r\n      'block': block_no,\r\n      'trial': validation_no,\r\n      'x': validation_current.x,\r\n      'y': validation_current.y,\r\n      'raw': []\r\n    };\r\n    cam.validating = 1;\r\n    t = setTimeout(\"validateFail();\", validation.timeout);\r\n    //t = setTimeout('validation = 0;', 3000);\r\n  } else {\r\n    endValidation();\r\n  }\r\n}\r\n\r\nfunction validateFail() {\r\n  data_current.type = 'validationfail';\r\n  data_current.attempt = validation_attempt;\r\n  saveData();\r\n\r\n\r\n  cam.validating = 0;\r\n  webgazer.pause();\r\n\r\n  $('.stimuli').hide();\r\n  if (validation_attempt >= validation.attempts) {\r\n      $('#message').html('Unforuntately, the calibration failed too many times. Therefore, you can not participate in this study. Please contact <a href=\"mailto:kilian.semmelmann@rub.de\">kilian.semmelmann@rub.de</a> if you have any questions. Thanks for your interest.').show();\r\n  } else {\r\n      validation_attempt++;\r\n      $('#message').html('The calibration failed. <br />Please follow the instructions and try again (try ' + (validation_attempt) + ' of ' + validation.attempts + ').').show().delay(5000).fadeOut(1000);\r\n      $('#instruction').show();\r\n  }\r\n  // TOOD: log validation-fail\r\n}\r\n\r\nfunction endValidation() {\r\n  cam.validating = 0\r\n  validation_attempt = 1;\r\n  webgazer.pause();\r\n  $('#instruction_message').html(design.blocks[block_no].instruction).show();\r\n  setTimeout(\"$('#instruction_message').fadeOut(1000);\", design.blocks[block_no].instruction_duration);\r\n  setTimeout(\"preparePhase();\", design.blocks[block_no].instruction_duration + 2000);\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * START EXPERIMENT\r\n ************************************/\r\nvar t_trial_start;\r\nfunction preparePhase() {\r\n    status = \"prepare\";\r\n    $('.stimuli').hide();\r\n    data_current = {\r\n        'type': 'trial',\r\n        'block': block_no,\r\n        'trial': trial_no,\r\n        'raw': []\r\n    };\r\n    webgazer.resume();\r\n    startPhase();\r\n}\r\n\r\n\r\nfunction startPhase() {\r\n  t_trial_start = new Date().getTime();\r\n  $('#stimuli_fixation').show();\r\n  status = \"fixation_onset\";\r\n  // use start function of block-type name\r\n  var fn = design.blocks[block_no].type+\"Start\";\r\n  window[fn]();\r\n}\r\n\r\n\r\nvar heat;\r\nfunction endPhase() {\r\n  clearTimeout(t);\r\n  cam.recording = 0;\r\n  webgazer.pause();\r\n  status = \"end\";\r\n  $('.stimuli').hide();\r\n  trial_no++;\r\n  saveData();\r\n\r\n  if (trial_no < design.blocks[block_no].trials) {\r\n    setTimeout(\"preparePhase();\", design.blocks[block_no].iti);\r\n  } else {\r\n    block_no++;\r\n    if (block_no < design.blocks.length) {\r\n      window.localStorage.clear();\r\n      webgazer.clearData();\r\n      //loadWebgazer();\r\n      //prepareBlock();\r\n      navigation('pause');\r\n    } else {\r\n      endExperiment();\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction saveData() {\r\n\r\n\r\n  /*\r\n  * did the participant pass validation?\r\n  */\r\n  //data_current\r\n\r\n\r\n  /*\r\n  * change file name depending on whether it's calibration, validation or main trial?\r\n  * add calibration / validation / freeview number\r\n  */\r\n\r\n  var sub_trial_no = -1;\r\n  switch(gaze_phase){\r\n    case \"calibration\":\r\n      sub_trial_no = calibration_no;\r\n      break;\r\n    case \"validate\":\r\n      sub_trial_no = validation_no;\r\n\r\n      /*\r\n      * did the participant pass? (assuming this is validation)\r\n      */\r\n      var valid_rows = 0;\r\n\r\n      data_current.raw.forEach(function(row){\r\n        valid_rows += row.valid;\r\n      });\r\n\r\n      break;\r\n    case \"freeview\":\r\n      sub_trial_no = freeview_no;\r\n      break;\r\n\r\n  }\r\n\r\n\r\n\r\n  data_current.raw = data_current.raw.map(function(row){\r\n    row.x = row.x - window.innerWidth/2;\r\n    row.y = row.y - window.innerHeight/2;\r\n\r\n    if(typeof(image_pair) !== \"undefined\"){\r\n      Object.keys(image_pair).forEach(function(key){\r\n        row[key] = image_pair[key];\r\n      });\r\n    }\r\n    row.screen_width  = screen.width;\r\n    row.screen_height = screen.height;\r\n    row.window_width  = window.innerWidth;\r\n    row.window_height = window.innerHeight;\r\n    row.trial_no      = sub_trial_no;\r\n\r\n    if(valid_rows > 19){\r\n      row.valid_trial = true;\r\n    } else {\r\n      row.valid_trial = false;\r\n    }\r\n\r\n    /*\r\n\r\n    did the participant pass? (assuming this is validation)\r\n\r\n    */\r\n\r\n\r\n    //row.left_image  = image_pair.image_1;\r\n    //row.right_image = image_pair.image_2;\r\n\r\n    return row;\r\n  });\r\n\r\n  data.push(data_current);\r\n  data_current = {};\r\n  sendData();\r\n}\r\n\r\n\r\nfunction sendData() {\r\n\r\n  var sub_trial_no = -1;\r\n  switch(gaze_phase){\r\n    case \"calibration\":\r\n      sub_trial_no = calibration_no;\r\n      break;\r\n    case \"validate\":\r\n      sub_trial_no = validation_no;\r\n      break;\r\n    case \"freeview\":\r\n      sub_trial_no = freeview_no;\r\n      break;\r\n  }\r\n\r\n  switch(parent.parent.Study.get_vars.platform){\r\n    case \"preview\":\r\n      //do nothing\r\n      break;\r\n    case \"localhost\":\r\n      console.dir(\"data\");\r\n      console.dir(data);\r\n      data.forEach(function(trial,trial_no){\r\n        if (trial !== null){\r\n          parent.parent.Collector.electron.fs.write_data(\r\n            parent.parent.Study.get_vars.location,\r\n            parent.parent.$(\"#participant_code\").val() + \"-\" +\r\n              gaze_phase                               + \"-\" +\r\n              trial_no                                 + \"-\" +\r\n              sub_trial_no                             + \".csv\",\r\n            Papa.unparse(data[trial_no].raw)\r\n          );\r\n\r\n                                      /*\r\n\r\n                                      error above\r\n\r\n                                      */\r\n\r\n\r\n\r\n           parent.parent.online_save(parent.parent.Study.get_vars.location,\r\n                    parent.parent.$(\"#participant_code\").val() +\r\n                      gaze_phase +\r\n                      \"-\" +\r\n                      trial_no +\r\n                      \"-\" +\r\n                      sub_trial_no,\r\n                      \"-trial-\" +\r\n                      parent.parent.project_json.trial_no +\r\n                      \"-\" +\r\n                      trial_no,\r\n                    parent.parent.$(\"#completion_code\").val(),\r\n                    parent.parent.$(\"#prehashed_code\").val(),\r\n                    Papa.unparse(data[trial_no].raw),          //the data\r\n          save_script.split(\"|\"),\r\n          function(){\r\n            parent.parent.online_data_obj.saves_ended ++;\r\n          });\r\n          data[trial_no] = null;\r\n        }\r\n      });\r\n      break;\r\n    default:\r\n      data.forEach(function(trial,trial_no){\r\n          if (trial !== null){\r\n                     parent.parent.online_save(parent.parent.Study.get_vars.location,\r\n                      parent.parent.$(\"#participant_code\").val() +\r\n                        \"-\" + gaze_phase +\r\n                        \"-trial-\" +\r\n                        parent.parent.project_json.trial_no +\r\n                        \"-\" +\r\n                        trial_no +\r\n                        \"-\" +\r\n                        sub_trial_no,\r\n                      parent.parent.$(\"#completion_code\").val(),\r\n                      parent.parent.$(\"#prehashed_code\").val(),\r\n                      Papa.unparse(data[trial_no].raw),          //the data\r\n            save_script.split(\"|\"),\r\n            function(){\r\n              parent.parent.online_data_obj.saves_ended ++;\r\n            });\r\n            data[trial_no] = null;\r\n          }\r\n        });\r\n\r\n        break;\r\n  }\r\n}\r\n\r\n\r\nfunction endExperiment() {\r\n  Phase.submit();\r\n}\r\n\r\n\r\n/************************************\r\n * SIMPLE DOT VIEWING PARADIGM\r\n * If you want to introduce your own paradigms, follow the same structure and extend the design array above.\r\n ************************************/\r\nvar tSimple = {};\r\ntSimple.positions = [];\r\nfunction simpleStart() {\r\n    // if we don't have dot-positions any more, refill the array\r\n    if (tSimple.positions.length == 0) {\r\n        tSimple.positions = shuffle([\r\n            {x: \"20%\", y: \"20%\"},\r\n            {x: \"50%\", y: \"20%\"},\r\n            {x: \"80%\", y: \"20%\"},\r\n            {x: \"20%\", y: \"50%\"},\r\n            {x: \"80%\", y: \"50%\"},\r\n            {x: \"20%\", y: \"80%\"},\r\n            {x: \"50%\", y: \"80%\"},\r\n            {x: \"80%\", y: \"80%\"}\r\n        ]);\r\n    }\r\n    var pos = tSimple.positions.pop();\r\n    $('#stimuli_dot').css({\r\n        'top': pos.y,\r\n        'left': pos.x\r\n    });\r\n    data_current.task = 'simple';\r\n    data_current.x = pos.x;\r\n    data_current.y = pos.y;\r\n    data_current.condition = 'dot_' + pos.x + '_' + pos.y;\r\n\r\n    cam.recording = 1;\r\n    setTimeout('$(\"#stimuli_fixation\").hide(); status = \"fixation_offset\";', 1500);\r\n    setTimeout('simpleShowdot();', 2000);\r\n}\r\n\r\nfunction simpleShowdot() {\r\n    status = \"stimulus_onset\";\r\n    $(\"#stimuli_dot\").show();\r\n    setTimeout('status = \"stimulus_offset\"; endPhase();',  2000);\r\n}\r\n\r\n\r\n/************************************\r\n * POSNER VIEWING PARADIGM\r\n ************************************/\r\nfunction posnerStart() {\r\n    var p = Math.random() >= 0.5 ? '&gt;&gt;&gt;' : '&lt;&lt;&lt;';\r\n    $('#stimuli_prime').html(p);\r\n\r\n    var t = Math.random() >= 0.5 ? 'X' : 'N';\r\n    $('#stimuli_target').html(t);\r\n\r\n    var cond = Math.random() >= 0.7 ? 'incongruent' : 'congruent';\r\n\r\n    var tpos = 'left';\r\n    if ((cond == 'incongruent' && p == '&lt;&lt;&lt;') || ((cond == 'congruent' && p == '&gt;&gt;&gt;'))) {\r\n        tpos = 'right';\r\n    }\r\n\r\n    var pos = {};\r\n    if (tpos == 'left') {\r\n        pos.x = '20%';\r\n        pos.y = '30%';\r\n    } else {\r\n        pos.x = '80%';\r\n        pos.y = '30%';\r\n    }\r\n\r\n\r\n    $('#stimuli_target').css({\r\n        'top': pos.x,\r\n        'left': pos.y\r\n    });\r\n\r\n\r\n    data_current.task = 'posner';\r\n    data_current.x = pos.x;\r\n    data_current.y = pos.y;\r\n    data_current.condition = 'posner_' + pos.x + '_' + pos.y + '_' + tpos;\r\n\r\n    cam.recording = 1;\r\n    setTimeout(\"$('#stimuli_fixation').hide();\", 1000);\r\n    setTimeout('posnerShowprime();', 1500);\r\n}\r\n\r\nfunction posnerShowprime() {\r\n    $('#stimuli_prime').show();\r\n    setTimeout(\"posnerShowTarget();\", 300);\r\n}\r\n\r\nfunction posnerShowTarget() {\r\n    $('#stimuli_prime').hide();\r\n    $('#stimuli_target').show();\r\n    setTimeout(\"endPhase();\", 1500);\r\n}\r\n\r\n\r\n/************************************\r\n * SMOOTH PURSUIT PARADIGM\r\n ************************************/\r\nvar tPursuit = {};\r\nfunction pursuitStart() {\r\n    $('#stimuli_fixation').hide();\r\n    var pos_possible = shuffle([\r\n        {x: \"20%\", y: \"20%\", tx: \"80%\", ty: \"20%\"},\r\n        {x: \"20%\", y: \"20%\", tx: \"20%\", ty: \"80%\"},\r\n        {x: \"20%\", y: \"20%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n        {x: \"80%\", y: \"20%\", tx: \"20%\", ty: \"20%\"},\r\n        {x: \"80%\", y: \"20%\", tx: \"20%\", ty: \"80%\"},\r\n        {x: \"80%\", y: \"20%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n        {x: \"20%\", y: \"80%\", tx: \"20%\", ty: \"20%\"},\r\n        {x: \"20%\", y: \"80%\", tx: \"80%\", ty: \"20%\"},\r\n        {x: \"20%\", y: \"80%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n        {x: \"80%\", y: \"80%\", tx: \"20%\", ty: \"20%\"},\r\n        {x: \"80%\", y: \"80%\", tx: \"80%\", ty: \"20%\"},\r\n        {x: \"80%\", y: \"80%\", tx: \"20%\", ty: \"80%\"}\r\n    ]);\r\n    var pos = pos_possible[0];\r\n    $s = $('#stimuli_dot');\r\n    $s.css({\r\n        'top': pos.y,\r\n        'left': pos.x\r\n    });\r\n\r\n    $s.css({\r\n        'background-color': '#000'\r\n    });\r\n\r\n\r\n    data_current.task = 'pursuit';\r\n    data_current.x = pos.x;\r\n    data_current.y = pos.y;\r\n    data_current.condition = 'pursuit_' + pos.x + '_' + pos.y + '_' + pos.tx + '_' + pos.ty;\r\n\r\n    cam.recording = 1;\r\n    $s.show();\r\n    setTimeout(function() {\r\n        status = \"pursuit_start\";\r\n        $('#stimuli_dot').css({\r\n            'background-color': '#dd494b'\r\n        }).animate({ \"left\": pos.tx, \"top\": pos.ty },\r\n            2000,\r\n            'linear',\r\n        function() {\r\n            status = \"pursuit_end\";\r\n            setTimeout(\"endPhase();\", 500);\r\n        });\r\n    }, 1500);\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * FREE VIEWING PARADIGM\r\n ************************************/\r\nvar tFreeview = {};\r\n\r\n\r\ntFreeview.stimuli = [];\r\n\r\n\r\n\r\nfunction process_freeview_image_file(){\r\n  console.dir(\"tFreeview\");\r\n  console.dir(tFreeview);\r\n  if(trial_order == \"random\"){\r\n    tFreeview.stimuli = shuffle(tFreeview.stimuli);\r\n  }\r\n\r\n\r\n  if(left_side == \"random\"){\r\n    for(var i = 0; i < tFreeview.stimuli.length; i++){\r\n      [left_image,right_image] = shuffle([tFreeview.stimuli[i].image_1,\r\n                                          tFreeview.stimuli[i].image_2]);\r\n      tFreeview.stimuli[i].image_1 = left_image;\r\n      tFreeview.stimuli[i].image_2 = right_image;\r\n    }\r\n  } else if(left_side == \"equal\" | left_side == \"counterbalance\"){\r\n    // select indexes to swap left and right for half the indexes\r\n    // all indexes:\r\n    var indexes = Array.from({length:tFreeview.stimuli.length},(v,k)=>k);\r\n        indexes = shuffle(indexes);\r\n\r\n    //assign the first half left to right\r\n    for(var i = 0; i < Math.floor(tFreeview.stimuli.length / 2); i++){          //this will only loop through half of the randomised indexes\r\n      var this_index = indexes[i];\r\n      var right_image = tFreeview.stimuli[this_index].image_1;\r\n      var left_image = tFreeview.stimuli[this_index].image_2;\r\n      tFreeview.stimuli[this_index].image_1 = left_image;\r\n      tFreeview.stimuli[this_index].image_2 = right_image;\r\n    }\r\n  } else if(left_side == \"image_1\"){\r\n    // do nothing\r\n  } else if(left_side == \"image_2\"){\r\n    for(var i = 0; i < Math.floor(tFreeview.stimuli.length / 2); i++){\r\n      var right_image = tFreeview.stimuli[i].image_1;\r\n      var left_image = tFreeview.stimuli[i].image_2;\r\n      tFreeview.stimuli[i].image_1 = left_image;\r\n      tFreeview.stimuli[i].image_2 = right_image;\r\n    }\r\n  } else {\r\n    alert(\"there's a problem in the 'left_side' column - fix this before testing.\");\r\n  }\r\n};\r\n\r\n//check if the freeview file matches one of the stimuli files\r\nif(typeof(parent.parent.project_json.all_stims[freeview_image_file]) !== \"undefined\"){\r\n  var freeview_contents = parent.parent.project_json.all_stims[freeview_image_file];\r\n  var freeview_clean    = freeview_contents.map(function(row){\r\n    return row.filter(item => item !== null);\r\n  });\r\n  tFreeview.stimuli = Papa.parse(Papa.unparse(freeview_clean),{\r\n    header:true,\r\n    skipEmptyLines:true\r\n  }).data;\r\n  process_freeview_image_file();\r\n} else {\r\n  if(freeview_image_file.toLowerCase().indexOf(\"https://\") == -1){\r\n    freeview_image_file = \"../User/\" + freeview_image_file;\r\n  }\r\n  $.get(freeview_image_file,function(result){\r\n    tFreeview.stimuli = Papa.parse(result,{\r\n      header:true,\r\n      skipEmptyLines:true\r\n    }).data;\r\n    process_freeview_image_file();\r\n  });\r\n}\r\n\r\nimages_loaded = 0;\r\n\r\n\r\nfunction freeviewStart() {\r\n  gaze_phase = \"freeview\";\r\n  function freeview_loaded(left_image, right_image){\r\n    freeview_no++;\r\n    data_current.task = 'freeviewing';\r\n    data_current.x = $('#stimuli_img_left').css('left');\r\n    data_current.y = \"0%\";\r\n    data_current.condition = 'view_' + left_image + '_' + right_image;\r\n\r\n    cam.recording = 1;\r\n    setTimeout(function(){\r\n      status = 'fixation_flash';\r\n      $('#stimuli_fixation').css(\"color\",\"red\");\r\n    }, 1000);\r\n    setTimeout(function(){\r\n      $('#stimuli_fixation').css(\"color\",\"black\");\r\n    }, 1250);\r\n    setTimeout(function(){\r\n      $('#stimuli_fixation').css(\"color\",\"red\");\r\n    }, 1500);\r\n    setTimeout(function(){\r\n      $('#stimuli_fixation').css(\"color\",\"black\");\r\n    }, 1750);\r\n    setTimeout(function(){\r\n      $('#stimuli_fixation').hide();\r\n      status = 'fixation_offset';\r\n\r\n    }, 2000);\r\n    setTimeout(function(){\r\n\r\n      all_fixation_rts.push()\r\n      freeviewShow();\r\n    },2500);\r\n  }\r\n\r\n  document.body.style.cursor = 'none';\r\n\r\n\r\n  image_pair = tFreeview.stimuli.shift();\r\n\r\n  [left_image,right_image] = [image_pair.image_1,image_pair.image_2];\r\n\r\n  /*\r\n  * Some code to make this work on installed version of Collector\r\n  */\r\n  switch(parent.parent.Study.get_vars.platform){\r\n    case \"preview\":\r\n    case \"localhost\":\r\n      left_image = \"../../\" + left_image;\r\n      right_image = \"../../\" + right_image;\r\n      break;\r\n  }\r\n\r\n  var baseline_time = new Date().getTime();\r\n\r\n\r\n  // Make sure the images are loaded before going past fixation\r\n  /////////////////////////////////////////////////////////////\r\n\r\n  $(\"#stimuli_img_left\").off(\"load\");\r\n  $(\"#stimuli_img_right\").off(\"load\");\r\n  $(\"#stimuli_img_left\").attr(\"src\" , left_image);\r\n  $(\"#stimuli_img_right\").attr(\"src\" , right_image);\r\n\r\n  images_loaded = 0;\r\n\r\n  $(\"#stimuli_img_left\").on(\"load\",function(){\r\n    images_loaded = images_loaded + 1;\r\n    if(images_loaded == 2){\r\n      freeview_loaded(left_image, right_image);\r\n    }\r\n  });\r\n\r\n  $(\"#stimuli_img_right\").on(\"load\",function(){\r\n    images_loaded = images_loaded + 1;\r\n    if(images_loaded == 2){\r\n      freeview_loaded(left_image, right_image);\r\n    }\r\n  });\r\n}\r\n\r\nfunction freeviewShow() {\r\n  status = 'stimulus_onset';\r\n  $('#stimuli_img_left').show();\r\n  $('#stimuli_img_right').show();\r\n  setTimeout(\"status = 'stimulus_offset'; endPhase();\", stim_duration);\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * GENERATE AND SHOW HEATMAP\r\n ************************************/\r\nfunction heatmap() {\r\n    // preprocess data for heatmap\r\n    var bins = []; // create bins and fill them\r\n    for (var y = 0; y < window.innerHeight; y++) {\r\n        for (var x = 0; x < window.innerWidth; x++) {\r\n            bins.push([x, y, 0]);\r\n        }\r\n    }\r\n    // sort fixations into bins and get max\r\n    var max = 0;\r\n    for (var i = 0; i < data[data.length - 1].raw.length; i++) {\r\n        var d = data[data.length - 1].raw[i];\r\n        var dx = Math.round(d.x);\r\n        var dy = Math.round(d.y);\r\n        var pos = (dy * window.innerWidth) + dx;\r\n        if (pos <= bins.length && pos >= 0) {\r\n            bins[pos][2] += 1;\r\n            if (bins[pos][2] > max) {\r\n                max = bins[pos][2];\r\n            }\r\n        } else {\r\n            console.log('dropped ' + pos);\r\n        }\r\n    }\r\n\r\n    // remove empty bins\r\n    var binsc = [];\r\n    for (var i = 0; i < bins.length; i++) {\r\n        if (bins[i][2] != 0) {\r\n            binsc.push(bins[i]);\r\n        }\r\n    }\r\n\r\n    // create heatmap\r\n    $('body').append(\"<canvas id=\\\"heatmap\\\"></canvas>\");\r\n    $('#heatmap').attr('width', window.innerWidth);\r\n    $('#heatmap').attr('height', window.innerHeight);\r\n    heat = simpleheat('heatmap');\r\n    heat.resize();\r\n    heat.radius(30,50);\r\n    heat.max(max).data(binsc).draw();\r\n\r\n    $('#stimuli_img').show();\r\n}\r\n\r\n\r\n/**\r\n * navigation\r\n */\r\nvar page = 1;\r\nvar oldpage = -1;\r\nvar d_consent = undefined;\r\nfunction navigation(direction) {\r\n  $('#message').hide();\r\n\r\n  $('#instruction_continue_text').html(\"&gt;\");\r\n\r\n\r\n\r\n\tif (page == 2 && direction == 'continue') {\r\n    if (cam.initialized == 1) {\r\n      $('#instruction').fadeOut(1000);\r\n      setTimeout(\"prepareBlock();\", 2000);\r\n    }\r\n  } else if (page == 2 && direction == 'pause') {\r\n    $('#instruction_continue').html(\"continue\").css({'font-size': '1.7em'});\r\n    $('#instruction_2').find(\"h1\").html('short pause (block ' + block_no + ' of ' + design.blocks.length + \")\");\r\n    $('#setup_first').hide();\r\n    $('#setup_after').show();\r\n\r\n    $('#instruction').show(function() {\r\n      if (block_no == design.blocks.length) {\r\n        page++;\r\n      } else {\r\n        $('#instruction_2').fadeIn(300);\r\n        $('#webgazerVideoFeed').show();\r\n      }\r\n    });\r\n  } else if  (direction == 'continue') {\r\n    page++;\r\n  } else if (direction == 'back') {\r\n    page--;\r\n  }\r\n  page = page < 1 ? 1 : page;\r\n  page = page > $('.instruction_page').length ? $('.instruction_page').length : page;\r\n  page <= 1 ? $('#instruction_back').hide() : $('#instruction_back').show();\r\n  page >= $('.instruction_page').length ? $('#instruction_continue').hide() : $('#instruction_continue').show();\r\n  page >= 3 ? $('#instruction_back,#instruction_continue').hide() : \"\";\r\n  block_no > 0 ? $('#instruction_back').hide() : \"\";\r\n\r\n  if (oldpage != page) { // if we stay at the same page, we avoid unnecessary animations\r\n    $('.instruction_page').hide();\r\n    $('#instruction_'+page).fadeIn(300);\r\n  }\r\n  // start up webcam\r\n  if (page == 2 && cam.initialized == 0) {\r\n    $(\"#instruction_continue\").hide();\r\n    loadWebgazer();\r\n  }\r\n  oldpage = page;\r\n}\r\n\r\n\r\nvar cl;\r\nvar t_start = new Date().getTime();\r\n$('document').ready(function() {\r\n  $('#stimulus').hide();\r\n  $('#calibration_dot').hide();\r\n  $('#setup_after').hide();\r\n  $('#instruction_message').hide();\r\n  $('#therest').hide();\r\n\r\n\r\n  $('#start_button').click(function() {\r\n    $(this).hide();\r\n    prepareBlock();\r\n  });\r\n\r\n  $('body').keypress(function(e) {\r\n    //e.preventDefault();\r\n    switch(e.keyCode) {\r\n\r\n    }\r\n  });\r\n\r\n  $('#instruction_continue').click(function() {\r\n    navigation('continue');\r\n  });\r\n\r\n  $('#instruction_back').click(function() {\r\n    navigation('back');\r\n  });\r\n\r\n  $( \"#f_crowdflowerid\" ).tooltip({\r\n    show: {\r\n      effect: \"slideDown\",\r\n      delay: 250\r\n    }\r\n  });\r\n\r\n\r\n  /*\r\n  $('#f_birthday').datepicker({\r\n      dateFormat: 'yy/mm/dd',\r\n      changeYear: true,\r\n      changeMonth: true,\r\n      yearRange: \"-100:+0\"\r\n  });\r\n  */\r\n  var select = $('#f_birthday');\r\n  for (var i=18;i <= 100; i++){\r\n    select.append('<option value=\"'+i+'\">'+i+'</option>')\r\n  }\r\n\r\n  window.localStorage.clear();\r\n\r\n  var ss = window.location.hash.substring(1);\r\n  $('#cf_reference,#asd_reference,#rub_reference,#cf_code').hide();\r\n  if (ss == \"cf\") { // crowdflower-reference\r\n    $('#cf_reference,#cf_code').show();\r\n  } else if (ss == \"rub\") {\r\n    $('#rub_reference').show();\r\n\t} else {\r\n    $('#asd_reference').show();\r\n\t}\r\n\r\n  var is_chrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;\r\n  var is_firefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\r\n  if (is_chrome || is_firefox) {\r\n    page = 0;\r\n    navigation('start');\r\n  } else {\r\n    $('#instruction').hide();\r\n    $('#message').html('Thank you very much for your interest in our study.<br /><br />Unfortunately, your browser is not supported by our website. To participate, you need either the browser \"Google Chrome\" or \"Firefox\".<br /><br />Do download one of these securely and free of charge, please follow one of these links: <a href=\"https://www.google.com/chrome/browser/desktop/\" target=\"_blank\">Google Chrome</a> or <a href=\"https://www.mozilla.org/de/firefox/new/\" target=\"_blank\">Mozilla Firefox</a>').show();\r\n  }\r\n});\r\n\r\n\r\n\r\n/*\r\n\r\n function drawLoop() {\r\n    requestAnimFrame(drawLoop);\r\n    var p = webgazer.getCurrentPrediction();\r\n    if (p !== null) {\r\n        console.log(p);\r\n        $('body').append('<span class=\"p\" style=\"top: '+p.y+'px; left: '+p.x+'px\"></span>');\r\n        measurements++;\r\n    }\r\n    t = (new Date().getTime() - start)/1000;\r\n    cam.overlay.getContext('2d').clearRect(0,0,cam.width,cam.height);\r\n    if (cl.getCurrentPosition()) {\r\n        //console.log(cl.getCurrentPosition()[0]);\r\n        //cl.draw(overlay);\r\n    }\r\n}\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\nwindow.onbeforeunload = function() {\r\n  //webgazer.end(); //Uncomment if you want to save the data even if you reload the page.\r\n}\r\n</script>\r\n",
          "survey": "<!--\r\n  Author: Dr. Anthony Haffey\r\n\r\n  Collector: Cat/Kitten/Cat release\r\n  A program for running experiments on the web\r\n  Copyright 2012-2018 Mikey Garcia & Nate Kornell\r\n\r\n  This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License version 3 as published by the Free Software Foundation.\r\n\r\n  This program is distributed in the hope that it will be useful,\r\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n  GNU General Public License for more details.\r\n\r\n  You should have received a copy of the GNU General Public License\r\n  along with this program.  If not, see <http://www.gnu.org/licenses/>\r\n\r\n  Kitten/Cat release (2019-2021) author: Dr. Anthony Haffey\r\n\r\n  (team@someopen.solutions)\r\n-->\r\n<style>\r\nbody{\r\n  background-color:#5F9EA0;\r\n  width:100%;\r\n  height:100%;\r\n}\r\ntd{\r\n  padding:10px;\r\n  vertical-align: top;\r\n}\r\n\r\n/*\r\n*\telements by id\r\n*/\r\n\r\n#content{\r\n  width:95%;\r\n}\r\n#proceed_button{\r\n  display:none;\r\n  float:right;\r\n}\r\n#survey_outline{\r\n\tposition: \t\t\t\t\tfixed;\r\n  top: \t\t\t\t\t\t\t\t50%;\r\n  left: \t\t\t\t\t\t\t50%;\r\n\theight: \t\t\t\t\t\t90%;\r\n\toverflow: \t\t\t\t\tauto;\r\n\t-webkit-transform: \ttranslate(-50%, -50%);\r\n  transform: \t\t\t\t\ttranslate(-50%, -50%);\r\n  background-color: \twhite;\r\n\tmin-width:        \t900px;\r\n\tmax-width:        \t9000px;\r\n\tborder-radius:    \t20px;\r\n  border-color:     \t#006688;\r\n  border-style:     \tsolid;\r\n  border-width:     \t5px;\r\n\tpadding:            10px;\r\n  box-shadow:         12px 12px 12px rgba(0, 0, 0, 0.5);\r\n}\r\n#survey_tabs{\r\n  padding:            20px;\r\n}\r\n#this_survey_id{\r\n  padding:            20px;\r\n  display:            none;\r\n}\r\n\r\n/*\r\n*\telements by class\r\n*/\r\n.feedback_span_multiple{\r\n  display: none;\r\n  margin:  10px;\r\n}\r\n.feedback_span_single{\r\n  display: none;\r\n  padding: 10px;\r\n}\r\n.likert_table td{\r\n  padding:    1px;\r\n  text-align: center;\r\n}\r\n.likert_table td:hover{\r\n  color: blue;\r\n}\r\n.score_total{\r\n  display: none;\r\n}\r\n.show_tab{\r\n  margin: 5px;\r\n}\r\n.survey_btn{\r\n\twhite-space: normal;\r\n\tword-wrap: \t initial;\r\n}\r\n.table_break{\r\n\twidth:    100%;\r\n\theight:   300px;\r\n\toverflow: auto;\r\n}\r\n\r\n\r\n/*\r\n* by Bora Alp Arat at https://stackoverflow.com/questions/21684101/css-vertical-scrollbar-padding-left-right-in-ul-possible\r\n*/\r\n::-webkit-scrollbar {\r\n  width: 14px;\r\n  height: 18px;\r\n}\r\n::-webkit-scrollbar-thumb {\r\n  height: 6px;\r\n  border: 4px solid rgba(0, 0, 0, 0);\r\n  background-clip: padding-box;\r\n\t-webkit-border-radius: 7px;\r\n  background-color: rgba(0, 102, 153, 0.5);\r\n  -webkit-box-shadow: inset -1px -1px 0px rgba(0, 0, 0, 0.05), inset 1px 1px 0px rgba(0, 0, 0, 0.05);\r\n}\r\n::-webkit-scrollbar-button {\r\n  width: 0;\r\n  height: 0;\r\n  display: none;\r\n}\r\n::-webkit-scrollbar-corner {\r\n  background-color: transparent;\r\n}\r\n</style>\r\n<div id=\"everything\">\r\n\t<div id=\"survey_outline\"></div>\r\n</div>\r\n<span id=\"scales_span\"></span>\r\n<script>\r\n/*\r\n* Retrieving settings\r\n*/\r\n\r\nif(typeof(settings) !== \"undefined\"){\r\n  settings = [settings];\r\n} else {\r\n  settings = {};\r\n}\r\n\r\n/*\r\n* vertical vs. horizontal tabs\r\n*/\r\n\r\nif(typeof(settings.tab_hor_vert) == \"undefined\" || settings.tab_hor_vert.toLowerCase() == \"horizontal\"){\r\n  settings.tab_hor_vert = \"horizontal\";\r\n  var please_wait = $(\"<div>\");\r\n  var this_survey = $(\"<div>\");\r\n  var survey_tabs = $(\"<div>\");\r\n  var proceed_btn = $(\"<input>\");\r\n  please_wait.attr(\"id\", \"please_wait_div\")\r\n             .html(\"Loading... Please wait\");\r\n  this_survey.addClass(\"needs-validation\")\r\n             .attr(\"id\", \"this_survey_id\")\r\n             .attr(\"novalidate\", true);\r\n  survey_tabs.attr(\"id\", \"survey_tabs\")\r\n             .addClass(\"border-top\")\r\n             .addClass(\"border-primary\")\r\n             .css(\"text-align\", \"right\")\r\n  proceed_btn.addClass(\"btn\")\r\n             .addClass(\"btn-primary\")\r\n             .attr(\"id\", \"proceed_button\")\r\n             .attr(\"type\", \"submit\")\r\n             .attr(\"value\", \"Proceed\")\r\n  $(\"#survey_outline\").append(please_wait)\r\n                      .append(this_survey)\r\n                      .append(survey_tabs)\r\n                      .append(proceed_btn);\r\n\r\n} else if (settings.tab_hor_vert.toLowerCase() == \"vertical\"){\r\n  $(\"#survey_outline\").html(\r\n    '<table>' +\r\n      '<tr>' +\r\n        '<td valign=\"top\" class=\"border-right border-primary\">'+\r\n          '<div id=\"survey_tabs\"></div>' +\r\n        '</td>' +\r\n        '<td>'+\r\n          '<div id=\"please_wait_div\">Please wait while survey is downloading</div>'+\r\n          '<div id=\"this_survey_id\" class=\"needs-validation\" novalidate></div>' +\r\n          '<input type=\"button\" value=\"Proceed\" class=\"btn btn-primary\" id=\"proceed_button\">'+\r\n        '</td>'+\r\n      '</tr>'+\r\n    '</table>'\r\n  );\r\n} else if(settings.tab_hor_vert.toLowerCase() == \"none\"){\r\n  $(\"#survey_outline\").html(\r\n    '<div id=\"survey_tabs\" style=\"display:none\"></div>' +\r\n    '<div id=\"please_wait_div\">Please wait while survey is downloading</div>'+\r\n    '<div id=\"this_survey_id\" class=\"needs-validation\" novalidate></div>'\r\n  );\r\n} else {\r\n  bootbox.alert(\"If you are the researcher, please check the 'settings for this survey. The input for 'tab_hor_vert' appears to be invalid. Please change it to 'horizontal' or 'vertical' or 'none' or remove 'tab_hot_vert' altogether from the settings, which will make the tabs invisible\");\r\n}\r\n\r\n/*\r\n* Defining objects\r\n*/\r\n\r\npage_break_management = {\r\n  breaks_remaining : 0,\r\n  breaks_index     : 0\r\n}\r\n\r\nproceed_object = {\r\n  type:[],\r\n  name:[],\r\n  break_no:[]\r\n};\r\n\r\nscoring_object={\r\n  scales:[],\r\n  scale_scores:[],\r\n  update_scales:function(this_survey){\r\n    headers = Object.keys(this_survey[0]);\r\n    this.scales = headers.filter(elm => elm.includes(\"score:\"));\r\n    var scales_html = '';\r\n    this.scales.forEach(function(element){\r\n      element = element.replace(\": \",\":\");\r\n      scales_html += \"<input name='\"+element.replace(/ |:/g,\"_\")+\"' class='score_total \"+element.replace(/ |:/g,\"_\")+\"' disabled>\";\r\n    });\r\n    $(\"#scales_span\").html(scales_html);\r\n  }\r\n}\r\n\r\nsurvey_obj = {};\r\n\r\n/*\r\n* Element actions\r\n*/\r\n\r\n/*\r\n$(function() {\r\n  $( \".datepicker\" ).datepicker({\r\n    dateFormat : 'mm/dd/yy',\r\n    changeMonth : true,\r\n    changeYear : true,\r\n    yearRange: '-100y:c+nn',\r\n    maxDate: '-1d'\r\n  });\r\n});\r\n*/\r\n\r\n\r\n$('#ExperimentContainer').css('transform','scale(1,1)');\r\n\r\n$(\"#proceed_button\").on(\"click\",function(){\r\n  var proceed = true;\r\n  var tabs    = document.getElementsByClassName('show_tab active');\r\n  if(tabs.length > 0){\r\n    var current_tab       = document.getElementsByClassName(\r\n      'show_tab active')[0]\r\n        .id\r\n        .replace(\"_button\", \"\")\r\n        .replace(\"tab_\",    \"\");\r\n    var response_elements = $('#table_'+current_tab).find('.response_element');\r\n\r\n  } else {\r\n    response_elements = $(\".table_break:visible\").find(\".response_element\");\r\n  }\r\n  for(var i = 0; i < response_elements.length; i++){\r\n    [row_no,item_name] = retrieve_row_no_item_name(response_elements[i]);\r\n    if(typeof(survey_obj.data[row_no].optional) !== \"undefined\"){\r\n      var this_optional = survey_obj.data[row_no].optional.toLowerCase();\r\n\r\n      if(this_optional.indexOf(\"no\") !== -1){\r\n        this_optional = this_optional.split(\"-\");       // find out whether there's a minimal number of responses\r\n        if(this_optional.length == 1){                  // default is that length needs to be at least 1\r\n          var min_resp_length = 1;\r\n        } else if(this_optional.length == 2) {\r\n          var min_resp_length = this_optional[1];\r\n        } else {\r\n          bootbox.alert(\"Error - you appear to have too many '-' characters in the 'optional' column\");\r\n          return false;\r\n        }\r\n      } else {\r\n        min_resp_length = 0;\r\n      }\r\n\r\n      var quest_resp = isJSON($(\"#\"+response_elements[i].id).val());\r\n      if (quest_resp.length < min_resp_length){\r\n        proceed = false;\r\n  \t\t\t$(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-dark\");\r\n        $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-success\");\r\n        $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).addClass(\"text-danger\");\r\n      } else {\r\n  \t\t\t$(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-dark\");\r\n        $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-danger\");\r\n        $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).addClass(\"text-success\");\r\n      }\r\n    }\r\n  }\r\n\r\n  if(current_tab == survey_obj.tabs && proceed){\r\n    if(typeof(sql_surveys) == \"undefined\"){\r\n      //$(\".table_break\");\r\n      var next_table_no = parseFloat($(\".table_break:visible\")[0].id.replace(\"table\",\"\")) + 1;\r\n\r\n      if($(\".table_break#table\"+next_table_no).length == 0){\r\n        if(typeof(Phase) !== \"undefined\"){\r\n          Phase.submit();\r\n        } else {\r\n          bootbox.alert(\"You've finished! Click on the preview button to restart.\")\r\n        }\r\n      } else {\r\n        $(\".table_break\").hide();\r\n        $(\".table_break#table\" + next_table_no).show();\r\n      }\r\n    } else {\r\n      $(\"#survey_outline\").html(\"<h1> You have finished the preview of this survey.</h1>\");\r\n    }\r\n  } else if(current_tab < survey_obj.tabs && proceed) {\r\n    current_tab ++;\r\n    $(\"#tab_\"+current_tab+\"_button\").removeClass(\"btn-secondary\");\r\n    $(\"#tab_\"+current_tab+\"_button\").removeClass(\"disabled\");\r\n    $(\"#tab_\"+current_tab+\"_button\").addClass(\"btn-outline-dark\");\r\n    $(\"#tab_\"+current_tab+\"_button\").click();\r\n  } else if(proceed == false){\r\n    bootbox.alert(\"You're missing some responses. Please fill in all the answers for the questions in red above.\");\r\n  } else if(current_tab > survey_obj.tabs){\r\n    bootbox.alert(\"Error - please contact Scientific Open Solutions about this problem, error 'Survey_001'.\");\r\n  }\r\n});\r\n\r\n//by qwerty at https://stackoverflow.com/questions/2116558/fastest-method-to-replace-all-instances-of-a-character-in-a-string\r\nString.prototype.replaceAll = function(str1, str2, ignore){\r\n  return this.replace(new RegExp(str1.replace(/([\\/\\,\\!\\\\\\^\\$\\{\\}\\[\\]\\(\\)\\.\\*\\+\\?\\|\\<\\>\\-\\&])/g,\"\\\\$&\"),(ignore?\"gi\":\"g\")),(typeof(str2)==\"string\")?str2.replace(/\\$/g,\"$$$$\"):str2);\r\n}\r\n\r\n\r\n/*\r\n* Functions\r\n*/\r\n\r\nfunction clean_item(this_item){\r\n  if(this_item.indexOf(\"'\") !== -1 |\r\n     this_item.indexOf('\"') !== -1){\r\n    bootbox.alert(\"Please avoid apostraphes or quote marks in the responses the participant can give. These cause problems with smooth running of surveys. This occurs when you wrote:<br><br>\" + this_item);\r\n  }\r\n  return(this_item);\r\n}\r\n\r\nfunction generate_feedback_string(feedback_array, this_index, feedback_color, row){\r\n  if(feedback_array){                 //i.e. if it's not null\r\n    if(feedback_array.length > 1){\r\n      return \"<div class='feedback_span_multiple \"+row[\"item_name\"].toLowerCase()+\"_feedback' style='color:\"+feedback_color[this_index]+\"'>\"+feedback_array[this_index]+\"</div>\";\r\n    } else {\r\n      return \"<div class='feedback_span_single \" +\r\n      row[\"item_name\"].toLowerCase() + \"_feedback' style='color:\" +\r\n      feedback_color[this_index] +\r\n      \"'>\" +\r\n      feedback_array[this_index] +\r\n      \"</div>\";\r\n    }\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nfunction get_feedback(row){\r\n  if(typeof(row[\"feedback\"]) !== \"undefined\" && row[\"feedback\"] !== \"\"){\r\n    feedback_array = row[\"feedback\"].split(\"|\");\r\n    if(typeof(row[\"feedback_color\"]) == \"undefined\"){\r\n      bootbox.alert(\"The color for the feedback options has not been set. If you created this questionnaire, please add a column 'feedback_color' to your survey and separate the colors by a pipe (|) character.\");\r\n    }\r\n    feedback_color = row[\"feedback_color\"].split(\"|\");\r\n  } else {\r\n    feedback_array = null;\r\n    feedback_color = '';\r\n  }\r\n  return [feedback_array,feedback_color];\r\n}\r\n\r\nfunction isJSON(str) {\r\n  try {\r\n    return JSON.parse(str);\r\n  } catch (e) {\r\n    return str;\r\n  }\r\n}\r\n\r\nfunction likert_update(this_element){\r\n\r\n  [row_no,item_name] = retrieve_row_no_item_name(this_element);\r\n\r\n  $(\".row_\"+row_no).removeClass(\"active\");\r\n  $(\".row_\"+row_no).removeClass(\"btn-primary\");\r\n  $(\".row_\"+row_no).addClass(\"btn-outline-primary\");\r\n  $(this_element).removeClass(\"btn-outline-primary\");\r\n  $(this_element).addClass(\"btn-primary\");\r\n  $(\"#survey_\"+item_name+\"_response\").val(this_element.value);\r\n  response_check(this_element);\r\n}\r\n\r\nfunction load_survey(survey){\r\n  /*\r\n  * are we in preview?\r\n  */\r\n  if(typeof(parent.collector_survey_preview) !== \"undefined\"){\r\n    survey_content = survey;\r\n  } else if(typeof(parent.master) !== \"undefined\" && parent.master.surveys.preview){\r\n    survey_content = survey;\r\n    survey_obj.mods = parent.master.mods;\r\n  } else {\r\n    survey = survey.toLowerCase().replace(\".csv\",\"\") + \".csv\";\r\n\r\n    if(typeof(parent.parent.project_json.surveys) !== \"undefined\" &&\r\n       typeof(parent.parent.project_json.surveys[survey]) !== \"undefined\"){\r\n      survey_content = parent.parent.project_json.surveys[survey];\r\n      survey_obj.mods = parent.parent.project_json.mods;\r\n\r\n    } else if(\r\n      typeof(parent.parent.project_json.surveys) !== \"undefined\" &&\r\n      typeof(parent.parent.project_json.surveys[\r\n        survey.replace(\".csv\",\"\")\r\n      ])\r\n    ){\r\n\t\t\tsurvey_content = parent.parent.project_json.surveys[survey.replace(\".csv\",\"\")];\r\n      survey_obj.mods = parent.parent.project_json.mods;\r\n\t\t}\telse {\r\n      bootbox.alert(\"Survey \" + survey  + \" doesn't appear to exist\");\r\n    }\r\n  }\r\n  process_returned_questionnaire(survey_content);\r\n}\r\n\r\nfunction process_question(row, row_no){\r\n  //row.values = row.values == \"\" ? row.answers : row.values;\r\n  if(row_check(\"page_break\", row)){\r\n    page_break_management.breaks_remaining++;\r\n    question_td = \"</tr></table><table id='table\" +\r\n      page_break_management.breaks_remaining +\r\n      \"' style='display:none' class='table_break'></tr>\";\r\n  } else {\r\n    if(\r\n      typeof(row[\"values\"]) !== \"undefined\" & typeof(row[\"values\"]) !== \"function\"\r\n    ){ //to address microsoft edge issue.\r\n      value_array = row[\"values\"].split(\"|\");\r\n    } else {\r\n      value_array='';\r\n    }\r\n\r\n    if(row[\"item_name\"].indexOf(\" \") !== -1){\r\n      bootbox.alert(\"Please note that the 'item name' '\" +\r\n        row['item_name'] +\r\n        \"' is invalid because it has at least one space. Please use underscores instead of spaces. If you're not the creator of this task, please contact the person who created it.\"\r\n      );\r\n    }\r\n\r\n    /*\r\n    * class for scoring\r\n    */\r\n\r\n    var this_class = \"\";\r\n    for(var i=0;i<scoring_object.scales.length;i++){\r\n      if(row[scoring_object.scales[i].toLowerCase()]==\"1\"){\r\n        this_class += scoring_object.scales[i].toLowerCase().replace(\r\n          \"score: \",\"\"\r\n        ).replace(/ |-/,\"\") + \" \";\r\n      }\r\n      if(row[scoring_object.scales[i].toLowerCase()]==\"r1\"){\r\n        this_class += scoring_object.scales[i].toLowerCase().replace(\"score: \",\"\").replace(\" \",\"_\")+\"-r1 \";\r\n      }\r\n    }\r\n\r\n    /*\r\n    * adding to row to help with \"write\" function\r\n    */\r\n    var row_x = JSON.parse(\r\n      JSON.stringify(row)\r\n    );\r\n    row_x[\"row_no\"] = row_no;\r\n    row_x[\"this_class\"] = this_class;\r\n\r\n    [feedback_array,feedback_color] = get_feedback(row);\r\n\r\n\r\n    question_td = '<input type=\"hidden\" class=\"response_element row_' + row_no + '\" id=\"survey_' +\r\n      row[\"item_name\"].toLowerCase() +\r\n      '_response\" name=\"survey_' +\r\n      row[\"item_name\"].toLowerCase() +\r\n      '_response\" value=\"\">';\r\n\r\n    /*\r\n    * Survey settings\r\n    */\r\n    [row_ques_perc,row_resp_perc] = row_perc(row[\"question_width\"]);\r\n\r\n    if(typeof(settings.feedback_before_response) == \"undefined\"){\r\n      settings.feedback_before_response = true;\r\n    }\r\n\r\n    if(typeof(settings.lock_after_feedback) == \"undefined\"){\r\n      settings.lock_after_feedback = false;\r\n    }\r\n\r\n    if(typeof(row[\"type\"]) == \"undefined\"){\r\n      return false;\r\n    }\r\n\r\n    if(\r\n      typeof(survey_obj.mods) !== \"undefined\" &&\r\n\t\t\ttypeof(survey_obj.mods[row.type]) !== \"undefined\"\r\n    ){\r\n      var mod_html = survey_obj.mods[row.type].contents;\r\n\r\n      Object.keys(row).forEach(function(attribute){\r\n        mod_html = mod_html.replaceAll(\"{{\"+attribute+\"}}\",row[attribute]);\r\n      });\r\n      question_td += mod_html;\r\n    } else {\r\n      switch(row[\"type\"].toLowerCase()){\r\n        case \"page_start\":\r\n          var tabs_html = $(\"#survey_tabs\").html();\r\n          if(settings.tab_hor_vert == \"horizontal\"){\r\n            span_div = \"span\";\r\n          } else if(settings.tab_hor_vert == \"vertical\"){\r\n            span_div = \"div\";\r\n          }\r\n          if(typeof(survey_obj.tabs) == \"undefined\"){\r\n            survey_obj.tabs = 0;\r\n          } else {\r\n            survey_obj.tabs++;\r\n          }\r\n          if(survey_obj.tabs == 0){ //i.e. is the first tab\r\n            active_button = \"btn-outline-primary active\";\r\n          } else {\r\n            active_button = \"btn-secondary disabled\";\r\n          }\r\n          if(settings.tab_hor_vert == \"vertical\"){\r\n            var vert_btn_block = \"btn-block\";\r\n          } else {\r\n            var vert_btn_block = \"\";\r\n          }\r\n\r\n          tabs_html +=  '<'+span_div+' class=\"btn-group-toggle\" data-toggle=\"buttons\">'+\r\n            '<label id=\"tab_' + survey_obj.tabs + '_button\" class=\"btn show_tab '+active_button+' '+vert_btn_block+'\">'+\r\n              '<input type=\"checkbox\" checked autocomplete=\"off\">'+ row['text'] +\r\n            '</label>'+\r\n          '</'+span_div+'>';\r\n\r\n          $(\"#survey_tabs\").html(tabs_html);\r\n\r\n          page_break_indexes = [];\r\n          survey_obj.data.forEach(function(row,this_index){\r\n            if(typeof(row.type) !== \"undefined\" && row.type.toLowerCase() == \"page_start\"){\r\n              page_break_indexes.push(this_index);\r\n            }\r\n          });\r\n\r\n          if(survey_obj.tabs > 0){\r\n            question_td += \"</td><td></td></tr></table></div><div class='survey_page' id='tab_\" + survey_obj.tabs + \"' style='display:none'><table id='table_\" + survey_obj.tabs + \"' class='table_break'><tr>\";\r\n          } else {\r\n            question_td += \"</td><td></td></tr></table><div class='survey_page' id='tab_\"+survey_obj.tabs+\"' ><table id='table_\"+survey_obj.tabs+\"' class='table_break'><tr>\";\r\n          }\r\n          break;\r\n        case \"checkbox\":\r\n        case \"checkbox_vertical\":\r\n          question_td += write(\"checkbox_vertical\",row_x);\r\n          break;\r\n        case \"checkbox_horizontal\":\r\n          question_td += write(\"checkbox_horizontal\",row_x);\r\n          break;\r\n        case \"checkbox_single\":\r\n          question_td += write(\"checkbox_single\", row_x);\r\n          break;\r\n        case \"date\":\r\n          question_td += write(\"date\",row_x);\r\n        break;\r\n        case \"dropdown\":\r\n\t\t\t\tcase \"select\":\r\n          question_td += write(\"dropdown\",row_x);\r\n        break;\r\n        case \"email\":\r\n          question_td += write(\"email\", row_x);\r\n        break;\r\n        case \"google_slide\":\r\n        case \"jumbled\":\r\n        case \"instruct\":\r\n          // these are defined elsewhere to take the whole row\r\n          break;\r\n        case \"likert\":\r\n          question_td += write(\"likert\", row_x);\r\n        break;\r\n        case \"number\":\r\n          question_td += write(\"number\", row_x);\r\n          break;\r\n        case \"para\":\r\n          question_td += write(\"para\", row_x);\r\n          break;\r\n        case \"radio\":\r\n        case \"radio_vertical\":\r\n          question_td += write(\"radio_vertical\", row_x);\r\n          break;\r\n        case \"radio_horizontal\":\r\n          question_td += write(\"radio_horizontal\", row_x);\r\n        break;\r\n\r\n        case \"report_score\":\r\n            question_td += \"<input disabled class='form-control score_\" + row[\"item_name\"] + \" \"+row[\"item_name\"]+\"_item row_\"+row_no+\"' type='text' name='survey_\"+row['item_name'].toLowerCase()+\"'>\";\r\n        break;\r\n\r\n        case \"text\":\r\n          question_td += write(\"text\", row_x);\r\n        break;\r\n      }\r\n    }\r\n    if(feedback_array){\r\n        question_td += \"<button class='btn btn-outline-info feedback_btn \"+row[\"item_name\"]+\"_item row_\"+row_no+\"' id='reveal_\"+row[\"item_name\"].toLowerCase()+\"_feedback' onclick='reveal_answers(this)'>Show</button>\";\r\n    }\r\n  }\r\n  if(typeof(row[\"type\"])== \"undefined\"){\r\n      return '';\r\n  } else {\r\n    if(row[\"type\"].toLowerCase() == \"instruct\"){\r\n      row_html  = write(\"instruct\",row);\r\n    } else if(row[\"type\"].toLowerCase() == \"jumbled\"){\r\n      //row_html  = question_td + write(\"jumbled\",row); <-- this is better, but being paused for placement work Anthony is doing\r\n      row_html  = write(\"jumbled\",row);\r\n\t\t} else if(row[\"type\"].toLowerCase() == \"likert\"){\r\n\r\n\t\t\tif(typeof(row[\"side_by_side\"]) !== \"undefined\" &&\r\n\t\t\t\t row[\"side_by_side\"].toLowerCase() == \"yes\"){\r\n\r\n\t\t\t\tvar row_html=\"<td class='text-primary' id='survey_\"+row[\"item_name\"].toLowerCase().replace(\" \",\"_\")+\"_question' style='width:\"+row_ques_perc+\"; text-align:right'>\"+row[\"text\"]+\"</td><td>\"+question_td+\"</label></td>\";\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar row_html = \"<tr>\" +\r\n\t\t\t\t\t\t\"<td colspan='2'>\" +\r\n\t\t\t\t\t\t\trow[\"text\"] +\r\n\t\t\t\t\t\t\"</td>\" +\r\n\t\t\t\t\t\"</tr>\" +\r\n\t\t\t\t\t\"<tr>\" +\r\n\t\t\t\t\t\t\"<td colspan='2' align='center'>\" +\r\n\t\t\t\t\t\t\tquestion_td +\r\n\t\t\t\t\t\t\"</td>\" +\r\n\t\t\t\t\t\"</tr>\";\r\n\t\t\t}\r\n\r\n\r\n    } else if(row[\"type\"].toLowerCase()==\"google_slide\") {\r\n      var row_html=\"<td colspan='2'>\"+row[\"text\"]+\"</label></td>\";\r\n    } else if(typeof(row[\"no_text\"]) !== \"undefined\" && row[\"no_text\"] == \"on\"){\r\n      var row_html=\"<td colspan='2'>\"+question_td+\"</td>\";\r\n    } else {\r\n      if(row['text'].toLowerCase() == \"page_start\" | row['type'].toLowerCase() == \"page_start\"){\r\n        row_html = question_td;\r\n      } else {\r\n        var row_html=\"<td class='text-primary' id='survey_\"+row[\"item_name\"].toLowerCase().replace(\" \",\"_\")+\"_question' style='width:\"+row_ques_perc+\"; text-align:right'>\"+row[\"text\"]+\"</td><td>\"+question_td+\"</label></td>\";\r\n      }\r\n    }\r\n    if(typeof(row[\"optional\"]) !== \"undefined\"){\r\n      if(row[\"optional\"].toLowerCase() == \"no\"){\r\n        proceed_object.name.push(row[\"item_name\"]);\r\n        proceed_object.type.push(row[\"type\"]);\r\n        proceed_object.break_no.push(page_break_management.breaks_remaining);\r\n      }\r\n    }\r\n    if(typeof(row[\"shuffle_question\"]) == \"undefined\" || row[\"shuffle_question\"].toLowerCase() == \"off\"){\r\n      this_shuffle='none';\r\n    } else {\r\n      this_shuffle=row[\"shuffle_question\"];\r\n    }\r\n    return [row_html,this_shuffle];\r\n  }\r\n}\r\n\r\nfunction process_score(row_no, values_col, this_response, item, values_reverse ){\r\n  item_values = survey_obj.data[row_no][values_col].split(\"|\");\r\n  if(typeof(values_reverse) !== \"undefined\" && values_reverse == \"r\"){\r\n    item_values.reverse();\r\n  }\r\n  item_answers      = survey_obj.data[row_no][\"values\"].split(\"|\");\r\n  var this_value    = item_values[item_answers.indexOf(this_response)];\r\n  $(\"#survey_\" + item + \"_score\").val(this_value);\r\n  if(typeof(this_value) !== \"undefined\"){\r\n    return parseFloat(this_value);\r\n  }\r\n}\r\n\r\nfunction process_returned_questionnaire(data){\r\n  /*\r\n  * trim the data if it has a blank final row\r\n  */\r\n  if(data[data.length - 1].length < data[0].length){\r\n    data.pop();\r\n  }\r\n\r\n  survey_obj.data = data;\r\n  survey_obj.data = Papa.unparse(survey_obj.data);\r\n  survey_obj.data = parent.parent.Collector.PapaParsed(survey_obj.data);\r\n\r\n  survey_obj.scales = {};\r\n  var col_headers = Object.keys(survey_obj.data[0]);\r\n  col_headers.forEach(function(header){\r\n    if(header.indexOf(\"score:\")==0){\r\n      var original_header = header;\r\n      header = header.replace(\"score: \",\"\");\r\n      header = header.replace(\"score:\",\"\");\r\n      survey_obj.scales[header] = {};\r\n      survey_obj.scales[header].questions = {};\r\n\r\n      for(var i = 1; i < survey_obj.data.length; i++){\r\n        row = survey_obj.data[i];\r\n        if(row[original_header] !== \"\" && typeof(row[original_header]) !== \"undefined\"){\r\n          survey_obj.scales[header].questions[i] = row[original_header];\r\n        }\r\n      }\r\n    }\r\n  });\r\n  write_survey(survey_obj.data,\"this_survey_id\");\r\n  $(\"#please_wait_div\").hide();\r\n  $(\"#proceed_button\").show();\r\n  $('html, body').animate({\r\n    scrollTop: $(\"#survey_outline\").offset().top\r\n  }, 1000);\r\n}\r\n\r\nfunction row_perc(this_rat){\r\n\tif(typeof(this_rat) == \"undefined\"){\r\n    row_resp_perc = \"50%\";\r\n    row_ques_perc = \"50%\";\r\n  } else {\r\n    row_resp_perc = parseFloat(100-this_rat.replace(\"%\",\"\"))+\"%\";\r\n    row_ques_perc = parseFloat(this_rat.replace(\"%\",\"\"))+\"%\";\r\n  }\r\n  return [row_ques_perc,row_resp_perc];\r\n}\r\n\r\nfunction response_check(submitted_element){\r\n  switch(submitted_element.type){\r\n    case \"checkbox\":\r\n\r\n\r\n\r\n\r\n      var checked_responses = $(\"[name='\"+submitted_element.name+\"']:checked\");\r\n      if(checked_responses.length){ //i.e. more than 0\r\n        var values = [];\r\n        for(var i = 0; i < checked_responses.length; i++){\r\n          values.push(checked_responses[i].value);\r\n        }\r\n        $(\"#\"+submitted_element.name+\"_response\").val(JSON.stringify(values));\r\n      } else {\r\n        $(\"#\"+submitted_element.name+\"_response\").val(\"\");\r\n      }\r\n\r\n      break;\r\n\r\n      case \"button\":\r\n        $(\"#\" + submitted_element.name + \"_response\").val(\r\n          submitted_element.value\r\n        );\r\n      break;\r\n\r\n      case \"number\":\r\n      case \"radio\":\r\n      case \"select-one\":\r\n      case \"text\":\r\n      case \"textarea\":\r\n        $(\"#\" + submitted_element.name + \"_response\").val(\r\n          submitted_element.value\r\n        );\r\n      break;\r\n    }\r\n    update_score();\r\n}\r\n\r\nfunction retrieve_row_no_item_name(this_element){\r\n  var these_classes = this_element.className.split(\" \");\r\n  var row_no;\r\n  var item_name;\r\n  these_classes.forEach(function(this_class){\r\n    if (this_class.indexOf('row_') > -1) {\r\n      row_no = this_class.replace(\"row_\",\"\");\r\n    }\r\n    if (this_class.indexOf('_item') > -1) {\r\n      item_name = this_class.replace(\"_item\",\"\").toLowerCase();\r\n    }\r\n  });\r\n  return [row_no,item_name];\r\n}\r\n\r\nfunction reveal_answers(this_element){\r\n  var this_response = $(\"#\"+this_element.id.replace(\"reveal_\",\"survey_\").replace(\"_feedback\",\"_response\")).val();\r\n  response_present = this_response == \"\" ? false : true;\r\n\r\n  if(settings.feedback_before_response == false && response_present == false){\r\n    bootbox.alert(\"Please respond before trying reveal the feedback.\")\r\n  } else {\r\n    if($(\"#\"+this_element.id).hasClass(\"btn-outline-info\")){\r\n      $(\".\"+this_element.id.replace(\"reveal_\",\"\")).show(500);\r\n      if(settings.lock_after_feedback){\r\n        var item_class = this_element.id.replace(\"_feedback\",\"_item\").replace(\"reveal_\",\"\");\r\n        $(\".\"+item_class).prop(\"disabled\",true);\r\n        document.getElementsByClassName(item_class).title = \"The person creating this content has set it so that your answers are locked in once you have chosen to see the feedback\";\r\n        $(\"#\"+this_element.id).addClass(\"btn-info\");\r\n        $(\"#\"+this_element.id).removeClass(\"btn-outline-info\");\r\n        $(\"#\"+this_element.id).html(\"Locked\");\r\n        document.getElementById(this_element.id).title = 'The person creating this content has set it so that your answers are locked in once you have chosen to see the feedback';\r\n        $(\"#\"+this_element.id).addClass(\"disabled\");\r\n      } else {\r\n        $(\"#\"+this_element.id).html(\"Hide\");\r\n        $(\"#\"+this_element.id).removeClass(\"btn-outline-info\");\r\n        $(\"#\"+this_element.id).addClass(\"btn-info\");\r\n      }\r\n    } else {\r\n      $(\"#\"+this_element.id).html(\"Show\");\r\n      $(\".\"+this_element.id.replace(\"reveal_\",\"\")).hide(500);\r\n      $(\"#\"+this_element.id).addClass(\"btn-outline-info\");\r\n      $(\"#\"+this_element.id).removeClass(\"btn-info\");\r\n    }\r\n  }\r\n}\r\n\r\nfunction row_check(type, row){\r\n  if(type = \"page_break\"){\r\n    return (\r\n      typeof(row[\"text\"]) !== \"undefined\" &&\r\n\t\t  typeof(row[\"type\"]) !== \"undefined\" &&\r\n\t\t  row['text'].toLowerCase() == \"page_break\" |\r\n      row['type'].toLowerCase() == \"page_break\"\r\n    )\r\n\r\n  } else if(type=\"\"){\r\n\r\n  }\r\n}\r\n\r\n// http://stackoverflow.com/questions/962802#962890\r\nfunction shuffle(array) {\r\n  var tmp, current, top = array.length;\r\n  if(top) while(--top) {\r\n    current = Math.floor(Math.random() * (top + 1));\r\n    tmp = array[current];\r\n    array[current] = array[top];\r\n    array[top] = tmp;\r\n  }\r\n  return array;\r\n}\r\n\r\nfunction shuffle_answers(row){\r\n  if(\r\n    typeof(row[\"shuffle_answers\"]) !== \"undefined\" &&\r\n    row[\"shuffle_answers\"].toLowerCase() == \"yes\"\r\n  ){\r\n    var answers = row[\"answers\"].split(\"|\");\r\n    order = shuffle([...Array(answers.length).keys()]);\r\n\r\n    var ordered_answers = order.map(function(position){\r\n      return answers[position];\r\n    });\r\n    row[\"answers\"] = ordered_answers.join(\"|\");\r\n\r\n    if(row[\"values\"].indexOf(\"|\") !== -1){\r\n      var values = row[\"values\"].split(\"|\");\r\n      var ordered_values = order.map(function(position){\r\n        return values[position];\r\n      });\r\n      row[\"values\"] = ordered_values.join(\"|\");\r\n    }\r\n  }\r\n  return row;\r\n}\r\n\r\nfunction update_score(){\r\n  var scales = Object.keys(survey_obj.scales);\r\n  scales.forEach(function(scale){\r\n    this_scale = survey_obj.scales[scale];\r\n    var questions = Object.keys(this_scale.questions);\r\n    var this_score = 0;\r\n    complete_score = true;\r\n\r\n    questions.forEach(function(row_no){\r\n      var item = survey_obj.data[row_no].item_name.toLowerCase();\r\n      var this_response = $(\"#survey_\" + item + \"_response\").val();\r\n      var normal_reverse = this_scale.questions[row_no];\r\n\r\n\r\n      if(normal_reverse.indexOf(\"-\") == -1){\r\n        var multiplier = parseFloat(normal_reverse.replace(\"r\",\"\"));\r\n        if(normal_reverse.indexOf(\"r\") == 0){ //reverse the values\r\n\r\n          this_value = process_score(\r\n            row_no,\r\n            \"values\",\r\n            this_response,\r\n            item,\r\n            \"r\"\r\n          );\r\n        } else {\r\n          this_value = process_score(\r\n            row_no,\r\n            \"values\",\r\n            this_response,\r\n            item\r\n          );\r\n        }\r\n      } else {\r\n        values_reverse = normal_reverse.split(\"-\");\r\n        values_col     = values_reverse[0].toLowerCase();\r\n        normal_reverse = values_reverse[1];\r\n        var multiplier = parseFloat(normal_reverse.replace(\"r\",\"\"));\r\n\r\n        if(normal_reverse.indexOf(\"r\") == 0){ //reverse the values\r\n          this_value = process_score(row_no,values_col,this_response,item,\"r\");\r\n        } else {\r\n          this_value = process_score(row_no,values_col,this_response,item);\r\n        }\r\n      }\r\n      if(typeof(this_value) !== \"undefined\"){\r\n        this_score += multiplier * this_value;\r\n      } else {\r\n        complete_score = false;\r\n      }\r\n    });\r\n    if(complete_score){\r\n      $(\".score_\"+scale).addClass(\"bg-success\");\r\n      $(\".score_\"+scale).removeClass(\"bg-danger\");\r\n      $(\".score_\"+scale).addClass(\"text-light\");\r\n      document.getElementsByClassName(\"score_\"+scale).title = 'All relevant questions have been answered';\r\n    } else {\r\n      $(\".score_\"+scale).removeClass(\"text-success\");\r\n      $(\".score_\"+scale).addClass(\"bg-danger\");\r\n      $(\".score_\"+scale).addClass(\"text-light\");\r\n      document.getElementsByClassName(\"score_\"+scale).title = 'At least one relevant questions has NOT been answered';\r\n    }\r\n    $(\".score_\"+scale).val(this_score);\r\n  });\r\n}\r\n\r\nfunction write(type, row){\r\n  var this_html = \"\";\r\n  [feedback_array, feedback_color] = get_feedback(row);\r\n  row = shuffle_answers(row);\r\n  row[\"item_name\"] = row[\"item_name\"].toLowerCase();\r\n\r\n\r\n  if(type == \"checkbox_horizontal\"){\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var this_table = $(\"<table>\");\r\n        this_row = this_table[0].insertRow()\r\n    for(var i=0; i<options.length;i++){\r\n      var this_cell = this_row.insertCell();\r\n      var this_div = $(\"<div>\");\r\n          this_div.addClass(\"custom-control\");\r\n          this_div.addClass(\"custom-checkbox\");\r\n      var this_input = $(\"<input>\");\r\n          this_input[0].type = \"checkbox\";\r\n          this_input[0].id = row[\"item_name\"] + i;\r\n          this_input[0].name = 'survey_' + row[\"item_name\"];\r\n          this_input.addClass(\"custom-control-input\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(row[\"custom-control\"])\r\n            .addClass(row[\"custom-checkbox\"])\r\n            .addClass(row[\"item_name\"] +'_item')\r\n            .addClass('row_' + row[\"row_no\"]);\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"] + i;\r\n          this_label[0].innerText = options[i];\r\n          this_label.addClass(\"custom-control-label\");\r\n      this_div.append(this_input)\r\n              .append(this_label);\r\n      this_cell.innerHTML = this_div[0].outerHTML;\r\n    }\r\n\r\n    this_html += this_table[0].outerHTML;\r\n\r\n  } else if(type == \"checkbox_single\"){\r\n\r\n    var this_div = $(\"<div>\");\r\n        this_div.attr(\"data-toggle\", \"buttons\");\r\n        this_div.addClass(\"btn-group-toggle\");\r\n    var this_label = $(\"<label>\");\r\n        this_label.addClass(\"btn\");\r\n        this_label.addClass(\"btn-outline-primary\");\r\n        this_label.html(row[\"answers\"]);\r\n    var this_checkbox = $(\"<input>\");\r\n        this_checkbox[0].id = row[\"item_name\"];\r\n        this_checkbox[0].name = \"survey_\" +\r\n          row[\"item_name\"].toLowerCase();\r\n        this_checkbox[0].type = \"checkbox\";\r\n        this_checkbox.attr(\"checked\",true);\r\n        this_checkbox\r\n          .addClass(\"response\")\r\n          .addClass(\r\n            row[\"item_name\"] +\r\n            '_item row_' +\r\n            row[\"row_no\"]\r\n          );\r\n    this_div.append(this_label);\r\n    this_label.append(this_checkbox)\r\n    this_html += this_div[0].outerHTML;\r\n\r\n  } else if(type == \"checkbox_vertical\"){\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var values  = row[\"values\"].split(\"|\");\r\n    for(var i = 0; i < options.length; i++){\r\n      feedback_string = generate_feedback_string(\r\n        feedback_array, i, feedback_color, row\r\n      );\r\n      var this_div = $(\"<div>\");\r\n          this_div\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-checkbox\");\r\n      var this_checkbox = $(\"<input>\");\r\n          this_checkbox[0].id= row[\"item_name\"]+ i;\r\n          this_checkbox[0].value = options[i];\r\n          this_checkbox[0].type = \"checkbox\";\r\n          this_checkbox[0].name = 'survey_'+\r\n            row[\"item_name\"].toLowerCase();\r\n          this_checkbox\r\n            .addClass(\"custom-control-input\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-checkbox\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"item_name\"] + \"_item_row\");\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"] + i;\r\n          this_label[0].innerHTML = options[i];\r\n          this_label.addClass(\"custom-control-label\");\r\n      this_div.append(this_checkbox)\r\n              .append(this_label);\r\n\r\n      this_html += this_div[0].outerHTML;\r\n    }\r\n    if(typeof(row[\"other\"]) !== \"undefined\" && row[\"other\"].toLowerCase() == \"yes\"){\r\n      var this_div = $(\"<div>\");\r\n          this_div\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-checkbox\");\r\n      var this_checkbox = $(\"<input>\");\r\n          this_checkbox[0].id= row[\"item_name\"]+ \"_other\";\r\n          this_checkbox[0].value = \"Other\";\r\n          this_checkbox[0].type = \"checkbox\";\r\n          this_checkbox[0].name = 'survey_'+\r\n            row[\"item_name\"].toLowerCase();\r\n          this_checkbox\r\n            .addClass(\"custom-control-input\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-checkbox\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"item_name\"] + \"_item_row\");\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"] + \"_other\";\r\n          this_label[0].innerHTML = \"Other\";\r\n          this_label.addClass(\"custom-control-label\");\r\n      this_div.append(this_checkbox)\r\n              .append(this_label);\r\n\r\n      this_html += this_div[0].outerHTML;\r\n\r\n      var text_input = $(\"<input>\");\r\n          text_input.addClass(\"form-control\");\r\n          text_input.attr(\"placeholder\", \"(Please specify if you selected 'Other')\");\r\n          text_input[0].name = 'survey_'+\r\n            row[\"item_name\"].toLowerCase() +\r\n            \"_other\";\r\n      this_html += text_input[0].outerHTML;\r\n    }\r\n\r\n  } else if(type == \"date\"){\r\n    var input = $(\"<input>\");\r\n        input.addClass(\"response\")\r\n             .addClass(\"custom-control\")\r\n             .addClass(\"datepicker\")\r\n             .addClass(\"date\")\r\n             .addClass(row[\"item_name\"] + \"_item\")\r\n             .addClass(\"row_\" + row[\"row_no\"])\r\n             .attr(\"name\", \"survey_\" + row['item_name'])\r\n             .attr(\"type\", \"text\");\r\n\r\n  } else if(type == \"dropdown\"){\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var this_dropdown = $(\"<select>\");\r\n        this_dropdown\r\n          .addClass(\"form-select\")\r\n          .addClass(\"response\")\r\n          .addClass(\"txt-primary\")\r\n          .addClass(row[\"item_name\"] + \"_item\")\r\n          .addClass(\"row_\" + row[\"row_no\"])\r\n          .addClass(\"collector_button\")\r\n          .attr(\"name\", \"survey_\" + row[\"item_name\"])\r\n          .css(\"margin\", \"0px\")\r\n          .css(\"width\", \"auto\");\r\n\r\n    /* this will be necessary to tidy up jumbled sentences\r\n    if(typeof(row[\"item_name_old\"]) !== \"undefined\"){\r\n      this_dropdown.addClass(row[\"item_name_old\"] + \"_item\");\r\n    }\r\n    */\r\n\r\n    this_dropdown.append(\"<option selected disabled hidden>-- no option selected --</option>\");\r\n    options.forEach(function(this_option){\r\n      this_dropdown.append(\r\n        \"<option>\" + this_option + \"</option>\"\r\n      );\r\n    });\r\n    var this_html = this_dropdown[0].outerHTML;\r\n\r\n  } else if(type == \"email\"){\r\n    var this_input = $(\"<input>\");\r\n        this_input\r\n          .addClass(\"form-control\")\r\n          .addClass(\"response\")\r\n          .addClass(row[\"item_name\"] + \"_item row_\" + row[\"row_no\"])\r\n          .attr(\"type\", \"email\")\r\n          .attr(\"name\", 'survey_' + row['item_name']);\r\n\r\n  } else if(type == \"instruct\"){\r\n    this_html += \"<td colspan='2'>\" + row[\"text\"] + \"</td>\";\r\n  } else if(type == \"jumbled\"){\r\n    var this_td = $(\"<td>\");\r\n        this_td.attr(\"colspan\",2) ;\r\n\r\n    var this_div = $(\"<div>\");\r\n        this_div.addClass(\"form-inline\")\r\n                .addClass(\"bg-secondary\")\r\n                .addClass(\"text-white\")\r\n                .css(\"width\", \"100%\")\r\n                .css(\"padding\", \"20px\")\r\n                .css(\"margin\", \"20px\")\r\n                .css(\"border-radius\", \"5px\");\r\n\r\n    var question = row[\"text\"].split(\"|\");\r\n    questions_html = question.map(function(text,index){\r\n      if(index == question.length - 1){\r\n        return text;\r\n      } else {\r\n        var row_x = row;\r\n        row_x[\"item_name_old\"] = row_x[\"item_name\"];\r\n        row_x[\"item_name\"]     = row_x[\"item_name\"] + \"_\" + index;\r\n        var row_html = text + write(\"dropdown\", row_x)\r\n          .replace(\"margin: 0px\",\"margin: 5px\");\r\n        row_x[\"item_name\"] = row_x[\"item_name_old\"];\r\n        return row_html;\r\n      }\r\n    }).join(\"\");\r\n\r\n    this_td.append(this_div);\r\n    this_div.append(questions_html);\r\n\r\n    this_html = this_td[0].outerHTML;\r\n\r\n  } else if(type == \"likert\"){\r\n    // set styles\r\n    if(typeof(row[\"btn_width\"]) == \"undefined\"){\r\n      row[\"btn_width\"] = \"auto\"\r\n    }\r\n    if(typeof(row[\"side_width\"]) == \"undefined\"){\r\n      var side_width = \"auto\";\r\n    }\r\n\r\n    // create and build these elements\r\n    var this_div = $(\"<div>\");\r\n    if(typeof(row[\"side_text\"]) !== \"undefined\" &&\r\n      row[\"side_text\"] !== \"\"\r\n    ){\r\n      side_text = row[\"side_text\"].split(\"|\");\r\n      side_text = side_text.map(function(this_side){\r\n        var this_span = $(\"<span>\");\r\n            this_span.css(\"width\", side_width)\r\n                     .css(\"padding\", \"20px\")\r\n                     .addClass(\"text-primary\")\r\n                     .html(\"<b>\" + this_side + \"</b>\");\r\n        return this_span[0].outerHTML;\r\n      });\r\n    } else {\r\n      side_text = [\"\",\"\"];\r\n    }\r\n\r\n    this_div\r\n      .addClass(\"btn-group\")\r\n      .addClass(\"btn-group-toggle\")\r\n      .append(side_text[0])\r\n      .attr(\"data-togle\",\"buttons\");\r\n\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var values  = row[\"values\"].split(\"|\");\r\n    for(var i=0; i<options.length;i++){\r\n      var this_button = $(\"<button>\");\r\n          this_button\r\n            .attr(\"autocomplete\", \"off\")\r\n            .attr(\"id\", 'likert_' + row[\"row_no\"] + '_' + i)\r\n            .attr(\"onclick\",'likert_update(this)')\r\n            .attr(\"value\", values[i])\r\n            .addClass(\"btn\")\r\n            .addClass(\"btn-outline-primary\")\r\n            .addClass(\"survey_btn\")\r\n            .addClass(\r\n              row[\"item_name\"] + '_item row_' + row[\"row_no\"]\r\n            )\r\n            .css(\"width\", row[\"btn_width\"])\r\n            .html(clean_item(options[i]));\r\n      this_div.append(this_button);\r\n    }\r\n    this_div.append(side_text[1]);\r\n    this_html += this_div[0].outerHTML;\r\n\r\n  } else if(type == \"number\"){\r\n    var this_input = $(\"<input>\");\r\n        this_input[0].type = \"number\";\r\n        this_input[0].name = 'survey_' + row['item_name'];\r\n        this_input\r\n          .addClass(\"response\")\r\n          .addClass(\"form-control\")\r\n          .addClass(row[\"item_name\"] + \"_item row_\" + row[\"row_no\"]);\r\n    this_html += this_input[0].outerHTML;\r\n\r\n  } else if(type == \"para\"){\r\n    var this_textarea = $(\"<textarea>\");\r\n        this_textarea[0].name = \"survey_\" + row['item_name'];\r\n        this_textarea\r\n          .addClass(row[\"item_name\"] + \"_item row_\" + row[\"row_no\"])\r\n          .addClass(\"response\");\r\n        this_textarea.css(\"width\", \"100%\")\r\n                     .css(\"height\", \"200px\");\r\n    this_html += this_textarea[0].outerHTML;\r\n\r\n  } else if(type == \"radio_horizontal\"){\r\n\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var this_table = $(\"<table>\");\r\n        this_row = this_table[0].insertRow()\r\n    for(var i=0; i<options.length;i++){\r\n      var this_cell = this_row.insertCell();\r\n      var this_div = $(\"<div>\");\r\n          this_div.addClass(\"custom-control\");\r\n          this_div.addClass(\"custom-radio\");\r\n      var this_input = $(\"<input>\");\r\n          this_input[0].type = \"radio\";\r\n          this_input[0].id = row[\"item_name\"] + i;\r\n          this_input[0].name = 'survey_' + row[\"item_name\"];\r\n          this_input.addClass(\"custom-control-input\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(row[\"custom-control\"])\r\n            .addClass(row[\"custom-radio\"])\r\n            .addClass(row[\"item_name\"] +'_item')\r\n            .addClass('row_' + row[\"row_no\"]);\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"] + i;\r\n          this_label[0].innerText = options[i];\r\n          this_label.addClass(\"custom-control-label\");\r\n      this_div.append(this_input)\r\n              .append(this_label);\r\n      this_cell.innerHTML = this_div[0].outerHTML;\r\n    }\r\n    this_html += this_table[0].outerHTML;\r\n\r\n  } else if(type == \"radio_vertical\"){\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var values  = row[\"values\"].split(\"|\");\r\n    for(var i=0; i<options.length; i++){\r\n      feedback_string = generate_feedback_string(\r\n        feedback_array, i, feedback_color,row\r\n      );\r\n      var this_div = $(\"<div>\");\r\n          this_div\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-radio\");\r\n      var this_input = $(\"<input>\");\r\n          this_input[0].type  = \"radio\";\r\n          this_input[0].id    = row[\"item_name\"] + i;\r\n          this_input[0].value = options[i];\r\n          this_input[0].name  = 'survey_' + row[\"item_name\"];\r\n          this_input\r\n            .addClass(\"custom-control-input\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-radio\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"item_name\"] + \"_item_row_\" + row[\"row_no\"]);\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"]+i;\r\n          this_label.addClass(\"custom-control-label\");\r\n          this_label.html(options[i]);\r\n      this_div\r\n        .append(this_input)\r\n        .append(this_label)\r\n        .append(feedback_string);\r\n      this_html += this_div[0].outerHTML;\r\n    }\r\n\r\n  } else if(type == \"text\"){\r\n    var this_input = $(\"<input>\");\r\n        this_input[0].type=\"text\";\r\n        this_input[0].name=\"survey_\" + row['item_name'];\r\n        this_input\r\n          .addClass(\"form-control\")\r\n          .addClass(row[\"item_name\"] + \"_item row_\" + row[\"row_no\"])\r\n          .addClass(\"response\")\r\n    this_html += this_input[0].outerHTML;\r\n  }\r\n\r\n  switch(type){\r\n    case \"checkbox_vertical\":\r\n    case \"radio_vertical\":\r\n      // do nothing\r\n      break;\r\n    default:\r\n      this_html += generate_feedback_string(\r\n        feedback_array,\r\n        0,\r\n        feedback_color,\r\n        row\r\n      );\r\n      break;\r\n  }\r\n\r\n  return (this_html);\r\n}\r\n\r\nfunction write_survey(this_survey, this_id){\r\n  scoring_object.update_scales(this_survey);\r\n  survey_html = \"<table class='table_break' id='table0'>\";\r\n  this_survey_object={\r\n    content:[],\r\n    shuffle_question:[],\r\n    content_new_order:[],\r\n    shuffled_content:[],\r\n    shuffled_arrays:{},\r\n  }\r\n\r\n  survey_html += \"<tr>\";\r\n  for(i = 0; i < this_survey.length; i++){\r\n    row = this_survey[i];\r\n    row_html = process_question(row,i);\r\n\t\tthis_survey_object.content.push(row_html[0]);\r\n    this_survey_object.shuffle_question.push(row_html[1]);\r\n\t}\r\n\r\n\tunique_shuffles = this_survey_object.shuffle_question.filter((v,i,a)=>a.indexOf(v)==i); //by Camilo Martin on https://stackoverflow.com/questions/1960473/unique-values-in-an-array\r\n\r\n\tfor(var i=0;i<unique_shuffles.length;i++){\r\n    if(typeof(unique_shuffles[i]) !== \"undefined\" &&\r\n      unique_shuffles[i] !== \"none\" &&\r\n      unique_shuffles[i] !== \"\"){\r\n        shuffled_content = this_survey_object.shuffle_question.map(function(element,index){\r\n    \t   if(typeof(element)!== \"undefined\" && element.toLowerCase() !== \"none\" && element.toLowerCase() == unique_shuffles[i]){\r\n  \t       return this_survey_object.content[index];\r\n    \t   }\r\n    \t}).filter(elm => typeof(elm) !== \"undefined\");\r\n    \tnew_order = shuffle(shuffled_content);\r\n    \tthis_survey_object.shuffled_arrays[unique_shuffles[i]]=new_order; // add new array with dynamic name\r\n    }\r\n\t}\r\n\r\n\tfor(var i=0;i<this_survey_object.content.length;i++){\r\n    var this_index = Object.keys(this_survey_object.shuffled_arrays).indexOf(this_survey_object.shuffle_question[i]);\r\n    if(this_index !== -1){\r\n      //take first item off relevant list and delete item\r\n      var this_item = this_survey_object.shuffled_arrays[Object.keys(this_survey_object.shuffled_arrays)[this_index]].shift();\r\n      this_survey_object.content_new_order[i]=this_item;\r\n    } else {\r\n      this_survey_object.content_new_order[i]=this_survey_object.content[i];\r\n    }\r\n\t}\r\n\r\n\tqs_in_order = this_survey_object.content_new_order.join(\"</tr><tr>\");\r\n\tqs_in_order += \"</tr>\";\r\n\r\n\tsurvey_html += qs_in_order;\r\n\tsurvey_html += \"</table>\";\r\n\r\n\t$(\"#\" + this_id).html(survey_html);\r\n\r\n  $(\".response\").on(\"change\", function(){\r\n    response_check(this);\r\n  })\r\n\r\n  $(\"#\" + this_id).show(1000); //scroll to top\r\n\r\n\t$(\".show_tab\").on(\"click\",function(){\r\n    if(this.className.indexOf(\"disabled\") == -1){\r\n      $(\".show_tab\").removeClass(\"active\");\r\n      $(\".survey_page\").hide();\r\n      $(\"#\"+this.id.replace(\"_button\",\"\")).show();\r\n    } else {\r\n      bootbox.alert(\"You have not yet unlocked this tab - maybe try clicking on <b>Proceed</b>?\");\r\n    }\r\n\t});\r\n}\r\n\r\n/*\r\n* Load survey\r\n*/\r\ncurrent_survey = \"{{survey}}\";\r\nif(typeof(Phase) !== \"undefined\"){\r\n  Phase.set_timer(function(){\r\n    load_survey(current_survey);\r\n  },100);\r\n} else {\r\n  load_survey(current_survey);\r\n}\r\n</script>\r\n",
          "webgazer_3": "<!--\r\n    This is based on code from the OSF repository <a href=\"https://osf.io/jmz79/\" target=\"_blank\">https://osf.io/jmz79/</a> which accompanies the publication \"Online webcam-based eye tracking in cognitive science: a first look\" by Semmelmann & Weigelt, published in Behavior Research Methods in 2017. Please find the abstract and information about the code, analyses, and data below. This work is intended for scientific use only.\r\nWritten by Kilian Semmelmann, tolcam@ksemmelm.de, 2017. <br><br>\r\n\r\nUpdates by Anthony Haffey (a.haffey@reading.ac.uk) 2020-21 to make this a task that works on Collector.\r\n-->\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <link href=\"libraries/webgazer/css/jquery-ui.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <link href=\"libraries/webgazer/css/jquery.mobile-1.4.5.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <link href=\"libraries/webgazer/css/tolcam.css\" type=\"text/css\" rel=\"stylesheet\">\r\n    <script src=\"libraries/webgazer/js/jquery-1.12.3.min.js\"></script>\r\n    <script src=\"libraries/webgazer/js/jquery-ui.js\"></script>\r\n    <script src=\"libraries/webgazer/js/jquery.mobile-1.4.2.min.js\"></script>\r\n    <script src=\"libraries/webgazer/js/simpleheat.js\"></script>\r\n</head>\r\n<style>\r\n.stimuli_img, .stimuli_video{\r\n  object-fit: fill;\r\n  margin:auto;\r\n  top:0;\r\n  bottom:0;\r\n  vertical-align: middle;\r\n  position: absolute;\r\n  transform: translate(-50%, 0);\r\n  left: 50%;\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n}\r\n\r\n#stimuli_fixation{\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  -moz-transform: translateX(-50%) translateY(-50%);\r\n  -webkit-transform: translateX(-50%) translateY(-50%);\r\n  transform: translateX(-50%) translateY(-50%);\r\n  font-size:100px;\r\n  text-align:center;\r\n  height:150px;\r\n}\r\n</style>\r\n<body>\r\n  <div id=\"instruction\">\r\n    <div id=\"instruction_1\" class=\"instruction_page\">\r\n      Thank you for participating in this project. You will need to use your camera for eye-tracking to work in this experiment.\r\n    </div>\r\n\r\n    <div id=\"instruction_2\" class=\"instruction_page\">\r\n      <h1>Webcam Setup</h1>\r\n      <br />\r\n      <div id=\"setup_after\">\r\n          You can take a short break and move your head. Before continuing, please follow the instructions noted below.<br />\r\n      </div>\r\n      <br />\r\n      Please turn off your mobile phone and close all other programs and websites. Then carefully read and follow these instructions:<br />\r\n      <img src=\"libraries/webgazer/imgs/instructions_donttilt.png\" style = \"width: 100%; margin-top: 20px; margin-bottom: 20px;\"/> <br>\r\n      If possible, please adjust your position until your face matches the picture below as much as possible:<br />\r\n      <br />\r\n      <table>\r\n        <tr>\r\n          <td>\r\n            <img style=\"height:300px;width:400px; -webkit-transform: scaleX(-1); transform:scaleX(-1);\" src=\"libraries/webgazer/imgs/ideal_pose.png\"/>\r\n          </td>\r\n          <td>\r\n            <span id=\"webcam_insert\"></span>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      <br />\r\n      <div id=\"setup_first\">\r\n          This study consists of multiple five-minute parts with pauses inbetween. After you clicked \"start\", please avoid moving your head. If you move too much, the calibration can fail and you might not be able to finish the Project.\r\n      </div>\r\n      <br />\r\n    </div>\r\n\r\n    <div id=\"instruction_3\" class=\"instruction_page\">\r\n      <div id=\"beforetherest\">\r\n        <h1>Proceed</h1>\r\n        <br />\r\n        Click \"Proceed\" to move onto the next trial\r\n        <button onclick=\"Phase.submit()\" class=\"btn\">Proceed</button>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"instruction_back\" class=\"instruction_navigation\">\r\n      <div id=\"instruction_back_text\">\r\n        &lt;\r\n      </div>\r\n    </div>\r\n    <div id=\"instruction_continue\" class=\"instruction_navigation\">\r\n      <div id=\"instruction_continue_text\">\r\n        &gt;\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div id=\"calibration_dot\" class=\"stimuli\">\r\n    <div id=\"calibration_cnt\">0</div>\r\n  </div>\r\n  <div id=\"stimulus\" class=\"stimuli\">\r\n    <img src=\"libraries/webgazer/imgs/talking.jpg\" />\r\n  </div>\r\n  <div id=\"stimuli_div\"></div> \r\n  <div id=\"stimuli_dot\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_bar\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_fixation\" class=\"stimuli\">+</div>\r\n  <div id=\"stimuli_prime\" class=\"stimuli\"></div>\r\n  <div id=\"stimuli_target\" class=\"stimuli\">X</div>\r\n  <div id=\"instruction_message\"></div>\r\n\r\n  <div id=\"message\">\r\n    no message\r\n  </div>\r\n \r\n  <!-- data quality info -->\r\n  <input type=\"hidden\" name=\"window_inner_height\" id=\"window_inner_height\"/>\r\n  <input type=\"hidden\" name=\"window_inner_width\"  id=\"window_inner_width\"/>\r\n  <input type=\"hidden\" name=\"fixation_rts\"        id=\"fixation_rts\"/>\r\n \r\n</body>\r\n</html>\r\n<script>\r\n\r\n/*\r\n* Haffey variables\r\n*/\r\n\r\nvar all_fixation_rts = [];\r\n\r\nvar image_pair;\r\nPhase.set_timer(function(){\r\n  function refuse_height(){\r\n    bootbox.confirm(\"Your window height needs to be at least {{min_height}} before starting. Please make your window as big as possible before proceeding.\", function(result){\r\n      if(window.innerHeight < parseFloat(\"{{min_height}}\".replace(\"px\",\"\"))){\r\n        refuse_height();\r\n      } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n    });\r\n  };\r\n  function refuse_width(){\r\n    bootbox.confirm(\"Your window width needs to be at least {{min_width}} before starting. Please make your window as big as possible before proceeding.\", function(result){\r\n      if(window.innerWidth < parseFloat(\"{{min_width}}\".replace(\"px\",\"\"))){\r\n        refuse_width();\r\n      } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n    });\r\n  }\r\n  if(window.innerHeight < parseFloat(\"{{min_height}}\".replace(\"px\",\"\"))){\r\n    refuse_height();\r\n  } else {\r\n        $(\"#window_inner_height\").val(window.innerHeight);\r\n        $(\"#window_inner_width\").val(window.innerWidth);\r\n      }\r\n  if(window.innerWidth <  parseFloat(\"{{min_width}}\".replace(\"px\",\"\"))){\r\n    refuse_width();\r\n  } else {\r\n    $(\"#window_inner_height\").val(window.innerHeight);\r\n    $(\"#window_inner_width\").val(window.innerWidth);\r\n  }\r\n},0);\r\n\r\n\r\n/*\r\n* default settings\r\n*/\r\n\r\nvar calibrations     = \"{{calibrations}}\";\r\nvar image_file       = \"{{image_file}}\"; \r\nvar design_type      = \"{{design_type}}\"; \r\nvar calibration_skip = \"{{calibration_skip}}\";\r\nvar image_height     = \"{{image_height}}\";\r\nvar image_width      = \"{{image_width}}\";\r\nvar left_side        = \"{{left_side}}\";\r\nvar stim_duration    = \"{{stim_duration}}\";\r\nvar trials           = \"{{trials}}\";\r\nvar trial_order      = \"{{trial_order}}\";\r\n\r\nvar save_scripts = Object.keys(parent.parent.project_json.storage_scripts).map(function(server){\r\n  return parent.parent.project_json.storage_scripts[server];\r\n});\r\n\r\n\r\n/*\r\n* work out the location of the images\r\n*/\r\n\r\nif(calibrations.indexOf(\"calibrations\") !== -1){\r\n  calibrations = 13;\r\n}\r\nif(calibration_skip.indexOf(\"calibration_skip\") !== -1){\r\n  calibration_skip = \"no\";\r\n}\r\nconsole.log(stim_duration);\r\nif(stim_duration < 1){\r\n  stim_duration = 2000;\r\n}\r\nif(left_side.indexOf(\"left_side\") !== -1){\r\n  left_side = \"counterbalance\";  \r\n}\r\n\r\n\r\n\r\n\r\n/************************************\r\n * HELPER FUNCTIONS\r\n ************************************/\r\n/**\r\n * Shuffles array in place.\r\n * @param {Array} a items The array containing the items.\r\n * @author http://stackoverflow.com/a/2450976/4175553\r\n */\r\nfunction shuffle(array) {\r\n  var currentIndex = array.length, temporaryValue, randomIndex;\r\n\r\n  // While there remain elements to shuffle...\r\n  while (0 !== currentIndex) {\r\n\r\n    // Pick a remaining element...\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n\r\n    // And swap it with the current element.\r\n    temporaryValue = array[currentIndex];\r\n    array[currentIndex] = array[randomIndex];\r\n    array[randomIndex] = temporaryValue;\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\n/************************************\r\n * WEBCAM PARAMETERS\r\n ************************************/\r\nvar cam = {};\r\ncam.overlay = '';\r\ncam.width = 400;\r\ncam.height = 300;\r\ncam.topDist = '0px';\r\ncam.leftDist = '0px';\r\ncam.recording = 0;\r\ncam.validating = 0;\r\ncam.calibrating = 0;\r\ncam.initialized = 0;\r\n\r\n/************************************\r\n * CALIBRATION PARAMETERS\r\n ************************************/\r\nvar calibrating = 0;\r\nvar t_calibration_start;\r\nvar calibration_no = 0;\r\nvar calibration = {};\r\ncalibration.points = [];\r\ncalibration.method = \"watch\"; // click or watch\r\ncalibration.calibrations = calibrations // how many calibration dots\r\ncalibration.duration = 20; // how often does one position get sampled\r\ncalibration.instruction = 'Please look at each dot until <br /> it disappears. <br /><br />Please do not move your head,<br />only move your eyes.';\r\nif(\"{{skip_instruct}}\" == \"on\"){\r\n  calibration.instruction_duration = 0;\r\n} else {\r\n  calibration.instruction_duration = 10000;\r\n}\r\n\r\n/************************************\r\n * VALIDATION PARAMETERS\r\n ************************************/\r\nvar validating = 0;\r\nvar validation_no = 0;\r\nvar validation_current = {\"x\": 0, \"y\": 0};\r\nvar validation_attempt = 1;\r\nvar validation = {};\r\nvalidation.validations = 5;\r\nvalidation.duration = 20;\r\nvalidation.points = [];\r\nvalidation.timeout = 20000; // if no validation happens within X ms, validation will be ended and re-calibrated\r\nvalidation.attempts = 5; // how often can validation be failed PER validation\r\nvalidation.distance = 200; // offset distance in pixel to be a valid validation sample\r\n\r\n\r\n/************************************\r\n* STARTING PARAMETERS\r\n*************************************/\r\nvar stimuli_no = 0;\r\n\r\n/************************************\r\n * DESIGN\r\n ************************************/\r\nvar design = {};\r\nvar block_no = 0;\r\nvar trial_no = 0;\r\n\r\neyetrack_designs = {\r\n  stimuli: {\r\n    'type': 'stimuli',\r\n    'trials': trials,\r\n    'iti': 500,\r\n    'instruction': '{{text}}',\r\n    'instruction_duration': 10000\r\n  },\r\n  simple: {\r\n    'type': 'simple',\r\n    'trials': 24,\r\n    'iti': 500,\r\n    'instruction': 'Please look at the cross.<br />When the dot appears, please look at it.<br /><br /><br />Do not move your head, <br />only use your eyes.',\r\n    'instruction_duration': 5000\r\n  },\r\n  pursuit: {\r\n    'type': 'pursuit', \r\n    'trials': 24,\r\n    'iti': 500,\r\n    'instruction': 'A black dot will appear. Please <br />look at it. When it turns <span style=\"color: #dd494b;\">red</span>,<br /> Please follow its movement with your eyes.<br /><br />Do not move your head, <br />only use your eyes.',\r\n    'instruction_duration': 7000\r\n  }\r\n}\r\n\r\nif(\"{{skip_instruct}}\" == \"on\"){\r\n  eyetrack_designs.stimuli.instruction_duration = 0;\r\n}\r\n\r\n\r\ndesign.blocks = [\r\n  eyetrack_designs[[\"{{design_type}}\"]]\r\n];\r\n\r\n//design.blocks = shuffle(design.blocks);\r\ndesign.blocks_randomized = 1; // shall the blocks be shuffled?\r\ndesign.trials_randomized = 1; // same for trials\r\ndesign.calibrate = \"high\";\r\ndesign.recalibrate = 1;\r\n\r\n\r\n\r\n/************************************\r\n * DATA VARIABLES\r\n ************************************/\r\nvar data = [];\r\nvar data_current = {};\r\nvar status = '-';\r\n\r\n/**\r\ndata.design = jQuery.extend(true, {}, design);\r\n **/\r\n\r\n/************************************\r\n * SET UP WEBGAZER\r\n ************************************/\r\nfunction loadWebgazer() {\r\n  $('canvas').remove();\r\n  cam.initialized = 0;\r\n  $.getScript( \"libraries/webgazer/js/webgazer_old.js\" )\r\n    .done(function( script, textStatus ) {\r\n      initializeWebgazer();\r\n      $('#message').html('Please allow for access on your Webcam on the top part of the screen. <br /><br />Remember: We will NOT transmit your video, but only process it locally and transmit numbers to our server.').show();\r\n    })\r\n    .fail(function( jqxhr, settings, exception ) {\r\n      $( \"div.log\" ).text( \"Triggered ajaxError handler.\" );\r\n    });\r\n}\r\n\r\n\r\nfunction initializeWebgazer() {\r\n \r\n  //webgazer.clearData()\r\n  webgazer.setRegression('ridge') /* currently must set regression and tracker */\r\n    .setTracker('clmtrackr')\r\n    .setGazeListener(function(d, clock) {\r\n      //console.log(data); /* data is an object containing an x and y key which are the x and y prediction coordinates (no bounds limiting) */\r\n      //console.log(clock); /* elapsed time in milliseconds since webgazer.begin() was called */\r\n      if (d !== null) {\r\n\r\n        if (cam.calibrating == 1) {\r\n            var $cd = $('#calibration_dot');\r\n            var cx = parseInt(Math.round($cd.offset().left));\r\n            var cy = parseInt(Math.round($cd.offset().top));\r\n            var cp = d;\r\n            var dist = Math.sqrt(((cp.x - cx) * (cp.x - cx)) + ((cp.y - cy) * (cp.y - cy)));\r\n            var c = $('#calibration_cnt').html();\r\n            data_current.raw.push({'time': clock, 'x': cp.x, 'y': cp.y, 'cx': cx, 'cy': cy, 'dist': dist, 'c': c});\r\n        }\r\n\r\n\r\n        if (cam.validating == 1) {\r\n            // see whether dx and dy are within 100px radius of target\r\n            var dist = parseInt(Math.sqrt(((d.x - validation_current.x) * (d.x - validation_current.x)) + ((d.y - validation_current.y) * (d.y - validation_current.y))));\r\n            var c = parseInt($('#calibration_cnt').html());\r\n            if (dist < validation.distance) {\r\n                data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'vx': validation_current.x, 'vy': validation_current.y, 'dist': dist, 'c': c, 'valid': 1});\r\n                if (c < calibration.duration) {\r\n                    $('#calibration_cnt').html(++c);\r\n                } else {\r\n                    cam.validating = 0;\r\n                    clearTimeout(t);\r\n                    $('#calibration_dot').hide();\r\n                    validation_no++;\r\n                    saveData();\r\n                    setTimeout(\"validate();\", 500);\r\n                }\r\n            } else {\r\n                data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'vx': validation_current.x, 'vy': validation_current.y, 'dist': dist, 'c': c, 'valid': 0});\r\n            }\r\n        }\r\n\r\n        if (cam.recording == 1) {\r\n            var tx = -1;\r\n            var ty = -1;\r\n            if (data_current.task == \"simple\" || data_current.task == \"pursuit\") {\r\n                var $sd = $('#stimuli_dot');\r\n                var tx = parseInt(Math.round($sd.offset().left));\r\n                var ty = parseInt(Math.round($sd.offset().top));\r\n            }\r\n            data_current.raw.push({'time': clock, 'x': d.x, 'y': d.y, 'tx': tx, 'ty': ty, 'status': status});\r\n            //console.log(data.trials[trial_no].raw.length + ' ' + d.x + ' ' + d.y);\r\n        }\r\n      }\r\n    })\r\n    .begin()\r\n    .showPredictionPoints(false); /* shows a square every 100 milliseconds where current prediction is */\r\n\r\n  cl = webgazer.getTracker().clm;\r\n\r\n  checkWebgazer();\r\n}\r\n\r\n\r\nfunction checkWebgazer() {\r\n  if (webgazer.isReady()) {\r\n    console.log('webgazer is ready.');\r\n    initializeCam();\r\n  } else {\r\n    setTimeout(checkWebgazer, 100);\r\n  }\r\n}\r\n\r\n/************************************\r\n * SET UP WEBCAM\r\n ************************************/\r\nfunction initializeCam() {\r\n  var video = document.getElementById('webgazerVideoFeed');\r\n  video.style.display = 'block'; // block\r\n  video.style.position = 'relative';\r\n  video.width = cam.width;\r\n  video.height = cam.height;\r\n  video.style.margin = '0px';\r\n  $('#webgazerVideoFeed').css({\r\n    'left': '50%',\r\n    '-webkit-transform': 'scaleX(-1)',\r\n    'transform': 'scaleX(-1) translate(50%, 0)',\r\n    'margin': '20px'\r\n  }).detach().insertAfter('#webcam_insert').get(0).play();\r\n \r\n  webgazer.params.imgWidth = cam.width;\r\n  webgazer.params.imgHeight = cam.height;\r\n\r\n  cam.overlay = document.getElementById('overlay');\r\n  if (cam.overlay === null) {\r\n      cam.overlay = document.createElement('canvas');\r\n      cam.overlay.id = 'overlay';\r\n      document.body.appendChild(cam.overlay);\r\n  }\r\n  cam.overlay.style.position = 'absolute';\r\n  cam.overlay.width = cam.width;\r\n  cam.overlay.height = cam.height;\r\n  cam.overlay.style.top = cam.topDist;\r\n  cam.overlay.style.left = cam.leftDist;\r\n  cam.overlay.style.margin = '0px';\r\n\r\n  cam.initialized = 1;\r\n\r\n  $('#message').html('Webcam access successful.').delay(1000).fadeOut(1000);\r\n  $(\"#instruction_continue\").show();\r\n  parent.parent.requestFullScreen(parent.parent.document.documentElement);\r\n}\r\n\r\n/************************************\r\n * START BLOCKS\r\n ************************************/\r\nfunction prepareBlock() {\r\n  if (cam.initialized == 1) {\r\n    if (block_no < design.blocks.length) {\r\n      trial_no = 0;\r\n\r\n      webgazer.resume();\r\n      if (design.recalibrate == 1 || block_no == 0) {\r\n        $('#instruction_message').html(calibration.instruction).show();\r\n        setTimeout(\"$('#instruction_message').fadeOut(1000);\", calibration.instruction_duration);\r\n        setTimeout(\"startCalibration();\", design.blocks[block_no].instruction_duration + 2000);\r\n      } else {\r\n        $('#instruction_message').html(design.blocks[block_no].instruction).show();\r\n        setTimeout(\"$('#instruction_message').fadeOut(1000);\", design.blocks[block_no].instruction_duration);\r\n        setTimeout(\"prepareTrial();\", design.blocks[block_no].instruction_duration + 2000);\r\n      }\r\n    } else {\r\n      endExperiment();\r\n    }\r\n  } else {\r\n    setTimeout(\"prepareBlock();\", 500);\r\n  }\r\n}\r\n\r\n\r\n/************************************\r\n * CALIBRATE\r\n ************************************/\r\nfunction startCalibration() {\r\n  if(calibration_skip == \"skip\" ||\r\n     calibration_skip == \"on\"  ||\r\n     calibration_skip == \"yes\" ||\r\n     calibration_skip == \"true\"){\r\n    endValidation()\r\n  } else {\r\n    $('.stimuli').hide();\r\n    $('#calibration_dot').hide();\r\n    if (block_no == 0) {\r\n        $('#calibration_dot').click(function() {\r\n            calibrateHit();\r\n        });\r\n    }\r\n    calibration_no = 0;\r\n    //webgazer.clearData();\r\n    window.localStorage.clear();\r\n    //webgazer.begin();\r\n    t_calibration_start = new Date().getTime();\r\n    calibrate();\r\n  }\r\n}\r\n\r\nvar gaze_phase = \"unknown\";\r\n\r\nfunction calibrate() {\r\n  gaze_phase = \"calibrate\";\r\n  clearTimeout(t);\r\n  if (calibration_no < calibration.calibrations) {\r\n    $('#calibration_cnt').html(calibration.duration);\r\n    $c = $('#calibration_dot');\r\n    //var c = Math.floor(Math.random() * calibration.points.length);\r\n    //var p = calibration.points.splice(c, 1)[0];\r\n    if (calibration.points.length == 0) {\r\n     \r\n      /*\r\n      * allocate calibration by pixels rather than percentages\r\n      */\r\n     \r\n      var min_width   = \"{{min_width}}\".replace(\"px\",\"\");                          // e.g. 1000px in Borcsok et al., (2020)\r\n      var min_height   = \"{{min_height}}\".replace(\"px\",\"\");                         // e.g. 400px  in Borcsok et al., (2020)\r\n      var mid_screen_x = window.innerWidth / 2;\r\n      var mid_screen_y = window.innerHeight / 2;\r\n     \r\n      calibration.points = shuffle([\r\n       \r\n        {\r\n          position: \"middle\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"top\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"bottom\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"left\",\r\n          x: mid_screen_x - min_width/2 * .9,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"right\",\r\n          x: mid_screen_x + min_width/2 * .9,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"outer-top-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-top-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"outer-bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"inner-top-left\",\r\n          x: mid_screen_x - min_width/2  * .45,\r\n          y: mid_screen_y - min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-top-right\",\r\n          x: mid_screen_x + min_width/2  * .45,\r\n          y: mid_screen_y - min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .45,\r\n          y: mid_screen_y + min_height/2 * .45\r\n        },\r\n        {\r\n          position: \"inner-bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .45,\r\n          y: mid_screen_y + min_height/2 * .45\r\n        }\r\n      ]);\r\n     \r\n    }\r\n    var p = calibration.points.pop();\r\n    $c.css({\r\n        'left' : p.x,\r\n        'top' : p.y\r\n    });\r\n\r\n    data_current = {\r\n        'type': 'calibration',\r\n        'block': block_no,\r\n        'trial': calibration_no,\r\n        'x': p.x,\r\n        'y': p.y,\r\n        'raw': []\r\n    };\r\n\r\n    cam.calibrating = 1;\r\n    $c.show();\r\n    if (calibration.method == 'watch') {\r\n      t = setTimeout(\"autoCalibration();\", 750);\r\n    }\r\n  } else {\r\n    endCalibration();\r\n  }\r\n}\r\n\r\nfunction calibrateHit() {\r\n  var c = $('#calibration_cnt').html();\r\n  /*\r\n  if ($('#webgazerVideoFeed').css('display') == 'block') {\r\n      $('#webgazerVideoFeed').css({\r\n          top: cam.topDist,\r\n          left: cam.leftDist,\r\n          display: 'none',\r\n          transform: '0'\r\n      });\r\n  }*/\r\n  if (c > 1 && cam.calibrating == 1) {\r\n    $('#calibration_cnt').html(--c);\r\n    if (calibration.method == \"watch\") {\r\n      t = setTimeout(\"autoCalibration();\", 100);\r\n      //requestAnimationFrame(autoCalibration);\r\n    }\r\n  } else {\r\n    $('#calibration_cnt').html(9999);\r\n    clearTimeout(t);\r\n    cam.calibrating = 0;\r\n    $('#calibration_dot').hide();\r\n    calibration_no++;\r\n    saveData();\r\n    calibrate();\r\n  }\r\n  return false;\r\n}\r\n\r\nvar t;\r\nfunction autoCalibration() {\r\n  calibrateLog();\r\n  if (cam.calibrating == 1) {\r\n    calibrateHit();\r\n  }\r\n}\r\n\r\nfunction calibrateLog() {\r\n  var $cd = $('#calibration_dot');\r\n  var cx = parseInt(Math.round($cd.offset().left));\r\n  var cy = parseInt(Math.round($cd.offset().top));\r\n  webgazer.watchListener(cx, cy);\r\n}\r\n\r\n\r\nfunction endCalibration() {\r\n  clearTimeout(t);\r\n  $('#calibration_dot').unbind(\"click\");\r\n  startValidation();\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * VALIDATE\r\n ************************************/\r\nfunction startValidation() {\r\n  validation_no = 0;\r\n  validate();\r\n}\r\n\r\nfunction validate() {\r\n  gaze_phase = \"validate\";\r\n  clearTimeout(t);\r\n  if (validation_no < validation.validations) { // if we there are validations left\r\n    $('#calibration_cnt').html(0);\r\n    var $c = $('#calibration_dot');\r\n   \r\n    if (validation.points.length == 0) {\r\n   \r\n      /*\r\n      * allocate positions by pixels rather than percentages\r\n      */\r\n     \r\n      var min_width   = \"{{min_width}}\".replace(\"px\",\"\");                          // e.g. 1000px in Borcsok et al., (2020)\r\n      var min_height   = \"{{min_height}}\".replace(\"px\",\"\");                         // e.g. 400px  in Borcsok et al., (2020)\r\n      var mid_screen_x = window.innerWidth / 2;\r\n      var mid_screen_y = window.innerHeight / 2;\r\n     \r\n      validation.points = shuffle([\r\n        {\r\n          position: \"top-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"top-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y - min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"middle\",\r\n          x: mid_screen_x,\r\n          y: mid_screen_y\r\n        },\r\n        {\r\n          position: \"bottom-left\",\r\n          x: mid_screen_x - min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n        {\r\n          position: \"bottom-right\",\r\n          x: mid_screen_x + min_width/2  * .9,\r\n          y: mid_screen_y + min_height/2 * .9\r\n        },\r\n      ]);\r\n    }\r\n    var vp = validation.points.pop();\r\n    $c.css({\r\n        'left' : vp.x,\r\n        'top' : vp.y\r\n    });\r\n    $c.show();\r\n    validation_current.x = Math.round($c.offset().left);\r\n    validation_current.y = Math.round($c.offset().top);\r\n\r\n    data_current = {\r\n      'type': 'validation',\r\n      'block': block_no,\r\n      'trial': validation_no,\r\n      'x': validation_current.x,\r\n      'y': validation_current.y,\r\n      'raw': []\r\n    };\r\n    cam.validating = 1;\r\n    t = setTimeout(\"validateFail();\", validation.timeout);\r\n    //t = setTimeout('validation = 0;', 3000);\r\n  } else {\r\n    endValidation();\r\n  }\r\n}\r\n\r\nfunction validateFail() {\r\n  data_current.type = 'validationfail';\r\n  data_current.attempt = validation_attempt;\r\n  saveData();\r\n\r\n\r\n  cam.validating = 0;\r\n  webgazer.pause();\r\n\r\n  $('.stimuli').hide();\r\n  if (validation_attempt >= validation.attempts) {\r\n      $('#message').html('Unforuntately, the calibration failed too many times. Therefore, you can not participate in this Project. Please contact <a href=\"mailto:kilian.semmelmann@rub.de\">kilian.semmelmann@rub.de</a> if you have any questions. Thanks for your interest.').show();\r\n  } else {\r\n      validation_attempt++;\r\n      $('#message').html('The calibration failed. <br />Please follow the instructions and try again (try ' + (validation_attempt) + ' of ' + validation.attempts + ').').show().delay(5000).fadeOut(1000);\r\n      $('#instruction').show();\r\n  }\r\n  // TOOD: log validation-fail\r\n}\r\n\r\nfunction endValidation() {\r\n  cam.validating = 0\r\n  validation_attempt = 1;\r\n  webgazer.pause();\r\n  $('#instruction_message').html(design.blocks[block_no].instruction).show();\r\n  setTimeout(\"$('#instruction_message').fadeOut(1000);\", design.blocks[block_no].instruction_duration);\r\n  setTimeout(\"prepareTrial();\", design.blocks[block_no].instruction_duration + 2000);\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * START EXPERIMENT\r\n ************************************/\r\nvar t_trial_start;\r\nfunction prepareTrial() {\r\n  status = \"prepare\";\r\n  $('.stimuli').hide();\r\n  data_current = {\r\n      'type': 'trial',\r\n      'block': block_no,\r\n      'trial': trial_no,\r\n      'raw': []\r\n  };\r\n  webgazer.resume();\r\n  startTrial();\r\n}\r\n\r\n\r\nfunction startTrial() {\r\n  t_trial_start = new Date().getTime();\r\n  $('#stimuli_fixation').show();\r\n  status = \"fixation_onset\";\r\n  // use start function of block-type name\r\n  var fn = design.blocks[block_no].type+\"Start\";\r\n  window[fn]();\r\n}\r\n\r\n\r\nvar heat;\r\nfunction endTrial() {\r\n  $(\"#stimuli_div\").html(\"\");\r\n  clearTimeout(t);\r\n  cam.recording = 0;\r\n  webgazer.pause();\r\n  status = \"end\";\r\n  $('.stimuli').hide();\r\n  trial_no++;\r\n  saveData();\r\n\r\n  if (trial_no < design.blocks[block_no].trials) {\r\n    setTimeout(\"prepareTrial();\", design.blocks[block_no].iti);\r\n  } else {\r\n    block_no++;\r\n    if (block_no < design.blocks.length) {\r\n      window.localStorage.clear();\r\n      webgazer.clearData();\r\n      //loadWebgazer();\r\n      //prepareBlock();\r\n      navigation('pause');\r\n    } else {\r\n      endExperiment();\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction saveData() {\r\n \r\n \r\n  /*\r\n  * did the participant pass validation?\r\n  */\r\n  //data_current\r\n \r\n\r\n  /*\r\n  * change file name depending on whether it's calibration, validation or main trial?\r\n  * add calibration / validation / freeview number\r\n  */\r\n\r\n  var sub_trial_no = -1;\r\n  switch(gaze_phase){\r\n    case \"calibration\":\r\n      sub_trial_no = calibration_no;\r\n      break;\r\n    case \"validate\":\r\n      sub_trial_no = validation_no;\r\n     \r\n      /*\r\n      * did the participant pass? (assuming this is validation)\r\n      */\r\n      var valid_rows = 0;\r\n     \r\n      data_current.raw.forEach(function(row){\r\n        valid_rows += row.valid;\r\n      });\r\n     \r\n      break;\r\n    case \"freeview\":\r\n      sub_trial_no = stimuli_no;\r\n      break;\r\n     \r\n  }\r\n \r\n \r\n \r\n  data_current.raw = data_current.raw.map(function(row){\r\n    row.x = row.x - window.innerWidth/2;\r\n    row.y = row.y - window.innerHeight/2;\r\n   \r\n    if(typeof(image_pair) !== \"undefined\"){\r\n      Object.keys(image_pair).forEach(function(key){\r\n        row[key] = image_pair[key];\r\n      });\r\n    }\r\n    row.screen_width  = screen.width;\r\n    row.screen_height = screen.height;\r\n    row.window_width  = window.innerWidth;\r\n    row.window_height = window.innerHeight;\r\n    row.participant   = parent.parent.$(\"#participant_code\").val(),\r\n    row.trial_no      = sub_trial_no;\r\n   \r\n    if(valid_rows > 19){\r\n      row.valid_trial = true;\r\n    } else {\r\n      row.valid_trial = false;\r\n    }\r\n    return row;\r\n  });\r\n \r\n  data.push(data_current);\r\n  data_current = {};\r\n  sendData();\r\n}\r\n\r\n\r\nfunction sendData() {\r\n\r\n  var sub_trial_no = -1;\r\n  switch(gaze_phase){\r\n    case \"calibration\":\r\n      sub_trial_no = calibration_no;\r\n      break;\r\n    case \"validate\":\r\n      sub_trial_no = validation_no;\r\n      break;\r\n    case \"freeview\":\r\n      sub_trial_no = stimuli_no;\r\n      break;\r\n  }\r\n \r\n  switch(parent.parent.Project.get_vars.platform){\r\n    case \"preview\":\r\n      //do nothing\r\n      break;\r\n    case \"localhost\":\r\n      data.forEach(function(trial,trial_no){\r\n        if (trial !== null){\r\n          parent.parent.Collector.electron.fs.write_data(\r\n            parent.parent.Project.get_vars.location,\r\n            parent.parent.$(\"#participant_code\").val() + \"-\" +\r\n              parent.parent.project_json.trial_no      + \"-\" +\r\n              gaze_phase                               + \"-\" +\r\n              trial_no                                 + \"-\" +\r\n              sub_trial_no                             + \".csv\",\r\n            Papa.unparse(data[trial_no].raw)\r\n          );\r\n                                     \r\n                                     \r\n          parent.parent.online_save(parent.parent.Project.get_vars.location,\r\n                    parent.parent.$(\"#participant_code\").val() +\r\n                      gaze_phase +\r\n                      \"-\" +\r\n                      trial_no +\r\n                      \"-\" +\r\n                      sub_trial_no,\r\n                      \"-trial-\" +\r\n                      parent.parent.project_json.trial_no +\r\n                      \"-\" +\r\n                      trial_no,\r\n                    parent.parent.$(\"#completion_code\").val(),\r\n                    parent.parent.$(\"#prehashed_code\").val(),  \r\n                    Papa.unparse(data[trial_no].raw),          //the data\r\n          save_scripts,\r\n          function(){\r\n            parent.parent.online_data_obj.saves_ended ++;\r\n          });\r\n          data[trial_no] = null;\r\n        }\r\n      });\r\n      break;\r\n    default:\r\n      data.forEach(function(trial,trial_no){\r\n        if (trial !== null){\r\n         parent.parent.online_save(parent.parent.Project.get_vars.location,\r\n          parent.parent.$(\"#participant_code\").val() +\r\n            \"-\" + gaze_phase +\r\n            \"-trial-\" +\r\n            parent.parent.project_json.trial_no +\r\n            \"-\" +\r\n            trial_no +\r\n            \"-\" +\r\n            sub_trial_no,\r\n          parent.parent.$(\"#completion_code\").val(),\r\n          parent.parent.$(\"#prehashed_code\").val(),\r\n          \r\n          /*\r\n          * encrypt the data here\r\n          */\r\n          parent.parent.encrypt(\r\n            parent.parent.project_json.public_key,\r\n            Papa.unparse(data[trial_no].raw)          //the data  \r\n          ),\r\n          save_scripts,\r\n          function(){\r\n            parent.parent.online_data_obj.saves_ended ++;\r\n          });\r\n          data[trial_no] = null;\r\n        }\r\n      });\r\n       \r\n        break;\r\n  }\r\n}\r\n\r\n\r\nfunction endExperiment() {\r\n  Phase.submit();\r\n}\r\n\r\n\r\n/************************************\r\n * SIMPLE DOT VIEWING PARADIGM\r\n * If you want to introduce your own paradigms, follow the same structure and extend the design array above.\r\n ************************************/\r\nvar tSimple = {};\r\ntSimple.positions = [];\r\nfunction simpleStart() {\r\n    // if we don't have dot-positions any more, refill the array\r\n    if (tSimple.positions.length == 0) {\r\n        tSimple.positions = shuffle([\r\n            {x: \"20%\", y: \"20%\"},\r\n            {x: \"50%\", y: \"20%\"},\r\n            {x: \"80%\", y: \"20%\"},\r\n            {x: \"20%\", y: \"50%\"},\r\n            {x: \"80%\", y: \"50%\"},\r\n            {x: \"20%\", y: \"80%\"},\r\n            {x: \"50%\", y: \"80%\"},\r\n            {x: \"80%\", y: \"80%\"}\r\n        ]);\r\n    }\r\n    var pos = tSimple.positions.pop();\r\n    $('#stimuli_dot').css({\r\n        'top': pos.y,\r\n        'left': pos.x\r\n    });\r\n    data_current.task = 'simple';\r\n    data_current.x = pos.x;\r\n    data_current.y = pos.y;\r\n    data_current.condition = 'dot_' + pos.x + '_' + pos.y;\r\n\r\n    cam.recording = 1;\r\n    setTimeout('$(\"#stimuli_fixation\").hide(); status = \"fixation_offset\";', 1500);\r\n    setTimeout('simpleShowdot();', 2000);\r\n}\r\n\r\nfunction simpleShowdot() {\r\n    status = \"stimulus_onset\";\r\n    $(\"#stimuli_dot\").show();\r\n    setTimeout('status = \"stimulus_offset\"; endTrial();',  2000);\r\n}\r\n\r\n\r\n/************************************\r\n * POSNER VIEWING PARADIGM\r\n ************************************/\r\nfunction posnerStart() {\r\n    var p = Math.random() >= 0.5 ? '&gt;&gt;&gt;' : '&lt;&lt;&lt;';\r\n    $('#stimuli_prime').html(p);\r\n\r\n    var t = Math.random() >= 0.5 ? 'X' : 'N';\r\n    $('#stimuli_target').html(t);\r\n\r\n    var cond = Math.random() >= 0.7 ? 'incongruent' : 'congruent';\r\n\r\n    var tpos = 'left';\r\n    if ((cond == 'incongruent' && p == '&lt;&lt;&lt;') || ((cond == 'congruent' && p == '&gt;&gt;&gt;'))) {\r\n        tpos = 'right';\r\n    }\r\n\r\n    var pos = {};\r\n    if (tpos == 'left') {\r\n        pos.x = '20%';\r\n        pos.y = '30%';\r\n    } else {\r\n        pos.x = '80%';\r\n        pos.y = '30%';\r\n    }\r\n\r\n\r\n    $('#stimuli_target').css({\r\n        'top': pos.x,\r\n        'left': pos.y\r\n    });\r\n\r\n\r\n    data_current.task = 'posner';\r\n    data_current.x = pos.x;\r\n    data_current.y = pos.y;\r\n    data_current.condition = 'posner_' + pos.x + '_' + pos.y + '_' + tpos;\r\n\r\n    cam.recording = 1;\r\n    setTimeout(\"$('#stimuli_fixation').hide();\", 1000);\r\n    setTimeout('posnerShowprime();', 1500);\r\n}\r\n\r\nfunction posnerShowprime() {\r\n    $('#stimuli_prime').show();\r\n    setTimeout(\"posnerShowTarget();\", 300);\r\n}\r\n\r\nfunction posnerShowTarget() {\r\n    $('#stimuli_prime').hide();\r\n    $('#stimuli_target').show();\r\n    setTimeout(\"endTrial();\", 1500);\r\n}\r\n\r\n\r\n/************************************\r\n * SMOOTH PURSUIT PARADIGM\r\n ************************************/\r\nvar tPursuit = {};\r\nfunction pursuitStart() {\r\n  $('#stimuli_fixation').hide();\r\n  var pos_possible = shuffle([\r\n      {x: \"20%\", y: \"20%\", tx: \"80%\", ty: \"20%\"},\r\n      {x: \"20%\", y: \"20%\", tx: \"20%\", ty: \"80%\"},\r\n      {x: \"20%\", y: \"20%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n      {x: \"80%\", y: \"20%\", tx: \"20%\", ty: \"20%\"},\r\n      {x: \"80%\", y: \"20%\", tx: \"20%\", ty: \"80%\"},\r\n      {x: \"80%\", y: \"20%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n      {x: \"20%\", y: \"80%\", tx: \"20%\", ty: \"20%\"},\r\n      {x: \"20%\", y: \"80%\", tx: \"80%\", ty: \"20%\"},\r\n      {x: \"20%\", y: \"80%\", tx: \"80%\", ty: \"80%\"},\r\n\r\n      {x: \"80%\", y: \"80%\", tx: \"20%\", ty: \"20%\"},\r\n      {x: \"80%\", y: \"80%\", tx: \"80%\", ty: \"20%\"},\r\n      {x: \"80%\", y: \"80%\", tx: \"20%\", ty: \"80%\"}\r\n  ]);\r\n  var pos = pos_possible[0];\r\n  $s = $('#stimuli_dot');\r\n  $s.css({\r\n    'top': pos.y,\r\n    'left': pos.x\r\n  });\r\n\r\n  $s.css({\r\n    'background-color': '#000'\r\n  });\r\n\r\n\r\n  data_current.task = 'pursuit';\r\n  data_current.x = pos.x;\r\n  data_current.y = pos.y;\r\n  data_current.condition = 'pursuit_' + pos.x + '_' + pos.y + '_' + pos.tx + '_' + pos.ty;\r\n\r\n  cam.recording = 1;\r\n  $s.show();\r\n  setTimeout(function() {\r\n    status = \"pursuit_start\";\r\n    $('#stimuli_dot').css({\r\n      'background-color': '#dd494b'\r\n    }).animate({ \"left\": pos.tx, \"top\": pos.ty },\r\n      2000,\r\n      'linear',\r\n    function() {\r\n      status = \"pursuit_end\";\r\n      setTimeout(\"endTrial();\", 500);\r\n    });\r\n  }, 1500);\r\n}\r\n\r\n\r\n\r\n/************************************\r\n * STIMULI PARADIGM\r\n ************************************/\r\nvar tStimuli = {};\r\n\r\n\r\ntStimuli.stimuli = [];\r\n\r\n\r\n\r\nfunction process_stimuli(){\r\n  if(trial_order == \"random\"){\r\n    tStimuli.stimuli = shuffle(tStimuli.stimuli);\r\n  }\r\n \r\n \r\n  if(left_side == \"random\"){\r\n    for(var i = 0; i < tStimuli.stimuli.length; i++){\r\n      [left_image,right_image] = shuffle([tStimuli.stimuli[i].image_1,\r\n                                          tStimuli.stimuli[i].image_2]);\r\n      tStimuli.stimuli[i].image_1 = left_image;\r\n      tStimuli.stimuli[i].image_2 = right_image;\r\n    }\r\n  } else if(left_side == \"equal\" | left_side == \"counterbalance\"){\r\n    // select indexes to swap left and right for half the indexes\r\n    // all indexes:\r\n    var indexes = Array.from({length:tStimuli.stimuli.length},(v,k)=>k);\r\n        indexes = shuffle(indexes);\r\n   \r\n    //assign the first half left to right\r\n    for(var i = 0; i < Math.floor(tStimuli.stimuli.length / 2); i++){          //this will only loop through half of the randomised indexes\r\n      var this_index = indexes[i];\r\n      var right_image = tStimuli.stimuli[this_index].image_1;\r\n      var left_image = tStimuli.stimuli[this_index].image_2;\r\n      tStimuli.stimuli[this_index].image_1 = left_image;\r\n      tStimuli.stimuli[this_index].image_2 = right_image;\r\n    }\r\n  } else if(left_side == \"image_1\"){\r\n    // do nothing\r\n  } else if(left_side == \"image_2\"){\r\n    for(var i = 0; i < Math.floor(tStimuli.stimuli.length / 2); i++){\r\n      var right_image = tStimuli.stimuli[i].image_1;\r\n      var left_image = tStimuli.stimuli[i].image_2;\r\n      tStimuli.stimuli[i].image_1 = left_image;\r\n      tStimuli.stimuli[i].image_2 = right_image;\r\n    }\r\n  } else {\r\n    alert(\"there's a problem in the 'left_side' column - fix this before testing.\");\r\n  }\r\n};\r\n\r\n//check if the freeview file matches one of the stimuli files\r\nif(typeof(parent.parent.project_json.all_stims[image_file]) !== \"undefined\"){\r\n  var trial_contents = Papa.parse(parent.parent.project_json.all_stims[image_file]).data;\r\n  var trial_clean    = trial_contents.map(function(row){\r\n    return row.filter(item => item !== null);\r\n  });\r\n  tStimuli.stimuli = Papa.parse(Papa.unparse(trial_clean),{\r\n    header:true,\r\n    skipEmptyLines:true\r\n  }).data;\r\n  process_stimuli();\r\n} else {\r\n  if(image_file.toLowerCase().indexOf(\"https://\") == -1){                //i.e. isn't stored on dropbox or some other remote location\r\n    image_file = \"../User/\" + image_file;\r\n  }\r\n  $.get(image_file,function(result){\r\n    tStimuli.stimuli = Papa.parse(result,{\r\n      header:true,\r\n      skipEmptyLines:true\r\n    }).data;\r\n    process_stimuli();\r\n  });\r\n}\r\n\r\n\r\nstimuli_src_loaded = 0;\r\nvar stimuli_src_length;\r\n\r\n/*\r\n* Some code to make this work on installed version of Collector\r\n*/\r\nswitch(parent.parent.Project.get_vars.platform){\r\n  case \"preview\":\r\n  case \"localhost\":\r\n    org_repo = parent.parent.project_json.location.split(\"/\");\r\n    home_dir = parent.parent.Collector.electron.git.locate_repo({\r\n      org: org_repo[0],\r\n      repo: org_repo[1]\r\n    });\r\n    break;\r\n}\r\n\r\nfunction check_end_trial(element_json){\r\n  if(typeof(element_json.end_trial) !== \"undefined\" && element_json.end_trial.toLowerCase() == \"yes\"){\r\n    status = 'stimulus_offset'; \r\n    endTrial();\r\n  }\r\n}\r\n\r\nfunction stimuli_loaded(){\r\n  stimuli_no++;\r\n  \r\n  data_current.task = 'stimuli';\r\n  \r\n  cam.recording = 1;\r\n  status = 'fixation_flash_first_half';\r\n  $('#stimuli_fixation').css(\"color\",\"red\");\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"black\");\r\n  }, 250);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"red\");\r\n  }, 500);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"black\");\r\n  }, 750);\r\n  setTimeout(function(){\r\n    status = 'fixation_flash_second_half';\r\n    $('#stimuli_fixation').css(\"color\",\"red\");\r\n  }, 1000);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"black\");\r\n  }, 1250);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"red\");\r\n  }, 1500);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').css(\"color\",\"black\");\r\n  }, 1750);\r\n  setTimeout(function(){\r\n    $('#stimuli_fixation').hide();\r\n    status = 'fixation_offset';\r\n  }, 2000);\r\n  \r\n  \r\n  /*\r\n  * set timers here\r\n  */\r\n  console.log(\"stimuli_set\");\r\n  console.log(stimuli_set);\r\n  \r\n  var these_elements = stimuli_set.elements.split(\",\");\r\n  \r\n  \r\n  these_elements.forEach(function(this_element){\r\n    var element_json = JSON.parse(stimuli_set[this_element]);\r\n    \r\n    /*\r\n    * add other properties from other relevant columns\r\n    */\r\n    var other_properties = Object.keys(stimuli_set).filter(item => item.indexOf(this_element + \".\") == 0);\r\n    \r\n    other_properties.forEach(function(item){\r\n      element_json[item.split(\".\")[1]] = stimuli_set[item];\r\n    });\r\n    \r\n    if(element_json.type == \"keys\"){\r\n      $(window).bind('keypress', function(event) {\r\n        if(element_json.keys.indexOf(String.fromCharCode(event.charCode)) !== -1){\r\n          $(\"#\" + this_element + \"_value\").val(event.which);\r\n          check_end_trial(element_json);\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n    /*\r\n    * deal with elements that are triggered by the end of audio or videos\r\n    */\r\n    if(typeof(element_json.onset) !== \"number\" && element_json.onset.indexOf(\".ended\") !== -1){\r\n      trigger_element = element_json.onset.split(\".\")[0];\r\n      //alert(\"trigger_element = \" + trigger_element);\r\n      $(\"#\" + trigger_element).on(\"ended\", function(){\r\n        //alert(\"this_element \" + this_element);\r\n        $(\"#\" + this_element).show();\r\n        $(\"#\" + this_element).trigger(\"play\");\r\n      });\r\n    } else {\r\n      setTimeout(function(){\r\n        $(\"#\" + this_element).show();\r\n        $(\"#\" + this_element).trigger(\"play\");\r\n        \r\n      }, 2000 + element_json.onset);\r\n    }\r\n\r\n    if(element_json.duration == \"end\"){\r\n      $(\"#\" + this_element).on('ended', function(){\r\n        $(\"#\" + this_element).hide()\r\n      });\r\n    } else {\r\n      setTimeout(function(){\r\n        $(\"#\" + this_element).hide();\r\n      }, 2000 + element_json.onset + element_json.duration);\r\n\r\n    }\r\n    \r\n    \r\n    \r\n  });\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  /*\r\n  setTimeout(function(){\r\n    \r\n    //all_fixation_rts.push;\r\n    \r\n    $(\".stimuli_img\").show();\r\n    $(\".stimuli_video\").show();\r\n    $(\"video\").trigger(\"play\");\r\n    $(\"audio\").trigger(\"play\");\r\n    setTimeout(function(){\r\n      status = 'stimulus_offset'; \r\n      endTrial();\r\n    },stim_duration);\r\n    \r\n  },2500);\r\n  */\r\n}\r\n\r\nvar stimuli_set;\r\n\r\nfunction stimuliStart() {\r\n  gaze_phase = \"stimuli\";\r\n  \r\n  document.body.style.cursor = 'none';\r\n  stimuli_set = tStimuli.stimuli.shift();\r\n  \r\n  stimuli_src_loaded = 0;\r\n\r\n  \r\n  [audio_set, image_set, video_set, text_set] = Array(4).fill([]);\r\n  var these_elements = stimuli_set.elements.split(\",\");\r\n  these_elements.forEach(function(this_element){\r\n    var element_json = JSON.parse(stimuli_set[this_element]);\r\n    \r\n    /*\r\n    * add other properties from other relevant columns\r\n    */\r\n    var other_properties = Object.keys(stimuli_set).filter(item => item.indexOf(this_element + \".\") == 0);\r\n    \r\n    other_properties.forEach(function(item){\r\n      element_json[item.split(\".\")[1]] = stimuli_set[item];\r\n    });\r\n    \r\n    \r\n    switch(element_json.type){\r\n      \r\n      case \"audio\":\r\n        var this_item = $(\"<audio>\");\r\n        this_item.prop(\"src\", home_dir + element_json.src.replace(\"../User\",\"/User\"))\r\n          .prop(\"id\", this_element);\r\n        $(\"#stimuli_div\").append(this_item);\r\n        $(\"#\" + this_element).on(\"canplay canplaythrough\",function(){\r\n          stimuli_src_loaded = stimuli_src_loaded + 1;\r\n          \r\n          if(these_elements.length == stimuli_src_loaded){\r\n            stimuli_loaded();\r\n          }\r\n        });\r\n        break;\r\n      case \"image\":\r\n        var this_item = $(\"<img>\");\r\n        this_item.prop(\"src\", home_dir + element_json.src.replace(\"../User\",\"/User\"))\r\n          .addClass(\"stimuli\")\r\n          .addClass(\"stimuli_img\")\r\n          .css(\"margin-left\",   element_json.x)\r\n          .css(\"top\",    element_json.y)\r\n          .css(\"width\",  element_json.width)\r\n          .css(\"height\", element_json.height)\r\n          .css(\"display\", \"none\")\r\n          .prop(\"id\", this_element);\r\n        $(\"#stimuli_div\").append(this_item);\r\n        $(\"#\" + this_element).on(\"load\",function(){\r\n          \r\n          stimuli_src_loaded = stimuli_src_loaded + 1;\r\n          if(these_elements.length == stimuli_src_length){\r\n            stimuli_loaded();\r\n          }\r\n        });\r\n        break;\r\n      case \"keys\":\r\n        \r\n        var this_item = $(\"<input>\");\r\n        this_item.prop(\"id\", this_element = \"_value\")\r\n          .css(\"display\", \"none\");\r\n        \r\n        $(\"#stimuli_div\").append(this_item);\r\n        \r\n        \r\n        stimuli_src_loaded = stimuli_src_loaded + 1;\r\n        if(these_elements.length == stimuli_src_loaded){\r\n          stimuli_loaded();\r\n        }\r\n        break;\r\n      case \"text\":\r\n        //alert(\"hi\");\r\n        this_item = $(\"<div>\");\r\n        this_item.html(element_json.text)\r\n          .addClass(\"stimuli\")\r\n          .css(\"margin-left\",   element_json.x)\r\n          .css(\"top\",    window.innerHeight/2 + element_json.y)\r\n          .css(\"width\",  element_json.width)\r\n          .css(\"height\", element_json.height)\r\n          .css(\"display\", \"none\")\r\n          .prop(\"id\", this_element);\r\n        $(\"#stimuli_div\").append(this_item);\r\n        stimuli_src_loaded = stimuli_src_loaded + 1;\r\n        \r\n        if(these_elements.length == stimuli_src_loaded){\r\n          stimuli_loaded();\r\n        }\r\n        break;\r\n      case \"video\":\r\n        var this_item = $(\"<video>\");\r\n        var this_source = $(\"<source>\");\r\n            this_source.prop(\"src\", home_dir + element_json.src.replace(\"../User\",\"/User\"));\r\n        \r\n            this_item.prop(\"src\", home_dir + element_json.src.replace(\"../User\",\"/User\"))\r\n              .addClass(\"stimuli\")\r\n              .addClass(\"stimuli_video\")\r\n              .css(\"margin-left\",   element_json.x)\r\n              .css(\"top\",    element_json.y)\r\n              .css(\"width\",  element_json.width)\r\n              .css(\"height\", element_json.height)\r\n              .css(\"display\", \"none\")\r\n              .prop(\"id\", this_element);\r\n        this_item.append(this_source);\r\n        $(\"#stimuli_div\").append(this_item);\r\n        $(\"#\" + this_element).on(\"loadstart\",function(){\r\n          stimuli_src_loaded = stimuli_src_loaded + 1;\r\n          \r\n          if(these_elements.length == stimuli_src_loaded){\r\n            stimuli_loaded();\r\n          }\r\n        });\r\n        \r\n        break;\r\n    }\r\n    \r\n    //if(typeof(stimuli_set[this_element + \".\"])\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\n/************************************\r\n * GENERATE AND SHOW HEATMAP\r\n ************************************/\r\nfunction heatmap() {\r\n    // preprocess data for heatmap\r\n    var bins = []; // create bins and fill them\r\n    for (var y = 0; y < window.innerHeight; y++) {\r\n        for (var x = 0; x < window.innerWidth; x++) {\r\n            bins.push([x, y, 0]);\r\n        }\r\n    }\r\n    // sort fixations into bins and get max\r\n    var max = 0;\r\n    for (var i = 0; i < data[data.length - 1].raw.length; i++) {\r\n        var d = data[data.length - 1].raw[i];\r\n        var dx = Math.round(d.x);\r\n        var dy = Math.round(d.y);\r\n        var pos = (dy * window.innerWidth) + dx;\r\n        if (pos <= bins.length && pos >= 0) {\r\n            bins[pos][2] += 1;\r\n            if (bins[pos][2] > max) {\r\n                max = bins[pos][2];\r\n            }\r\n        } else {\r\n            console.log('dropped ' + pos);\r\n        }\r\n    }\r\n\r\n    // remove empty bins\r\n    var binsc = [];\r\n    for (var i = 0; i < bins.length; i++) {\r\n        if (bins[i][2] != 0) {\r\n            binsc.push(bins[i]);\r\n        }\r\n    }\r\n\r\n    // create heatmap\r\n    $('body').append(\"<canvas id=\\\"heatmap\\\"></canvas>\");\r\n    $('#heatmap').attr('width', window.innerWidth);\r\n    $('#heatmap').attr('height', window.innerHeight);\r\n    heat = simpleheat('heatmap');\r\n    heat.resize();\r\n    heat.radius(30,50);\r\n    heat.max(max).data(binsc).draw();\r\n\r\n    $('#stimuli_img').show();\r\n}\r\n\r\n\r\n/**\r\n * navigation\r\n */\r\nvar page = 1;\r\nvar oldpage = -1;\r\nvar d_consent = undefined;\r\nfunction navigation(direction) {\r\n  $('#message').hide();\r\n\r\n  $('#instruction_continue_text').html(\"&gt;\");\r\n\r\n\r\n \r\nif (page == 2 && direction == 'continue') {\r\n    if (cam.initialized == 1) {\r\n      $('#instruction').fadeOut(1000);\r\n      setTimeout(\"prepareBlock();\", 2000);\r\n    }\r\n  } else if (page == 2 && direction == 'pause') {\r\n    $('#instruction_continue').html(\"continue\").css({'font-size': '1.7em'});\r\n    $('#instruction_2').find(\"h1\").html('short pause (block ' + block_no + ' of ' + design.blocks.length + \")\");\r\n    $('#setup_first').hide();\r\n    $('#setup_after').show();\r\n\r\n    $('#instruction').show(function() {\r\n      if (block_no == design.blocks.length) {\r\n        page++;\r\n      } else {\r\n        $('#instruction_2').fadeIn(300);\r\n        $('#webgazerVideoFeed').show();\r\n      }\r\n    });\r\n  } else if  (direction == 'continue') {\r\n    page++;\r\n  } else if (direction == 'back') {\r\n    page--;\r\n  }\r\n  page = page < 1 ? 1 : page;\r\n  page = page > $('.instruction_page').length ? $('.instruction_page').length : page;\r\n  page <= 1 ? $('#instruction_back').hide() : $('#instruction_back').show();\r\n  page >= $('.instruction_page').length ? $('#instruction_continue').hide() : $('#instruction_continue').show();\r\n  page >= 3 ? $('#instruction_back,#instruction_continue').hide() : \"\";\r\n  block_no > 0 ? $('#instruction_back').hide() : \"\";\r\n\r\n  if (oldpage != page) { // if we stay at the same page, we avoid unnecessary animations\r\n    $('.instruction_page').hide();\r\n    $('#instruction_'+page).fadeIn(300);\r\n  }\r\n  // start up webcam\r\n  if (page == 2 && cam.initialized == 0) {\r\n    $(\"#instruction_continue\").hide();\r\n    loadWebgazer();\r\n  }\r\n  oldpage = page;\r\n}\r\n\r\n\r\nvar cl;\r\nvar t_start = new Date().getTime();\r\n$('document').ready(function() {\r\n  $('#stimulus').hide();\r\n  $('#calibration_dot').hide();\r\n  $('#setup_after').hide();\r\n  $('#instruction_message').hide();\r\n  $('#therest').hide();\r\n\r\n\r\n  $('#start_button').click(function() {\r\n    $(this).hide();\r\n    prepareBlock();\r\n  });\r\n\r\n  $('body').keypress(function(e) {\r\n    //e.preventDefault();\r\n    switch(e.keyCode) {\r\n\r\n    }\r\n  });\r\n\r\n  $('#instruction_continue').click(function() {\r\n    navigation('continue');\r\n  });\r\n\r\n  $('#instruction_back').click(function() {\r\n    navigation('back');\r\n  });\r\n\r\n  $( \"#f_crowdflowerid\" ).tooltip({\r\n    show: {\r\n      effect: \"slideDown\",\r\n      delay: 250\r\n    }\r\n  });\r\n\r\n\r\n  /*\r\n  $('#f_birthday').datepicker({\r\n      dateFormat: 'yy/mm/dd',\r\n      changeYear: true,\r\n      changeMonth: true,\r\n      yearRange: \"-100:+0\"\r\n  });\r\n  */\r\n  var select = $('#f_birthday');\r\n  for (var i=18;i <= 100; i++){\r\n    select.append('<option value=\"'+i+'\">'+i+'</option>')\r\n  }\r\n\r\n  window.localStorage.clear();\r\n   \r\n  var ss = window.location.hash.substring(1);\r\n  $('#cf_reference,#asd_reference,#rub_reference,#cf_code').hide();\r\n  if (ss == \"cf\") { // crowdflower-reference\r\n    $('#cf_reference,#cf_code').show();\r\n  } else if (ss == \"rub\") {\r\n    $('#rub_reference').show();\r\n} else {\r\n    $('#asd_reference').show();\r\n}\r\n\r\n  var is_chrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;\r\n  var is_firefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\r\n  if (is_chrome || is_firefox) {\r\n    page = 0;\r\n    navigation('start');\r\n  } else {\r\n    $('#instruction').hide();\r\n    $('#message').html('Thank you very much for your interest in our Project.<br /><br />Unfortunately, your browser is not supported by our website. To participate, you need either the browser \"Google Chrome\" or \"Firefox\".<br /><br />Do download one of these securely and free of charge, please follow one of these links: <a href=\"https://www.google.com/chrome/browser/desktop/\" target=\"_blank\">Google Chrome</a> or <a href=\"https://www.mozilla.org/de/firefox/new/\" target=\"_blank\">Mozilla Firefox</a>').show();\r\n  }\r\n});\r\n\r\n\r\n/**\r\n function drawLoop() {\r\n    requestAnimFrame(drawLoop);\r\n    var p = webgazer.getCurrentPrediction();\r\n    if (p !== null) {\r\n        console.log(p);\r\n        $('body').append('<span class=\"p\" style=\"top: '+p.y+'px; left: '+p.x+'px\"></span>');\r\n        measurements++;\r\n    }\r\n    t = (new Date().getTime() - start)/1000;\r\n    cam.overlay.getContext('2d').clearRect(0,0,cam.width,cam.height);\r\n    if (cl.getCurrentPosition()) {\r\n        //console.log(cl.getCurrentPosition()[0]);\r\n        //cl.draw(overlay);\r\n    }\r\n}\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\nwindow.onbeforeunload = function() {\r\n  //webgazer.end(); //Uncomment if you want to save the data even if you reload the page.\r\n}\r\n</script>",
          "text": "<!--\n/*  Collector (Garcia, Kornell, Kerr, Blake & Haffey)\n    A program for running experiments on the web\n    Copyright 2012-2016 Mikey Garcia & Nate Kornell\n\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License version 3 as published by\n    the Free Software Foundation.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>\n \t\t\n\t\tKitten/Cat release (2019-21) author: Dr. Anthony Haffey (team@someopen.solutions)\t\t\n*/\n-->\n{{text}}"
        },
        "procs_csv": {},
        "stims_csv": {}
      },
      "survey_pilot": {
        "all_procs": {
          "procedure_1.csv": "item,code,max time,text,shuffle 1,survey,\r\n0,survey,user,This is the start of a new experiment.,off,consent_form.csv,\r\n0,survey,user,This is the start of a new experiment.,off,autism_quotient.csv,\r\n0,survey,user,This is the start of a new experiment.,off,urop_panas.csv,\r\n0,survey,user,This is the start of a new experiment.,off,urop_demographics.csv,"
        },
        "conditions": "name,notes,stimuli,procedure,fullscreen,welcome,participant_id,end_message,start_message,buffer,scripts,\r\ncondition_1,You can put more detailed notes in this field,stimuli_1.csv,procedure_1.csv,off,,on,,,5,,",
        "all_stims": {
          "stimuli_1.csv": "cue,answer,\r\nA,Apple,\r\nB,Banana,\r\n,,"
        },
        "location": "zhao-haffey/eye-tracking-face-voice/survey_pilot",
        "public_key": "MPki5pEUo6fM5RWRBT/t1udubY8woyYv1Aqeb6Cj/RY=",
        "surveys": {
          "autism_quotient.csv": [
            [
              "item_name",
              "text",
              "Type",
              "Answers",
              "Values",
              "Score: AQ_Test",
              "Score: Social_Skill",
              "Score: Attention_switching",
              "Score: Communication",
              "Score: Imagination",
              "Score: Attention_to_detail",
              "Optional",
              "btn_width"
            ],
            [
              "Instructions1",
              "<span style='color:#006699'><span style='font-size:20px'>Choose one response that best describes how strongly each item applies to you:</span></span>",
              "Instruct",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "AQ1",
              "I prefer to do things with others rather than on my own.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "r1",
              "",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ2",
              "I prefer to do things the same way over and over again.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "1",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ3",
              "If I try to imagine something, I find it very easy to create a picture in my mind.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "",
              "",
              "r1",
              "",
              "No",
              "100px"
            ],
            [
              "AQ4",
              "I frequently get so strongly absorbed in one thing that I lose sight of other things.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "1",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ5",
              "I often notice small sounds when others do not.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "",
              "",
              "",
              "1",
              "No",
              "100px"
            ],
            [
              "AQ6",
              "I usually notice car number plates or similar strings of information.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "",
              "",
              "",
              "1",
              "No",
              "100px"
            ],
            [
              "AQ7",
              "Other people frequently tell me that what I've said is impolite, even though I think it is polite.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "",
              "1",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ8",
              "When I'm reading a story, I can easily imagine what the characters might look like.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "",
              "",
              "r1",
              "",
              "No",
              "100px"
            ],
            [
              "AQ9",
              "I am fascinated by dates.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "",
              "",
              "",
              "1",
              "No",
              "100px"
            ],
            [
              "AQ10",
              "In a social group, I can easily keep track of several different people's conversations.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "r1",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ11",
              "I find social situations easy.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "r1",
              "",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ12",
              "I tend to notice details that others do not.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "",
              "",
              "",
              "1",
              "No",
              "100px"
            ],
            [
              "AQ13",
              "I would rather go to a library than a party.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "1",
              "",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ14",
              "I find making up stories easy.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "",
              "",
              "r1",
              "",
              "No",
              "100px"
            ],
            [
              "AQ15",
              "I find myself drawn more strongly to people than to things.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "r1",
              "",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ16",
              "I tend to have very strong interests which I get upset about if I can't pursue.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "1",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ17",
              "I enjoy social chit-chat.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "",
              "r1",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ18",
              "When I talk, it isn't always easy for others to get a word in edgeways.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "",
              "1",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ19",
              "I am fascinated by numbers.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "",
              "",
              "",
              "1",
              "No",
              "100px"
            ],
            [
              "AQ20",
              "When I'm reading a story, I find it difficult to work out the characters' intentions.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "",
              "",
              "1",
              "",
              "No",
              "100px"
            ],
            [
              "AQ21",
              "I don't particularly enjoy reading fiction.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "",
              "",
              "1",
              "",
              "No",
              "100px"
            ],
            [
              "AQ22",
              "I find it hard to make new friends.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "1",
              "",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ23",
              "I notice patterns in things all the time.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "",
              "",
              "",
              "1",
              "No",
              "100px"
            ],
            [
              "AQ24",
              "I would rather go to the theatre than a museum.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "",
              "",
              "r1",
              "",
              "No",
              "100px"
            ],
            [
              "AQ25",
              "It does not upset me if my daily routine is disturbed.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "r1",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ26",
              "I frequently find that I don't know how to keep a conversation going.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "",
              "1",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ27",
              "I find it easy to 'read between the lines' when someone is talking to me.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "",
              "r1",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ28",
              "I usually concentrate more on the whole picture, rather than the small details.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "",
              "",
              "",
              "r1",
              "No",
              "100px"
            ],
            [
              "AQ29",
              "I am not very good at remembering phone numbers.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "",
              "",
              "",
              "r1",
              "No",
              "100px"
            ],
            [
              "AQ30",
              "I don't usually notice small changes in a situation, or a person's appearance.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "",
              "",
              "",
              "r1",
              "No",
              "100px"
            ],
            [
              "AQ31",
              "I know how to tell if someone listening to me is getting bored.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "",
              "r1",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ32",
              "I find it easy to do more than one thing at once.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "r1",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ33",
              "When I talk on the phone, I'm not sure when it's my turn to speak.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "",
              "1",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ34",
              "I enjoy doing things spontaneously.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "r1",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ35",
              "I am often the last to understand the point of a joke.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "",
              "1",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ36",
              "I find it easy to work out what someone is thinking or feeling just by looking at their face.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "r1",
              "",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ37",
              "If there is an interruption, I can switch back to what I was doing very quickly.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "r1",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ38",
              "I am good at social chit-chat.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "",
              "r1",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ39",
              "People often tell me that I keep going on and on about the same thing.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "",
              "1",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ40",
              "When I was young, I used to enjoy playing games involving pretending with other children.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "",
              "",
              "r1",
              "",
              "No",
              "100px"
            ],
            [
              "AQ41",
              "I like to collect information about categories of things (e.g. types of car, types of bird, types of train, types of plant, etc.).",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "",
              "",
              "1",
              "",
              "No",
              "100px"
            ],
            [
              "AQ42",
              "I find it difficult to imagine what it would be like to be someone else.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "",
              "",
              "1",
              "",
              "No",
              "100px"
            ],
            [
              "AQ43",
              "I like to plan any activities I participate in carefully.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "1",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ44",
              "I enjoy social occasions.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "r1",
              "",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ45",
              "I find it difficult to work out people's intentions.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "1",
              "",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ46",
              "New situations make me anxious.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "1",
              "",
              "1",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ47",
              "I enjoy meeting new people.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "r1",
              "",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ48",
              "I am a good diplomat.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "r1",
              "",
              "",
              "",
              "",
              "No",
              "100px"
            ],
            [
              "AQ49",
              "I am not very good at remembering people's date of birth.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "",
              "",
              "",
              "r1",
              "No",
              "100px"
            ],
            [
              "AQ50",
              "I find it very easy to play games with children that involve pretending.",
              "likert",
              "Definitely agree|Slightly agree|Slightly disagree|Definitely disagree",
              "1|1|0|0",
              "r1",
              "",
              "",
              "",
              "r1",
              "",
              "No",
              "100px"
            ],
            [
              ""
            ]
          ],
          "panas.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "score:panas_tot",
              "score:pos_aff",
              "score:neg_aff",
              "optional",
              "btn_width",
              ""
            ],
            [
              "Instructions1",
              "<span style='color:#006699'><span style='font-size:20px'>Choose one response that best describes how strongly each item applies to how you felt during <b><u>the first month of lockdown</u></b>:<br>\n<br>\nDuring the first month of lockdown I felt...</span></span>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "PANAS1",
              "Interested",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS2",
              "Distressed",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS3",
              "Excited",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS4",
              "Upset",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS5",
              "Strong",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS6",
              "Guilty",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS7",
              "Scared",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS8",
              "Hostile",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS9",
              "Enthusiastic",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS10",
              "Proud",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS11",
              "Irritable",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS12",
              "Alert",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS13",
              "Ashamed",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS14",
              "Inspired",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS15",
              "Nervous",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS16",
              "Determined",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS17",
              "Attentive",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS18",
              "Jittery",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS19",
              "Active",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS20",
              "Afraid",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ],
          "urop_demographics.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "optional",
              "values",
              "side_by_side",
              "btn_width",
              "other",
              "question_width",
              ""
            ],
            [
              "Gender",
              "Gender",
              "radio",
              "Male|Female|Other",
              "No",
              "",
              "yes",
              "100px",
              "",
              "75%",
              ""
            ],
            [
              "Age",
              "Age",
              "number",
              "",
              "No",
              "",
              "",
              "",
              "",
              "75%",
              ""
            ],
            [
              "Education",
              "Education (which level are you currently in, or is the highest you've completed)",
              "dropdown",
              "Some high school| High school graduate| Some college, no degree| Associate's degree| Bachelor's degree|Graduate degree (Master's, Doctorate, etc.)",
              "No",
              "",
              "",
              "",
              "",
              "75%",
              ""
            ],
            [
              "Country",
              "What is your country of residence?",
              "text",
              "",
              "No",
              "",
              "",
              "",
              "",
              "75%",
              ""
            ],
            [
              "English_Fluency",
              "Do you speak English fluently?",
              "radio",
              "Yes|No",
              "No",
              "",
              "yes",
              "200px",
              "",
              "75%",
              ""
            ],
            [
              "English_Age",
              "At what age did you start learning English? (write \"0\" if from birth)",
              "number",
              "",
              "No",
              "",
              "",
              "",
              "",
              "75%",
              ""
            ],
            [
              "Native_language",
              "What is your native language(s)? (If 'other' please specify)",
              "checkbox",
              "British English",
              "No",
              "",
              "",
              "",
              "yes",
              "75%",
              ""
            ],
            [
              "Age_started_language",
              "At what age did you start using this language most? (write \"0\" if from birth)",
              "number",
              "",
              "No",
              "",
              "",
              "",
              "",
              "75%",
              ""
            ],
            [
              "Tone_languages",
              "Can you understand or speak any tone languages (e.g. Mandarin, Thai)? If 'yes' please specify",
              "checkbox",
              "No|Yes",
              "No",
              "",
              "",
              "",
              "yes",
              "75%",
              ""
            ],
            [
              "Handedness",
              "What is your preferred hand?",
              "radio",
              "Left|Right|Both",
              "No",
              "",
              "yes",
              "100px",
              "",
              "75%",
              ""
            ],
            [
              "Clinical_diagnosis",
              "Do you have a clinical diagnosis of any of the following conditions? (Please select any that apply)",
              "checkbox",
              "Autism spectrum disorder (ASD)|Dyslexia|Attention-deficit disorder (ADD)/ Attention deficit hyperactivity disorder (ADHD)|Depression|Anxiety|Another mental health condition|A chronic physical health condition|None of the above",
              "No",
              "",
              "",
              "",
              "",
              "75%",
              ""
            ],
            [
              "Hearing_disorders",
              "As far as you know, do you have/have you had any hearing disorders (e.g. hearing loss)?",
              "dropdown",
              "Yes|No",
              "No",
              "",
              "yes",
              "200px",
              "",
              "75%",
              ""
            ],
            [
              "Absolute_pitch",
              "Do you have absolute pitch (or perfect pitch; the ability to identify a musical note without a reference tone)?",
              "radio",
              "Yes|No",
              "No",
              "",
              "yes",
              "200px",
              "",
              "75%",
              ""
            ],
            [
              "Music_training",
              "How many years of formal music training (on a musical instrument including voice) have you had? Please list your years of experience, e.g., piano, 10 years; voice, 2 years",
              "text",
              "",
              "No",
              "",
              "",
              "",
              "",
              "75%",
              ""
            ],
            [
              "",
              "",
              "",
              ""
            ]
          ],
          "urop_panas.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "values",
              "score:panas_tot",
              "score:pos_aff",
              "score:neg_aff",
              "optional",
              "btn_width",
              ""
            ],
            [
              "Instructions1",
              "<span style='color:#006699'><span style='font-size:20px'>Choose one response that best describes how strongly each item applies to how you have felt during the <b><u>past week</u></b>:<br>\n<br>\nDuring the past week, I have felt ...</span></span>",
              "instruct",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            [
              "PANAS1",
              "Interested",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS2",
              "Distressed",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS3",
              "Excited",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS4",
              "Upset",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS5",
              "Strong",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS6",
              "Guilty",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS7",
              "Scared",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS8",
              "Hostile",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS9",
              "Enthusiastic",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS10",
              "Proud",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS11",
              "Irritable",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS12",
              "Alert",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS13",
              "Ashamed",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS14",
              "Inspired",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS15",
              "Nervous",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS16",
              "Determined",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS17",
              "Attentive",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS18",
              "Jittery",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS19",
              "Active",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "1",
              "1",
              "",
              "No",
              "100px",
              ""
            ],
            [
              "PANAS20",
              "Afraid",
              "likert",
              "Very slightly or not at all|A little|Moderately|Quite abit| Extremely",
              "1|2|3|4|5",
              "r1",
              "",
              "r1",
              "No",
              "100px",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ],
          "consent_form.csv": [
            [
              "item_name",
              "text",
              "type",
              "answers",
              "optional",
              "values",
              "side_by_side",
              "btn_width",
              ""
            ],
            [
              "info_read",
              "I have read the Information Sheet and Informed Consent document and understand what the study involves. ",
              "checkbox",
              "Yes",
              "No",
              "",
              "",
              "",
              ""
            ],
            [
              "participation_agreed",
              "I agree that the research project named above has been explained to me to my satisfaction and I agree to take part in this study. ",
              "checkbox",
              "Yes",
              "No",
              "",
              "",
              "",
              ""
            ],
            [
              "withdrawl_understood",
              "I understand that if I decide at any time that I no longer wish to take part in this study, I can notify the researchers involved and withdraw immediately. ",
              "checkbox",
              "Yes",
              "No",
              "",
              "",
              "",
              ""
            ],
            [
              "info_consent",
              "I consent to the processing of my non-personally identifiable information for the purposes of this research study.",
              "checkbox",
              "Yes",
              "No",
              "",
              "",
              "",
              ""
            ],
            [
              "use_of_data",
              "I agree that my anonymous research data may be used by other researchers. This data will be anonymised to maintain confidentiality. ",
              "checkbox",
              "Yes",
              "No",
              "",
              "",
              "",
              ""
            ],
            [
              "audio_recording",
              "I understand that parts of my participation may be audio recorded, which I will be notified prior to recording, and I consent to use of this material as part of the project.",
              "checkbox",
              "Yes",
              "No",
              "",
              "",
              "",
              ""
            ],
            [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          ]
        },
        "trialtypes": {},
        "code": {
          "instruct": "<!--\n/*  Collector (Garcia, Kornell, Kerr, Blake & Haffey)\n    A program for running experiments on the web\n    Copyright 2012-2016 Mikey Garcia & Nate Kornell\n\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License version 3 as published by\n    the Free Software Foundation.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>\n \t\t\n\t\tKitten/Cat release (2019-2021) author: Dr. Anthony Haffey (team@someopen.solutions)\t\t\n*/\n-->\n<style>\n#instruct_text{\n  margin:auto;\n  width:500px;\n  padding:50px;\n  max-height:600px;\n  text-align: center;  \n}\n#proceed_button{\n  position:absolute;\n  right: 20px;\n}\n#trial_contents{\n  position: absolute;\n  top:0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin:auto;\n  width:600;\n  height:600;\n}\n</style>\n<div id=\"trial_contents\">\n  <div id=\"instruct_text\">{{text}}</div>\n  <div>\n    <button class=\"btn btn-primary\" id=\"proceed_button\" onclick=\"Phase.submit()\">Proceed</button>\n  </div>\n</div>",
          "survey": "<!--\r\n  Author: Dr. Anthony Haffey\r\n\r\n  Collector: Cat/Kitten/Cat release\r\n  A program for running experiments on the web\r\n  Copyright 2012-2018 Mikey Garcia & Nate Kornell\r\n\r\n  This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License version 3 as published by the Free Software Foundation.\r\n\r\n  This program is distributed in the hope that it will be useful,\r\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n  GNU General Public License for more details.\r\n\r\n  You should have received a copy of the GNU General Public License\r\n  along with this program.  If not, see <http://www.gnu.org/licenses/>\r\n\r\n  Kitten/Cat release (2019-2021) author: Dr. Anthony Haffey\r\n\r\n  (team@someopen.solutions)\r\n-->\r\n<style>\r\nbody{\r\n  background-color:#5F9EA0;\r\n  width:100%;\r\n  height:100%;\r\n}\r\ntd{\r\n  padding:10px;\r\n  vertical-align: top;\r\n}\r\n\r\n/*\r\n*\telements by id\r\n*/\r\n\r\n#content{\r\n  width:95%;\r\n}\r\n#proceed_button{\r\n  display:none;\r\n  float:right;\r\n}\r\n#survey_outline{\r\n\tposition: \t\t\t\t\tfixed;\r\n  top: \t\t\t\t\t\t\t\t50%;\r\n  left: \t\t\t\t\t\t\t50%;\r\n\theight: \t\t\t\t\t\t90%;\r\n\toverflow: \t\t\t\t\tauto;\r\n\t-webkit-transform: \ttranslate(-50%, -50%);\r\n  transform: \t\t\t\t\ttranslate(-50%, -50%);\r\n  background-color: \twhite;\r\n\tmin-width:        \t900px;\r\n\tmax-width:        \t9000px;\r\n\tborder-radius:    \t20px;\r\n  border-color:     \t#069;\r\n  border-style:     \tsolid;\r\n  border-width:     \t5px;\r\n\tpadding:            10px;\r\n  box-shadow:         12px 12px 12px rgba(0, 0, 0, 0.5);\r\n}\r\n#survey_tabs{\r\n  padding:            20px;\r\n}\r\n#this_survey_id{\r\n  padding:            20px;\r\n  display:            none;\r\n}\r\n\r\n/*\r\n*\telements by class\r\n*/\r\n.feedback_span_multiple{\r\n  display: none;\r\n  margin:  10px;\r\n}\r\n.feedback_span_single{\r\n  display: none;\r\n  padding: 10px;\r\n}\r\n.likert_table td{\r\n  padding:    1px;\r\n  text-align: center;\r\n}\r\n.likert_table td:hover{\r\n  color: blue;\r\n}\r\n.score_total{\r\n  display: none;\r\n}\r\n.show_tab{\r\n  margin: 5px;\r\n}\r\n.survey_btn{\r\n\twhite-space: normal;\r\n\tword-wrap: \t initial;\r\n}\r\n.table_break{\r\n\twidth:    100%;\r\n\theight:   300px;\r\n\toverflow: auto;\r\n}\r\n\r\n\r\n/*\r\n* by Bora Alp Arat at https://stackoverflow.com/questions/21684101/css-vertical-scrollbar-padding-left-right-in-ul-possible\r\n*/\r\n::-webkit-scrollbar {\r\n  width: 14px;\r\n  height: 18px;\r\n}\r\n::-webkit-scrollbar-thumb {\r\n  height: 6px;\r\n  border: 4px solid rgba(0, 0, 0, 0);\r\n  background-clip: padding-box;\r\n\t-webkit-border-radius: 7px;\r\n  background-color: rgba(0, 102, 153, 0.5);\r\n  -webkit-box-shadow: inset -1px -1px 0px rgba(0, 0, 0, 0.05), inset 1px 1px 0px rgba(0, 0, 0, 0.05);\r\n}\r\n::-webkit-scrollbar-button {\r\n  width: 0;\r\n  height: 0;\r\n  display: none;\r\n}\r\n::-webkit-scrollbar-corner {\r\n  background-color: transparent;\r\n}\r\n</style>\r\n<div id=\"everything\">\r\n\t<div id=\"survey_outline\"></div>\r\n</div>\r\n<span id=\"scales_span\"></span>\r\n<script>\r\n/*\r\n* Retrieving settings\r\n*/\r\n\r\nif(typeof(settings) !== \"undefined\"){\r\n  settings = [settings];\r\n} else {\r\n  settings = {};\r\n}\r\n\r\n/*\r\n* vertical vs. horizontal tabs\r\n*/\r\n\r\nif(typeof(settings.tab_hor_vert) == \"undefined\" || settings.tab_hor_vert.toLowerCase() == \"horizontal\"){\r\n  settings.tab_hor_vert = \"horizontal\";\r\n  var please_wait = $(\"<div>\");\r\n  var this_survey = $(\"<div>\");\r\n  var survey_tabs = $(\"<div>\");\r\n  var proceed_btn = $(\"<input>\");\r\n  please_wait.attr(\"id\", \"please_wait_div\")\r\n             .html(\"Loading... Please wait\");\r\n  this_survey.addClass(\"needs-validation\")\r\n             .attr(\"id\", \"this_survey_id\")\r\n             .attr(\"novalidate\", true);\r\n  survey_tabs.attr(\"id\", \"survey_tabs\")\r\n             .addClass(\"border-top\")\r\n             .addClass(\"border-primary\")\r\n             .css(\"text-align\", \"right\")\r\n  proceed_btn.addClass(\"btn\")\r\n             .addClass(\"btn-primary\")\r\n             .attr(\"id\", \"proceed_button\")\r\n             .attr(\"type\", \"submit\")\r\n             .attr(\"value\", \"Proceed\")\r\n  $(\"#survey_outline\").append(please_wait)\r\n                      .append(this_survey)\r\n                      .append(survey_tabs)\r\n                      .append(proceed_btn);\r\n\r\n} else if (settings.tab_hor_vert.toLowerCase() == \"vertical\"){\r\n  $(\"#survey_outline\").html(\r\n    '<table>' +\r\n      '<tr>' +\r\n        '<td valign=\"top\" class=\"border-right border-primary\">'+\r\n          '<div id=\"survey_tabs\"></div>' +\r\n        '</td>' +\r\n        '<td>'+\r\n          '<div id=\"please_wait_div\">Please wait while survey is downloading</div>'+\r\n          '<div id=\"this_survey_id\" class=\"needs-validation\" novalidate></div>' +\r\n          '<input type=\"button\" value=\"Proceed\" class=\"btn btn-primary\" id=\"proceed_button\">'+\r\n        '</td>'+\r\n      '</tr>'+\r\n    '</table>'\r\n  );\r\n} else if(settings.tab_hor_vert.toLowerCase() == \"none\"){\r\n  $(\"#survey_outline\").html(\r\n    '<div id=\"survey_tabs\" style=\"display:none\"></div>' +\r\n    '<div id=\"please_wait_div\">Please wait while survey is downloading</div>'+\r\n    '<div id=\"this_survey_id\" class=\"needs-validation\" novalidate></div>'\r\n  );\r\n} else {\r\n  bootbox.alert(\"If you are the researcher, please check the 'settings for this survey. The input for 'tab_hor_vert' appears to be invalid. Please change it to 'horizontal' or 'vertical' or 'none' or remove 'tab_hot_vert' altogether from the settings, which will make the tabs invisible\");\r\n}\r\n\r\n/*\r\n* Defining objects\r\n*/\r\n\r\npage_break_management = {\r\n  breaks_remaining : 0,\r\n  breaks_index     : 0\r\n}\r\n\r\nproceed_object = {\r\n  type:[],\r\n  name:[],\r\n  break_no:[]\r\n};\r\n\r\nscoring_object={\r\n  scales:[],\r\n  scale_scores:[],\r\n  update_scales:function(this_survey){\r\n    headers = Object.keys(this_survey[0]);\r\n    this.scales = headers.filter(elm => elm.includes(\"score:\"));\r\n    var scales_html = '';\r\n    this.scales.forEach(function(element){\r\n      element = element.replace(\": \",\":\");\r\n      scales_html += \"<input name='\"+element.replace(/ |:/g,\"_\")+\"' class='score_total \"+element.replace(/ |:/g,\"_\")+\"' disabled>\";\r\n    });\r\n    $(\"#scales_span\").html(scales_html);\r\n  }\r\n}\r\n\r\nsurvey_obj = {};\r\n\r\n/*\r\n* Element actions\r\n*/\r\n\r\n/*\r\n$(function() {\r\n  $( \".datepicker\" ).datepicker({\r\n    dateFormat : 'mm/dd/yy',\r\n    changeMonth : true,\r\n    changeYear : true,\r\n    yearRange: '-100y:c+nn',\r\n    maxDate: '-1d'\r\n  });\r\n});\r\n*/\r\n\r\n\r\n$('#ExperimentContainer').css('transform','scale(1,1)');\r\n\r\n$(\"#proceed_button\").on(\"click\",function(){\r\n  var proceed = true;\r\n  var tabs    = document.getElementsByClassName('show_tab active');\r\n  if(tabs.length > 0){\r\n    var current_tab       = document.getElementsByClassName(\r\n      'show_tab active')[0]\r\n        .id\r\n        .replace(\"_button\", \"\")\r\n        .replace(\"tab_\",    \"\");\r\n    var response_elements = $('#table_'+current_tab).find('.response_element');\r\n\r\n  } else {\r\n    response_elements = $(\".table_break:visible\").find(\".response_element\");\r\n  }\r\n  for(var i = 0; i < response_elements.length; i++){\r\n    [row_no,item_name] = retrieve_row_no_item_name(response_elements[i]);\r\n    if(typeof(survey_obj.data[row_no].optional) !== \"undefined\"){\r\n      var this_optional = survey_obj.data[row_no].optional.toLowerCase();\r\n\r\n      if(this_optional.indexOf(\"no\") !== -1){\r\n        this_optional = this_optional.split(\"-\");       // find out whether there's a minimal number of responses\r\n        if(this_optional.length == 1){                  // default is that length needs to be at least 1\r\n          var min_resp_length = 1;\r\n        } else if(this_optional.length == 2) {\r\n          var min_resp_length = this_optional[1];\r\n        } else {\r\n          bootbox.alert(\"Error - you appear to have too many '-' characters in the 'optional' column\");\r\n          return false;\r\n        }\r\n      } else {\r\n        min_resp_length = 0;\r\n      }\r\n\r\n      var quest_resp = isJSON($(\"#\"+response_elements[i].id).val());\r\n      if (quest_resp.length < min_resp_length){\r\n        proceed = false;\r\n  \t\t\t$(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-dark\");\r\n        $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-success\");\r\n        $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).addClass(\"text-danger\");\r\n      } else {\r\n  \t\t\t$(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-dark\");\r\n        $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-danger\");\r\n        $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).addClass(\"text-success\");\r\n      }\r\n    }\r\n  }\r\n\r\n  if(current_tab == survey_obj.tabs && proceed){\r\n    if(typeof(sql_surveys) == \"undefined\"){\r\n      //$(\".table_break\");\r\n      var next_table_no = parseFloat($(\".table_break:visible\")[0].id.replace(\"table\",\"\")) + 1;\r\n\r\n      if($(\".table_break#table\"+next_table_no).length == 0){\r\n        if(typeof(Phase) !== \"undefined\"){\r\n          Phase.submit();\r\n        } else {\r\n          bootbox.alert(\"You've finished! Click on the preview button to restart.\")\r\n        }\r\n      } else {\r\n        $(\".table_break\").hide();\r\n        $(\".table_break#table\" + next_table_no).show();\r\n      }\r\n    } else {\r\n      $(\"#survey_outline\").html(\"<h1> You have finished the preview of this survey.</h1>\");\r\n    }\r\n  } else if(current_tab < survey_obj.tabs && proceed) {\r\n    current_tab ++;\r\n    $(\"#tab_\"+current_tab+\"_button\").removeClass(\"btn-secondary\");\r\n    $(\"#tab_\"+current_tab+\"_button\").removeClass(\"disabled\");\r\n    $(\"#tab_\"+current_tab+\"_button\").addClass(\"btn-outline-dark\");\r\n    $(\"#tab_\"+current_tab+\"_button\").click();\r\n  } else if(proceed == false){\r\n    bootbox.alert(\"You're missing some responses. Please fill in all the answers for the questions in red above.\");\r\n  } else if(current_tab > survey_obj.tabs){\r\n    bootbox.alert(\"Error - please contact Scientific Open Solutions about this problem, error 'Survey_001'.\");\r\n  }\r\n});\r\n\r\n//by qwerty at https://stackoverflow.com/questions/2116558/fastest-method-to-replace-all-instances-of-a-character-in-a-string\r\nString.prototype.replaceAll = function(str1, str2, ignore){\r\n  return this.replace(new RegExp(str1.replace(/([\\/\\,\\!\\\\\\^\\$\\{\\}\\[\\]\\(\\)\\.\\*\\+\\?\\|\\<\\>\\-\\&])/g,\"\\\\$&\"),(ignore?\"gi\":\"g\")),(typeof(str2)==\"string\")?str2.replace(/\\$/g,\"$$$$\"):str2);\r\n}\r\n\r\n\r\n/*\r\n* Functions\r\n*/\r\n\r\nfunction clean_item(this_item){\r\n  if(this_item.indexOf(\"'\") !== -1 |\r\n     this_item.indexOf('\"') !== -1){\r\n    bootbox.alert(\"Please avoid apostraphes or quote marks in the responses the participant can give. These cause problems with smooth running of surveys. This occurs when you wrote:<br><br>\" + this_item);\r\n  }\r\n  return(this_item);\r\n}\r\n\r\nfunction generate_feedback_string(feedback_array, this_index, feedback_color, row){\r\n  if(feedback_array){                 //i.e. if it's not null\r\n    if(feedback_array.length > 1){\r\n      return \"<div class='feedback_span_multiple \"+row[\"item_name\"].toLowerCase()+\"_feedback' style='color:\"+feedback_color[this_index]+\"'>\"+feedback_array[this_index]+\"</div>\";\r\n    } else {\r\n      return \"<div class='feedback_span_single \" +\r\n      row[\"item_name\"].toLowerCase() + \"_feedback' style='color:\" +\r\n      feedback_color[this_index] +\r\n      \"'>\" +\r\n      feedback_array[this_index] +\r\n      \"</div>\";\r\n    }\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nfunction get_feedback(row){\r\n  if(typeof(row[\"feedback\"]) !== \"undefined\" && row[\"feedback\"] !== \"\"){\r\n    feedback_array = row[\"feedback\"].split(\"|\");\r\n    if(typeof(row[\"feedback_color\"]) == \"undefined\"){\r\n      bootbox.alert(\"The color for the feedback options has not been set. If you created this questionnaire, please add a column 'feedback_color' to your survey and separate the colors by a pipe (|) character.\");\r\n    }\r\n    feedback_color = row[\"feedback_color\"].split(\"|\");\r\n  } else {\r\n    feedback_array = null;\r\n    feedback_color = '';\r\n  }\r\n  return [feedback_array,feedback_color];\r\n}\r\n\r\nfunction isJSON(str) {\r\n  try {\r\n    return JSON.parse(str);\r\n  } catch (e) {\r\n    return str;\r\n  }\r\n}\r\n\r\nfunction likert_update(this_element){\r\n\r\n  [row_no,item_name] = retrieve_row_no_item_name(this_element);\r\n\r\n  $(\".row_\"+row_no).removeClass(\"active\");\r\n  $(\".row_\"+row_no).removeClass(\"btn-primary\");\r\n  $(\".row_\"+row_no).addClass(\"btn-outline-primary\");\r\n  $(this_element).removeClass(\"btn-outline-primary\");\r\n  $(this_element).addClass(\"btn-primary\");\r\n  $(\"#survey_\"+item_name+\"_response\").val(this_element.value);\r\n  response_check(this_element);\r\n}\r\n\r\nfunction load_survey(survey){\r\n  /*\r\n  * are we in preview?\r\n  */\r\n  if(typeof(parent.collector_survey_preview) !== \"undefined\"){\r\n    survey_content = survey;\r\n  } else if(typeof(parent.master) !== \"undefined\" && parent.master.surveys.preview){\r\n    survey_content = survey;\r\n    survey_obj.mods = parent.master.mods;\r\n  } else {\r\n    survey = survey.toLowerCase().replace(\".csv\",\"\") + \".csv\";\r\n\r\n    if(typeof(parent.parent.project_json.surveys) !== \"undefined\" &&\r\n       typeof(parent.parent.project_json.surveys[survey]) !== \"undefined\"){\r\n      survey_content = parent.parent.project_json.surveys[survey];\r\n      survey_obj.mods = parent.parent.project_json.mods;\r\n\r\n    } else if(\r\n      typeof(parent.parent.project_json.surveys) !== \"undefined\" &&\r\n      typeof(parent.parent.project_json.surveys[\r\n        survey.replace(\".csv\",\"\")\r\n      ])\r\n    ){\r\n\t\t\tsurvey_content = parent.parent.project_json.surveys[survey.replace(\".csv\",\"\")];\r\n      survey_obj.mods = parent.parent.project_json.mods;\r\n\t\t}\telse {\r\n      bootbox.alert(\"Survey \" + survey  + \" doesn't appear to exist\");\r\n    }\r\n  }\r\n  process_returned_questionnaire(survey_content);\r\n}\r\n\r\nfunction process_question(row, row_no){\r\n  //row.values = row.values == \"\" ? row.answers : row.values;\r\n  if(row_check(\"page_break\", row)){\r\n    page_break_management.breaks_remaining++;\r\n    question_td = \"</tr></table><table id='table\" +\r\n      page_break_management.breaks_remaining +\r\n      \"' style='display:none' class='table_break'></tr>\";\r\n  } else {\r\n    if(\r\n      typeof(row[\"values\"]) !== \"undefined\" & typeof(row[\"values\"]) !== \"function\"\r\n    ){ //to address microsoft edge issue.\r\n      value_array = row[\"values\"].split(\"|\");\r\n    } else {\r\n      value_array='';\r\n    }\r\n\r\n    if(row[\"item_name\"].indexOf(\" \") !== -1){\r\n      bootbox.alert(\"Please note that the 'item name' '\" +\r\n        row['item_name'] +\r\n        \"' is invalid because it has at least one space. Please use underscores instead of spaces. If you're not the creator of this task, please contact the person who created it.\"\r\n      );\r\n    }\r\n\r\n    /*\r\n    * class for scoring\r\n    */\r\n\r\n    var this_class = \"\";\r\n    for(var i=0;i<scoring_object.scales.length;i++){\r\n      if(row[scoring_object.scales[i].toLowerCase()]==\"1\"){\r\n        this_class += scoring_object.scales[i].toLowerCase().replace(\r\n          \"score: \",\"\"\r\n        ).replace(/ |-/,\"\") + \" \";\r\n      }\r\n      if(row[scoring_object.scales[i].toLowerCase()]==\"r1\"){\r\n        this_class += scoring_object.scales[i].toLowerCase().replace(\"score: \",\"\").replace(\" \",\"_\")+\"-r1 \";\r\n      }\r\n    }\r\n\r\n    /*\r\n    * adding to row to help with \"write\" function\r\n    */\r\n    var row_x = JSON.parse(\r\n      JSON.stringify(row)\r\n    );\r\n    row_x[\"row_no\"] = row_no;\r\n    row_x[\"this_class\"] = this_class;\r\n\r\n    [feedback_array,feedback_color] = get_feedback(row);\r\n\r\n\r\n    question_td = '<input type=\"hidden\" class=\"response_element row_' + row_no + '\" id=\"survey_' +\r\n      row[\"item_name\"].toLowerCase() +\r\n      '_response\" name=\"survey_' +\r\n      row[\"item_name\"].toLowerCase() +\r\n      '_response\" value=\"\">';\r\n\r\n    /*\r\n    * Survey settings\r\n    */\r\n    [row_ques_perc,row_resp_perc] = row_perc(row[\"question_width\"]);\r\n\r\n    if(typeof(settings.feedback_before_response) == \"undefined\"){\r\n      settings.feedback_before_response = true;\r\n    }\r\n\r\n    if(typeof(settings.lock_after_feedback) == \"undefined\"){\r\n      settings.lock_after_feedback = false;\r\n    }\r\n\r\n    if(typeof(row[\"type\"]) == \"undefined\"){\r\n      return false;\r\n    }\r\n\r\n    if(\r\n      typeof(survey_obj.mods) !== \"undefined\" &&\r\n\t\t\ttypeof(survey_obj.mods[row.type]) !== \"undefined\"\r\n    ){\r\n      var mod_html = survey_obj.mods[row.type].contents;\r\n\r\n      Object.keys(row).forEach(function(attribute){\r\n        mod_html = mod_html.replaceAll(\"{{\"+attribute+\"}}\",row[attribute]);\r\n      });\r\n      question_td += mod_html;\r\n    } else {\r\n      switch(row[\"type\"].toLowerCase()){\r\n        case \"page_start\":\r\n          var tabs_html = $(\"#survey_tabs\").html();\r\n          if(settings.tab_hor_vert == \"horizontal\"){\r\n            span_div = \"span\";\r\n          } else if(settings.tab_hor_vert == \"vertical\"){\r\n            span_div = \"div\";\r\n          }\r\n          if(typeof(survey_obj.tabs) == \"undefined\"){\r\n            survey_obj.tabs = 0;\r\n          } else {\r\n            survey_obj.tabs++;\r\n          }\r\n          if(survey_obj.tabs == 0){ //i.e. is the first tab\r\n            active_button = \"btn-outline-primary active\";\r\n          } else {\r\n            active_button = \"btn-secondary disabled\";\r\n          }\r\n          if(settings.tab_hor_vert == \"vertical\"){\r\n            var vert_btn_block = \"btn-block\";\r\n          } else {\r\n            var vert_btn_block = \"\";\r\n          }\r\n\r\n          tabs_html +=  '<'+span_div+' class=\"btn-group-toggle\" data-toggle=\"buttons\">'+\r\n            '<label id=\"tab_' + survey_obj.tabs + '_button\" class=\"btn show_tab '+active_button+' '+vert_btn_block+'\">'+\r\n              '<input type=\"checkbox\" checked autocomplete=\"off\">'+ row['text'] +\r\n            '</label>'+\r\n          '</'+span_div+'>';\r\n\r\n          $(\"#survey_tabs\").html(tabs_html);\r\n\r\n          page_break_indexes = [];\r\n          survey_obj.data.forEach(function(row,this_index){\r\n            if(typeof(row.type) !== \"undefined\" && row.type.toLowerCase() == \"page_start\"){\r\n              page_break_indexes.push(this_index);\r\n            }\r\n          });\r\n\r\n          if(survey_obj.tabs > 0){\r\n            question_td += \"</td><td></td></tr></table></div><div class='survey_page' id='tab_\" + survey_obj.tabs + \"' style='display:none'><table id='table_\" + survey_obj.tabs + \"' class='table_break'><tr>\";\r\n          } else {\r\n            question_td += \"</td><td></td></tr></table><div class='survey_page' id='tab_\"+survey_obj.tabs+\"' ><table id='table_\"+survey_obj.tabs+\"' class='table_break'><tr>\";\r\n          }\r\n          break;\r\n        case \"checkbox\":\r\n        case \"checkbox_vertical\":\r\n          question_td += write(\"checkbox_vertical\",row_x);\r\n          break;\r\n        case \"checkbox_horizontal\":\r\n          question_td += write(\"checkbox_horizontal\",row_x);\r\n          break;\r\n        case \"checkbox_single\":\r\n          question_td += write(\"checkbox_single\", row_x);\r\n          break;\r\n        case \"date\":\r\n          question_td += write(\"date\",row_x);\r\n        break;\r\n        case \"dropdown\":\r\n\t\t\t\tcase \"select\":\r\n          question_td += write(\"dropdown\",row_x);\r\n        break;\r\n        case \"email\":\r\n          question_td += write(\"email\", row_x);\r\n        break;\r\n        case \"google_slide\":\r\n        case \"jumbled\":\r\n        case \"instruct\":\r\n          // these are defined elsewhere to take the whole row\r\n          break;\r\n        case \"likert\":\r\n          question_td += write(\"likert\", row_x);\r\n        break;\r\n        case \"number\":\r\n          question_td += write(\"number\", row_x);\r\n          break;\r\n        case \"para\":\r\n          question_td += write(\"para\", row_x);\r\n          break;\r\n        case \"radio\":\r\n        case \"radio_vertical\":\r\n          question_td += write(\"radio_vertical\", row_x);\r\n          break;\r\n        case \"radio_horizontal\":\r\n          question_td += write(\"radio_horizontal\", row_x);\r\n        break;\r\n\r\n        case \"report_score\":\r\n            question_td += \"<input disabled class='form-control score_\" + row[\"item_name\"] + \" \"+row[\"item_name\"]+\"_item row_\"+row_no+\"' type='text' name='survey_\"+row['item_name'].toLowerCase()+\"'>\";\r\n        break;\r\n\r\n        case \"text\":\r\n          question_td += write(\"text\", row_x);\r\n        break;\r\n      }\r\n    }\r\n    if(feedback_array){\r\n        question_td += \"<button class='btn btn-outline-info feedback_btn \"+row[\"item_name\"]+\"_item row_\"+row_no+\"' id='reveal_\"+row[\"item_name\"].toLowerCase()+\"_feedback' onclick='reveal_answers(this)'>Show</button>\";\r\n    }\r\n  }\r\n  if(typeof(row[\"type\"])== \"undefined\"){\r\n      return '';\r\n  } else {\r\n    if(row[\"type\"].toLowerCase() == \"instruct\"){\r\n      row_html  = write(\"instruct\",row);\r\n    } else if(row[\"type\"].toLowerCase() == \"jumbled\"){\r\n      //row_html  = question_td + write(\"jumbled\",row); <-- this is better, but being paused for placement work Anthony is doing\r\n      row_html  = write(\"jumbled\",row);\r\n\t\t} else if(row[\"type\"].toLowerCase() == \"likert\"){\r\n\r\n\t\t\tif(typeof(row[\"side_by_side\"]) !== \"undefined\" &&\r\n\t\t\t\t row[\"side_by_side\"].toLowerCase() == \"yes\"){\r\n\r\n\t\t\t\tvar row_html=\"<td class='text-primary' id='survey_\"+row[\"item_name\"].toLowerCase().replace(\" \",\"_\")+\"_question' style='width:\"+row_ques_perc+\"; text-align:right'>\"+row[\"text\"]+\"</td><td>\"+question_td+\"</label></td>\";\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar row_html = \"<tr>\" +\r\n\t\t\t\t\t\t\"<td colspan='2'>\" +\r\n\t\t\t\t\t\t\trow[\"text\"] +\r\n\t\t\t\t\t\t\"</td>\" +\r\n\t\t\t\t\t\"</tr>\" +\r\n\t\t\t\t\t\"<tr>\" +\r\n\t\t\t\t\t\t\"<td colspan='2' align='center'>\" +\r\n\t\t\t\t\t\t\tquestion_td +\r\n\t\t\t\t\t\t\"</td>\" +\r\n\t\t\t\t\t\"</tr>\";\r\n\t\t\t}\r\n\r\n\r\n    } else if(row[\"type\"].toLowerCase()==\"google_slide\") {\r\n      var row_html=\"<td colspan='2'>\"+row[\"text\"]+\"</label></td>\";\r\n    } else if(typeof(row[\"no_text\"]) !== \"undefined\" && row[\"no_text\"] == \"on\"){\r\n      var row_html=\"<td colspan='2'>\"+question_td+\"</td>\";\r\n    } else {\r\n      if(row['text'].toLowerCase() == \"page_start\" | row['type'].toLowerCase() == \"page_start\"){\r\n        row_html = question_td;\r\n      } else {\r\n        var row_html=\"<td class='text-primary' id='survey_\"+row[\"item_name\"].toLowerCase().replace(\" \",\"_\")+\"_question' style='width:\"+row_ques_perc+\"; text-align:right'>\"+row[\"text\"]+\"</td><td>\"+question_td+\"</label></td>\";\r\n      }\r\n    }\r\n    if(typeof(row[\"optional\"]) !== \"undefined\"){\r\n      if(row[\"optional\"].toLowerCase() == \"no\"){\r\n        proceed_object.name.push(row[\"item_name\"]);\r\n        proceed_object.type.push(row[\"type\"]);\r\n        proceed_object.break_no.push(page_break_management.breaks_remaining);\r\n      }\r\n    }\r\n    if(typeof(row[\"shuffle_question\"]) == \"undefined\" || row[\"shuffle_question\"].toLowerCase() == \"off\"){\r\n      this_shuffle='none';\r\n    } else {\r\n      this_shuffle=row[\"shuffle_question\"];\r\n    }\r\n    return [row_html,this_shuffle];\r\n  }\r\n}\r\n\r\nfunction process_score(row_no, values_col, this_response, item, values_reverse ){\r\n  item_values = survey_obj.data[row_no][values_col].split(\"|\");\r\n  if(typeof(values_reverse) !== \"undefined\" && values_reverse == \"r\"){\r\n    item_values.reverse();\r\n  }\r\n  item_answers      = survey_obj.data[row_no][\"values\"].split(\"|\");\r\n  var this_value    = item_values[item_answers.indexOf(this_response)];\r\n  $(\"#survey_\" + item + \"_score\").val(this_value);\r\n  if(typeof(this_value) !== \"undefined\"){\r\n    return parseFloat(this_value);\r\n  }\r\n}\r\n\r\nfunction process_returned_questionnaire(data){\r\n  /*\r\n  * trim the data if it has a blank final row\r\n  */\r\n  if(data[data.length - 1].length < data[0].length){\r\n    data.pop();\r\n  }\r\n\r\n  survey_obj.data = data;\r\n  console.log(\"data\");\r\n  console.log(data);\r\n\r\n\r\n\r\n\r\n  survey_obj.data = Papa.unparse(survey_obj.data),{\r\n    header:true,\r\n    beforeFirstChunk: function(chunk) {\r\n      var rows = chunk.split( /\\r\\n|\\r|\\n/ );\r\n      var headings = rows[0].toLowerCase();\r\n      rows[0] = headings;\r\n      return rows.join(\"\\r\\n\");\r\n    },\r\n  };\r\n\r\n  console.log(JSON.stringify(survey_obj.data));\r\n\r\n  survey_obj.data = parent.parent.Collector.PapaParsed(survey_obj.data);\r\n\r\n  survey_obj.scales = {};\r\n  var col_headers = Object.keys(survey_obj.data[0]);\r\n  col_headers.forEach(function(header){\r\n    if(header.indexOf(\"score:\")==0){\r\n      var original_header = header;\r\n      header = header.replace(\"score: \",\"\");\r\n      header = header.replace(\"score:\",\"\");\r\n      survey_obj.scales[header] = {};\r\n      survey_obj.scales[header].questions = {};\r\n\r\n      for(var i = 1; i < survey_obj.data.length; i++){\r\n        row = survey_obj.data[i];\r\n        if(row[original_header] !== \"\" && typeof(row[original_header]) !== \"undefined\"){\r\n          survey_obj.scales[header].questions[i] = row[original_header];\r\n        }\r\n      }\r\n    }\r\n  });\r\n  write_survey(survey_obj.data,\"this_survey_id\");\r\n  $(\"#please_wait_div\").hide();\r\n  $(\"#proceed_button\").show();\r\n  $('html, body').animate({\r\n    scrollTop: $(\"#survey_outline\").offset().top\r\n  }, 1000);\r\n}\r\n\r\nfunction row_perc(this_rat){\r\n\tif(typeof(this_rat) == \"undefined\"){\r\n    row_resp_perc = \"50%\";\r\n    row_ques_perc = \"50%\";\r\n  } else {\r\n    row_resp_perc = parseFloat(100-this_rat.replace(\"%\",\"\"))+\"%\";\r\n    row_ques_perc = parseFloat(this_rat.replace(\"%\",\"\"))+\"%\";\r\n  }\r\n  return [row_ques_perc,row_resp_perc];\r\n}\r\n\r\nfunction response_check(submitted_element){\r\n  switch(submitted_element.type){\r\n    case \"checkbox\":\r\n\r\n\r\n\r\n\r\n      var checked_responses = $(\"[name='\"+submitted_element.name+\"']:checked\");\r\n      if(checked_responses.length){ //i.e. more than 0\r\n        var values = [];\r\n        for(var i = 0; i < checked_responses.length; i++){\r\n          values.push(checked_responses[i].value);\r\n        }\r\n        $(\"#\"+submitted_element.name+\"_response\").val(JSON.stringify(values));\r\n      } else {\r\n        $(\"#\"+submitted_element.name+\"_response\").val(\"\");\r\n      }\r\n\r\n      break;\r\n\r\n      case \"button\":\r\n        $(\"#\" + submitted_element.name + \"_response\").val(\r\n          submitted_element.value\r\n        );\r\n      break;\r\n\r\n      case \"number\":\r\n      case \"radio\":\r\n      case \"select-one\":\r\n      case \"text\":\r\n      case \"textarea\":\r\n        $(\"#\" + submitted_element.name + \"_response\").val(\r\n          submitted_element.value\r\n        );\r\n      break;\r\n    }\r\n    update_score();\r\n}\r\n\r\nfunction retrieve_row_no_item_name(this_element){\r\n  var these_classes = this_element.className.split(\" \");\r\n  var row_no;\r\n  var item_name;\r\n  these_classes.forEach(function(this_class){\r\n    if (this_class.indexOf('row_') > -1) {\r\n      row_no = this_class.replace(\"row_\",\"\");\r\n    }\r\n    if (this_class.indexOf('_item') > -1) {\r\n      item_name = this_class.replace(\"_item\",\"\").toLowerCase();\r\n    }\r\n  });\r\n  return [row_no,item_name];\r\n}\r\n\r\nfunction reveal_answers(this_element){\r\n  var this_response = $(\"#\"+this_element.id.replace(\"reveal_\",\"survey_\").replace(\"_feedback\",\"_response\")).val();\r\n  response_present = this_response == \"\" ? false : true;\r\n\r\n  if(settings.feedback_before_response == false && response_present == false){\r\n    bootbox.alert(\"Please respond before trying reveal the feedback.\")\r\n  } else {\r\n    if($(\"#\"+this_element.id).hasClass(\"btn-outline-info\")){\r\n      $(\".\"+this_element.id.replace(\"reveal_\",\"\")).show(500);\r\n      if(settings.lock_after_feedback){\r\n        var item_class = this_element.id.replace(\"_feedback\",\"_item\").replace(\"reveal_\",\"\");\r\n        $(\".\"+item_class).prop(\"disabled\",true);\r\n        document.getElementsByClassName(item_class).title = \"The person creating this content has set it so that your answers are locked in once you have chosen to see the feedback\";\r\n        $(\"#\"+this_element.id).addClass(\"btn-info\");\r\n        $(\"#\"+this_element.id).removeClass(\"btn-outline-info\");\r\n        $(\"#\"+this_element.id).html(\"Locked\");\r\n        document.getElementById(this_element.id).title = 'The person creating this content has set it so that your answers are locked in once you have chosen to see the feedback';\r\n        $(\"#\"+this_element.id).addClass(\"disabled\");\r\n      } else {\r\n        $(\"#\"+this_element.id).html(\"Hide\");\r\n        $(\"#\"+this_element.id).removeClass(\"btn-outline-info\");\r\n        $(\"#\"+this_element.id).addClass(\"btn-info\");\r\n      }\r\n    } else {\r\n      $(\"#\"+this_element.id).html(\"Show\");\r\n      $(\".\"+this_element.id.replace(\"reveal_\",\"\")).hide(500);\r\n      $(\"#\"+this_element.id).addClass(\"btn-outline-info\");\r\n      $(\"#\"+this_element.id).removeClass(\"btn-info\");\r\n    }\r\n  }\r\n}\r\n\r\nfunction row_check(type, row){\r\n  if(type = \"page_break\"){\r\n    return (\r\n      typeof(row[\"text\"]) !== \"undefined\" &&\r\n\t\t  typeof(row[\"type\"]) !== \"undefined\" &&\r\n\t\t  row['text'].toLowerCase() == \"page_break\" |\r\n      row['type'].toLowerCase() == \"page_break\"\r\n    )\r\n\r\n  } else if(type=\"\"){\r\n\r\n  }\r\n}\r\n\r\n// http://stackoverflow.com/questions/962802#962890\r\nfunction shuffle(array) {\r\n  var tmp, current, top = array.length;\r\n  if(top) while(--top) {\r\n    current = Math.floor(Math.random() * (top + 1));\r\n    tmp = array[current];\r\n    array[current] = array[top];\r\n    array[top] = tmp;\r\n  }\r\n  return array;\r\n}\r\n\r\nfunction shuffle_answers(row){\r\n  if(\r\n    typeof(row[\"shuffle_answers\"]) !== \"undefined\" &&\r\n    row[\"shuffle_answers\"].toLowerCase() == \"yes\"\r\n  ){\r\n    var answers = row[\"answers\"].split(\"|\");\r\n    order = shuffle([...Array(answers.length).keys()]);\r\n\r\n    var ordered_answers = order.map(function(position){\r\n      return answers[position];\r\n    });\r\n    row[\"answers\"] = ordered_answers.join(\"|\");\r\n\r\n    if(row[\"values\"].indexOf(\"|\") !== -1){\r\n      var values = row[\"values\"].split(\"|\");\r\n      var ordered_values = order.map(function(position){\r\n        return values[position];\r\n      });\r\n      row[\"values\"] = ordered_values.join(\"|\");\r\n    }\r\n  }\r\n  return row;\r\n}\r\n\r\nfunction update_score(){\r\n  var scales = Object.keys(survey_obj.scales);\r\n  scales.forEach(function(scale){\r\n    this_scale = survey_obj.scales[scale];\r\n    var questions = Object.keys(this_scale.questions);\r\n    var this_score = 0;\r\n    complete_score = true;\r\n\r\n    questions.forEach(function(row_no){\r\n      var item = survey_obj.data[row_no].item_name.toLowerCase();\r\n      var this_response = $(\"#survey_\" + item + \"_response\").val();\r\n      var normal_reverse = this_scale.questions[row_no];\r\n\r\n\r\n      if(normal_reverse.indexOf(\"-\") == -1){\r\n        var multiplier = parseFloat(normal_reverse.replace(\"r\",\"\"));\r\n        if(normal_reverse.indexOf(\"r\") == 0){ //reverse the values\r\n\r\n          this_value = process_score(\r\n            row_no,\r\n            \"values\",\r\n            this_response,\r\n            item,\r\n            \"r\"\r\n          );\r\n        } else {\r\n          this_value = process_score(\r\n            row_no,\r\n            \"values\",\r\n            this_response,\r\n            item\r\n          );\r\n        }\r\n      } else {\r\n        values_reverse = normal_reverse.split(\"-\");\r\n        values_col     = values_reverse[0].toLowerCase();\r\n        normal_reverse = values_reverse[1];\r\n        var multiplier = parseFloat(normal_reverse.replace(\"r\",\"\"));\r\n\r\n        if(normal_reverse.indexOf(\"r\") == 0){ //reverse the values\r\n          this_value = process_score(row_no,values_col,this_response,item,\"r\");\r\n        } else {\r\n          this_value = process_score(row_no,values_col,this_response,item);\r\n        }\r\n      }\r\n      if(typeof(this_value) !== \"undefined\"){\r\n        this_score += multiplier * this_value;\r\n      } else {\r\n        complete_score = false;\r\n      }\r\n    });\r\n    if(complete_score){\r\n      $(\".score_\"+scale).addClass(\"bg-success\");\r\n      $(\".score_\"+scale).removeClass(\"bg-danger\");\r\n      $(\".score_\"+scale).addClass(\"text-light\");\r\n      document.getElementsByClassName(\"score_\"+scale).title = 'All relevant questions have been answered';\r\n    } else {\r\n      $(\".score_\"+scale).removeClass(\"text-success\");\r\n      $(\".score_\"+scale).addClass(\"bg-danger\");\r\n      $(\".score_\"+scale).addClass(\"text-light\");\r\n      document.getElementsByClassName(\"score_\"+scale).title = 'At least one relevant questions has NOT been answered';\r\n    }\r\n    $(\".score_\"+scale).val(this_score);\r\n  });\r\n}\r\n\r\nfunction write(type, row){\r\n  var this_html = \"\";\r\n  [feedback_array, feedback_color] = get_feedback(row);\r\n  row = shuffle_answers(row);\r\n  row[\"item_name\"] = row[\"item_name\"].toLowerCase();\r\n\r\n\r\n  if(type == \"checkbox_horizontal\"){\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var this_table = $(\"<table>\");\r\n        this_row = this_table[0].insertRow()\r\n    for(var i=0; i<options.length;i++){\r\n      var this_cell = this_row.insertCell();\r\n      var this_div = $(\"<div>\");\r\n          this_div.addClass(\"custom-control\");\r\n          this_div.addClass(\"custom-checkbox\");\r\n      var this_input = $(\"<input>\");\r\n          this_input[0].type = \"checkbox\";\r\n          this_input[0].id = row[\"item_name\"] + i;\r\n          this_input[0].name = 'survey_' + row[\"item_name\"];\r\n          this_input.addClass(\"custom-control-input\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(row[\"custom-control\"])\r\n            .addClass(row[\"custom-checkbox\"])\r\n            .addClass(row[\"item_name\"] +'_item')\r\n            .addClass('row_' + row[\"row_no\"]);\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"] + i;\r\n          this_label[0].innerText = options[i];\r\n          this_label.addClass(\"custom-control-label\");\r\n      this_div.append(this_input)\r\n              .append(this_label);\r\n      this_cell.innerHTML = this_div[0].outerHTML;\r\n    }\r\n\r\n    this_html += this_table[0].outerHTML;\r\n\r\n  } else if(type == \"checkbox_single\"){\r\n\r\n    var this_div = $(\"<div>\");\r\n        this_div.attr(\"data-toggle\", \"buttons\");\r\n        this_div.addClass(\"btn-group-toggle\");\r\n    var this_label = $(\"<label>\");\r\n        this_label.addClass(\"btn\");\r\n        this_label.addClass(\"btn-outline-primary\");\r\n        this_label.html(row[\"answers\"]);\r\n    var this_checkbox = $(\"<input>\");\r\n        this_checkbox[0].id = row[\"item_name\"];\r\n        this_checkbox[0].name = \"survey_\" +\r\n          row[\"item_name\"].toLowerCase();\r\n        this_checkbox[0].type = \"checkbox\";\r\n        this_checkbox.attr(\"checked\",true);\r\n        this_checkbox\r\n          .addClass(\"response\")\r\n          .addClass(\r\n            row[\"item_name\"] +\r\n            '_item row_' +\r\n            row[\"row_no\"]\r\n          );\r\n    this_div.append(this_label);\r\n    this_label.append(this_checkbox)\r\n    this_html += this_div[0].outerHTML;\r\n\r\n  } else if(type == \"checkbox_vertical\"){\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var values  = row[\"values\"].split(\"|\");\r\n    for(var i = 0; i < options.length; i++){\r\n      feedback_string = generate_feedback_string(\r\n        feedback_array, i, feedback_color, row\r\n      );\r\n      var this_div = $(\"<div>\");\r\n          this_div\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-checkbox\");\r\n      var this_checkbox = $(\"<input>\");\r\n          this_checkbox[0].id= row[\"item_name\"]+ i;\r\n          this_checkbox[0].value = options[i];\r\n          this_checkbox[0].type = \"checkbox\";\r\n          this_checkbox[0].name = 'survey_'+\r\n            row[\"item_name\"].toLowerCase();\r\n          this_checkbox\r\n            .addClass(\"custom-control-input\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-checkbox\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"item_name\"] + \"_item_row\");\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"] + i;\r\n          this_label[0].innerHTML = options[i];\r\n          this_label.addClass(\"custom-control-label\");\r\n      this_div.append(this_checkbox)\r\n              .append(this_label);\r\n\r\n      this_html += this_div[0].outerHTML;\r\n    }\r\n    if(typeof(row[\"other\"]) !== \"undefined\" && row[\"other\"].toLowerCase() == \"yes\"){\r\n      var this_div = $(\"<div>\");\r\n          this_div\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-checkbox\");\r\n      var this_checkbox = $(\"<input>\");\r\n          this_checkbox[0].id= row[\"item_name\"]+ \"_other\";\r\n          this_checkbox[0].value = \"Other\";\r\n          this_checkbox[0].type = \"checkbox\";\r\n          this_checkbox[0].name = 'survey_'+\r\n            row[\"item_name\"].toLowerCase();\r\n          this_checkbox\r\n            .addClass(\"custom-control-input\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-checkbox\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"item_name\"] + \"_item_row\");\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"] + \"_other\";\r\n          this_label[0].innerHTML = \"Other\";\r\n          this_label.addClass(\"custom-control-label\");\r\n      this_div.append(this_checkbox)\r\n              .append(this_label);\r\n\r\n      this_html += this_div[0].outerHTML;\r\n\r\n      var text_input = $(\"<input>\");\r\n          text_input.addClass(\"form-control\");\r\n          text_input.attr(\"placeholder\", \"(Please specify if you selected 'Other')\");\r\n          text_input[0].name = 'survey_'+\r\n            row[\"item_name\"].toLowerCase() +\r\n            \"_other\";\r\n      this_html += text_input[0].outerHTML;\r\n    }\r\n\r\n  } else if(type == \"date\"){\r\n    var input = $(\"<input>\");\r\n        input.addClass(\"response\")\r\n             .addClass(\"custom-control\")\r\n             .addClass(\"datepicker\")\r\n             .addClass(\"date\")\r\n             .addClass(row[\"item_name\"] + \"_item\")\r\n             .addClass(\"row_\" + row[\"row_no\"])\r\n             .attr(\"name\", \"survey_\" + row['item_name'])\r\n             .attr(\"type\", \"text\");\r\n\r\n  } else if(type == \"dropdown\"){\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var this_dropdown = $(\"<select>\");\r\n        this_dropdown\r\n          .addClass(\"form-select\")\r\n          .addClass(\"response\")\r\n          .addClass(\"txt-primary\")\r\n          .addClass(row[\"item_name\"] + \"_item\")\r\n          .addClass(\"row_\" + row[\"row_no\"])\r\n          .addClass(\"collector_button\")\r\n          .attr(\"name\", \"survey_\" + row[\"item_name\"])\r\n          .css(\"margin\", \"0px\")\r\n          .css(\"width\", \"auto\");\r\n\r\n    /* this will be necessary to tidy up jumbled sentences\r\n    if(typeof(row[\"item_name_old\"]) !== \"undefined\"){\r\n      this_dropdown.addClass(row[\"item_name_old\"] + \"_item\");\r\n    }\r\n    */\r\n\r\n    this_dropdown.append(\"<option selected disabled hidden>-- no option selected --</option>\");\r\n    options.forEach(function(this_option){\r\n      this_dropdown.append(\r\n        \"<option>\" + this_option + \"</option>\"\r\n      );\r\n    });\r\n    var this_html = this_dropdown[0].outerHTML;\r\n\r\n  } else if(type == \"email\"){\r\n    var this_input = $(\"<input>\");\r\n        this_input\r\n          .addClass(\"form-control\")\r\n          .addClass(\"response\")\r\n          .addClass(row[\"item_name\"] + \"_item row_\" + row[\"row_no\"])\r\n          .attr(\"type\", \"email\")\r\n          .attr(\"name\", 'survey_' + row['item_name']);\r\n\r\n  } else if(type == \"instruct\"){\r\n    this_html += \"<td colspan='2'>\" + row[\"text\"] + \"</td>\";\r\n  } else if(type == \"jumbled\"){\r\n    var this_td = $(\"<td>\");\r\n        this_td.attr(\"colspan\",2) ;\r\n\r\n    var this_div = $(\"<div>\");\r\n        this_div.addClass(\"form-inline\")\r\n                .addClass(\"bg-secondary\")\r\n                .addClass(\"text-white\")\r\n                .css(\"width\", \"100%\")\r\n                .css(\"padding\", \"20px\")\r\n                .css(\"margin\", \"20px\")\r\n                .css(\"border-radius\", \"5px\");\r\n\r\n    var question = row[\"text\"].split(\"|\");\r\n    questions_html = question.map(function(text,index){\r\n      if(index == question.length - 1){\r\n        return text;\r\n      } else {\r\n        var row_x = row;\r\n        row_x[\"item_name_old\"] = row_x[\"item_name\"];\r\n        row_x[\"item_name\"]     = row_x[\"item_name\"] + \"_\" + index;\r\n        var row_html = text + write(\"dropdown\", row_x)\r\n          .replace(\"margin: 0px\",\"margin: 5px\");\r\n        row_x[\"item_name\"] = row_x[\"item_name_old\"];\r\n        return row_html;\r\n      }\r\n    }).join(\"\");\r\n\r\n    this_td.append(this_div);\r\n    this_div.append(questions_html);\r\n\r\n    this_html = this_td[0].outerHTML;\r\n\r\n  } else if(type == \"likert\"){\r\n    // set styles\r\n    if(typeof(row[\"btn_width\"]) == \"undefined\"){\r\n      row[\"btn_width\"] = \"auto\"\r\n    }\r\n    if(typeof(row[\"side_width\"]) == \"undefined\"){\r\n      var side_width = \"auto\";\r\n    }\r\n\r\n    // create and build these elements\r\n    var this_div = $(\"<div>\");\r\n    if(typeof(row[\"side_text\"]) !== \"undefined\" &&\r\n      row[\"side_text\"] !== \"\"\r\n    ){\r\n      side_text = row[\"side_text\"].split(\"|\");\r\n      side_text = side_text.map(function(this_side){\r\n        var this_span = $(\"<span>\");\r\n            this_span.css(\"width\", side_width)\r\n                     .css(\"padding\", \"20px\")\r\n                     .addClass(\"text-primary\")\r\n                     .html(\"<b>\" + this_side + \"</b>\");\r\n        return this_span[0].outerHTML;\r\n      });\r\n    } else {\r\n      side_text = [\"\",\"\"];\r\n    }\r\n\r\n    this_div\r\n      .addClass(\"btn-group\")\r\n      .addClass(\"btn-group-toggle\")\r\n      .append(side_text[0])\r\n      .attr(\"data-togle\",\"buttons\");\r\n\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var values  = row[\"values\"].split(\"|\");\r\n    for(var i=0; i<options.length;i++){\r\n      var this_button = $(\"<button>\");\r\n          this_button\r\n            .attr(\"autocomplete\", \"off\")\r\n            .attr(\"id\", 'likert_' + row[\"row_no\"] + '_' + i)\r\n            .attr(\"onclick\",'likert_update(this)')\r\n            .attr(\"value\", values[i])\r\n            .addClass(\"btn\")\r\n            .addClass(\"btn-outline-primary\")\r\n            .addClass(\"survey_btn\")\r\n            .addClass(\r\n              row[\"item_name\"] + '_item row_' + row[\"row_no\"]\r\n            )\r\n            .css(\"width\", row[\"btn_width\"])\r\n            .html(clean_item(options[i]));\r\n      this_div.append(this_button);\r\n    }\r\n    this_div.append(side_text[1]);\r\n    this_html += this_div[0].outerHTML;\r\n\r\n  } else if(type == \"number\"){\r\n    var this_input = $(\"<input>\");\r\n        this_input[0].type = \"number\";\r\n        this_input[0].name = 'survey_' + row['item_name'];\r\n        this_input\r\n          .addClass(\"response\")\r\n          .addClass(\"form-control\")\r\n          .addClass(row[\"item_name\"] + \"_item row_\" + row[\"row_no\"]);\r\n    this_html += this_input[0].outerHTML;\r\n\r\n  } else if(type == \"para\"){\r\n    var this_textarea = $(\"<textarea>\");\r\n        this_textarea[0].name = \"survey_\" + row['item_name'];\r\n        this_textarea\r\n          .addClass(row[\"item_name\"] + \"_item row_\" + row[\"row_no\"])\r\n          .addClass(\"response\");\r\n        this_textarea.css(\"width\", \"100%\")\r\n                     .css(\"height\", \"200px\");\r\n    this_html += this_textarea[0].outerHTML;\r\n\r\n  } else if(type == \"radio_horizontal\"){\r\n\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var this_table = $(\"<table>\");\r\n        this_row = this_table[0].insertRow()\r\n    for(var i=0; i<options.length;i++){\r\n      var this_cell = this_row.insertCell();\r\n      var this_div = $(\"<div>\");\r\n          this_div.addClass(\"custom-control\");\r\n          this_div.addClass(\"custom-radio\");\r\n      var this_input = $(\"<input>\");\r\n          this_input[0].type = \"radio\";\r\n          this_input[0].id = row[\"item_name\"] + i;\r\n          this_input[0].name = 'survey_' + row[\"item_name\"];\r\n          this_input.addClass(\"custom-control-input\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(row[\"custom-control\"])\r\n            .addClass(row[\"custom-radio\"])\r\n            .addClass(row[\"item_name\"] +'_item')\r\n            .addClass('row_' + row[\"row_no\"]);\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"] + i;\r\n          this_label[0].innerText = options[i];\r\n          this_label.addClass(\"custom-control-label\");\r\n      this_div.append(this_input)\r\n              .append(this_label);\r\n      this_cell.innerHTML = this_div[0].outerHTML;\r\n    }\r\n    this_html += this_table[0].outerHTML;\r\n\r\n  } else if(type == \"radio_vertical\"){\r\n    var options = row[\"answers\"].split(\"|\");\r\n    var values  = row[\"values\"].split(\"|\");\r\n    for(var i=0; i<options.length; i++){\r\n      feedback_string = generate_feedback_string(\r\n        feedback_array, i, feedback_color,row\r\n      );\r\n      var this_div = $(\"<div>\");\r\n          this_div\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-radio\");\r\n      var this_input = $(\"<input>\");\r\n          this_input[0].type  = \"radio\";\r\n          this_input[0].id    = row[\"item_name\"] + i;\r\n          this_input[0].value = options[i];\r\n          this_input[0].name  = 'survey_' + row[\"item_name\"];\r\n          this_input\r\n            .addClass(\"custom-control-input\")\r\n            .addClass(row[\"this_class\"])\r\n            .addClass(\"custom-control\")\r\n            .addClass(\"custom-radio\")\r\n            .addClass(\"response\")\r\n            .addClass(row[\"item_name\"] + \"_item_row_\" + row[\"row_no\"]);\r\n      var this_label = $(\"<label>\");\r\n          this_label[0].htmlFor = row[\"item_name\"]+i;\r\n          this_label.addClass(\"custom-control-label\");\r\n          this_label.html(options[i]);\r\n      this_div\r\n        .append(this_input)\r\n        .append(this_label)\r\n        .append(feedback_string);\r\n      this_html += this_div[0].outerHTML;\r\n    }\r\n\r\n  } else if(type == \"text\"){\r\n    var this_input = $(\"<input>\");\r\n        this_input[0].type=\"text\";\r\n        this_input[0].name=\"survey_\" + row['item_name'];\r\n        this_input\r\n          .addClass(\"form-control\")\r\n          .addClass(row[\"item_name\"] + \"_item row_\" + row[\"row_no\"])\r\n          .addClass(\"response\")\r\n    this_html += this_input[0].outerHTML;\r\n  }\r\n\r\n  switch(type){\r\n    case \"checkbox_vertical\":\r\n    case \"radio_vertical\":\r\n      // do nothing\r\n      break;\r\n    default:\r\n      this_html += generate_feedback_string(\r\n        feedback_array,\r\n        0,\r\n        feedback_color,\r\n        row\r\n      );\r\n      break;\r\n  }\r\n\r\n  return (this_html);\r\n}\r\n\r\nfunction write_survey(this_survey, this_id){\r\n  scoring_object.update_scales(this_survey);\r\n  survey_html = \"<table class='table_break' id='table0'>\";\r\n  this_survey_object={\r\n    content:[],\r\n    shuffle_question:[],\r\n    content_new_order:[],\r\n    shuffled_content:[],\r\n    shuffled_arrays:{},\r\n  }\r\n\r\n  survey_html += \"<tr>\";\r\n  for(i = 0; i < this_survey.length; i++){\r\n    row = this_survey[i];\r\n    row_html = process_question(row,i);\r\n\t\tthis_survey_object.content.push(row_html[0]);\r\n    this_survey_object.shuffle_question.push(row_html[1]);\r\n\t}\r\n\r\n\tunique_shuffles = this_survey_object.shuffle_question.filter((v,i,a)=>a.indexOf(v)==i); //by Camilo Martin on https://stackoverflow.com/questions/1960473/unique-values-in-an-array\r\n\r\n\tfor(var i=0;i<unique_shuffles.length;i++){\r\n    if(typeof(unique_shuffles[i]) !== \"undefined\" &&\r\n      unique_shuffles[i] !== \"none\" &&\r\n      unique_shuffles[i] !== \"\"){\r\n        shuffled_content = this_survey_object.shuffle_question.map(function(element,index){\r\n    \t   if(typeof(element)!== \"undefined\" && element.toLowerCase() !== \"none\" && element.toLowerCase() == unique_shuffles[i]){\r\n  \t       return this_survey_object.content[index];\r\n    \t   }\r\n    \t}).filter(elm => typeof(elm) !== \"undefined\");\r\n    \tnew_order = shuffle(shuffled_content);\r\n    \tthis_survey_object.shuffled_arrays[unique_shuffles[i]]=new_order; // add new array with dynamic name\r\n    }\r\n\t}\r\n\r\n\tfor(var i=0;i<this_survey_object.content.length;i++){\r\n    var this_index = Object.keys(this_survey_object.shuffled_arrays).indexOf(this_survey_object.shuffle_question[i]);\r\n    if(this_index !== -1){\r\n      //take first item off relevant list and delete item\r\n      var this_item = this_survey_object.shuffled_arrays[Object.keys(this_survey_object.shuffled_arrays)[this_index]].shift();\r\n      this_survey_object.content_new_order[i]=this_item;\r\n    } else {\r\n      this_survey_object.content_new_order[i]=this_survey_object.content[i];\r\n    }\r\n\t}\r\n\r\n\tqs_in_order = this_survey_object.content_new_order.join(\"</tr><tr>\");\r\n\tqs_in_order += \"</tr>\";\r\n\r\n\tsurvey_html += qs_in_order;\r\n\tsurvey_html += \"</table>\";\r\n\r\n\t$(\"#\" + this_id).html(survey_html);\r\n\r\n  $(\".response\").on(\"change\", function(){\r\n    response_check(this);\r\n  })\r\n\r\n  $(\"#\" + this_id).show(1000); //scroll to top\r\n\r\n\t$(\".show_tab\").on(\"click\",function(){\r\n    if(this.className.indexOf(\"disabled\") == -1){\r\n      $(\".show_tab\").removeClass(\"active\");\r\n      $(\".survey_page\").hide();\r\n      $(\"#\"+this.id.replace(\"_button\",\"\")).show();\r\n    } else {\r\n      bootbox.alert(\"You have not yet unlocked this tab - maybe try clicking on <b>Proceed</b>?\");\r\n    }\r\n\t});\r\n}\r\n\r\n/*\r\n* Load survey\r\n*/\r\ncurrent_survey = \"{{survey}}\";\r\nif(typeof(Phase) !== \"undefined\"){\r\n  Phase.set_timer(function(){\r\n    load_survey(current_survey);\r\n  },100);\r\n} else {\r\n  load_survey(current_survey);\r\n}\r\n</script>\r\n"
        },
        "mods": {},
        "procs_csv": {},
        "stims_csv": {}
      }
    }
  },
  "mods": {},
  "keys": {
    "archived": [],
    "public_key": "WyzeyalvON2lVlVC0POQI89id+uu5G0ntL14G4l+ki0="
  },
  "pathway_mgmt": {
    "pathways": {}
  }
}